var eS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _9=eS((H9,ZC)=>{function tS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function on(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Xe={},Bi=[],nn=()=>{},Fo=()=>!1,gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sf=e=>e.startsWith("onUpdate:"),Qe=Object.assign,uf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},nS=Object.prototype.hasOwnProperty,at=(e,t)=>nS.call(e,t),ve=Array.isArray,Vi=e=>oo(e)==="[object Map]",yi=e=>oo(e)==="[object Set]",Fh=e=>oo(e)==="[object Date]",g1=e=>oo(e)==="[object RegExp]",De=e=>typeof e=="function",Fe=e=>typeof e=="string",Pn=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",lf=e=>(st(e)||De(e))&&De(e.then)&&De(e.catch),em=Object.prototype.toString,oo=e=>em.call(e),y1=e=>oo(e).slice(8,-1),Ou=e=>oo(e)==="[object Object]",cf=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ta=on(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),b1=on("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ff=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rS=/-(\w)/g,dt=ff(e=>e.replace(rS,(t,n)=>n?n.toUpperCase():"")),aS=/\B([A-Z])/g,xn=ff(e=>e.replace(aS,"-$1").toLowerCase()),pr=ff(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ui=ff(e=>e?`on${pr(e)}`:""),vn=(e,t)=>!Object.is(e,t),Wi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},tm=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Zs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},eu=e=>{const t=Fe(e)?Number(e):NaN;return isNaN(t)?e:t};let Og;const Du=()=>Og||(Og=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),iS=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function oS(e){return iS.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}function sS(e,t){return e+JSON.stringify(t,(n,r)=>typeof r=="function"?r.toString():r)}const uS={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},lS={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},cS={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},fS={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},dS={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},hS="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",nm=on(hS),pS=nm,Dg=2;function x1(e,t=0,n=e.length){if(t=Math.max(0,Math.min(t,e.length)),n=Math.max(0,Math.min(n,e.length)),t>n)return"";let r=e.split(/(\r?\n)/);const a=r.filter((s,u)=>u%2===1);r=r.filter((s,u)=>u%2===0);let i=0;const o=[];for(let s=0;s<r.length;s++)if(i+=r[s].length+(a[s]&&a[s].length||0),i>=t){for(let u=s-Dg;u<=s+Dg||n>i;u++){if(u<0||u>=r.length)continue;const l=u+1;o.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${r[u]}`);const c=r[u].length,f=a[u]&&a[u].length||0;if(u===s){const d=t-(i-(c+f)),h=Math.max(1,n>i?c-d:n-t);o.push("   |  "+" ".repeat(d)+"^".repeat(h))}else if(u>s){if(n>i){const d=Math.max(Math.min(n-i,c),1);o.push("   |  "+"^".repeat(d))}i+=c+f}}break}return o.join(`
`)}function ms(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Fe(r)?rm(r):ms(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(Fe(e)||st(e))return e}const mS=/;(?![^(]*\))/g,vS=/:([^]+)/,gS=/\/\*[^]*?\*\//g;function rm(e){const t={};return e.replace(gS,"").split(mS).forEach(n=>{if(n){const r=n.split(vS);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yS(e){if(!e)return"";if(Fe(e))return e;let t="";for(const n in e){const r=e[n];if(Fe(r)||typeof r=="number"){const a=n.startsWith("--")?n:xn(n);t+=`${a}:${r};`}}return t}function ir(e){let t="";if(Fe(e))t=e;else if(ve(e))for(let n=0;n<e.length;n++){const r=ir(e[n]);r&&(t+=r+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function w1(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Fe(t)&&(e.class=ir(t)),n&&(e.style=ms(n)),e}const bS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",xS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",wS="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",_S="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",_1=on(bS),k1=on(xS),E1=on(wS),C1=on(_S),S1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",A1=on(S1),kS=on(S1+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function am(e){return!!e||e===""}const ES=/[>/="'\u0009\u000a\u000c\u0020]/,Id={};function CS(e){if(Id.hasOwnProperty(e))return Id[e];const t=ES.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Id[e]=!t}const SS={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},AS=on("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),TS=on("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),IS=on("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function RS(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}const NS=/["'&<>]/;function OS(e){const t=""+e,n=NS.exec(t);if(!n)return t;let r="",a,i,o=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==i&&(r+=t.slice(o,i)),o=i+1,r+=a}return o!==i?r+t.slice(o,i):r}const DS=/^-?>|<!--|-->|--!>|<!-$/g;function PS(e){return e.replace(DS,"")}const T1=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function FS(e,t){return e.replace(T1,n=>t?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function MS(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oa(e[r],t[r]);return n}function Oa(e,t){if(e===t)return!0;let n=Fh(e),r=Fh(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Pn(e),r=Pn(t),n||r)return e===t;if(n=ve(e),r=ve(t),n||r)return n&&r?MS(e,t):!1;if(n=st(e),r=st(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const o in e){const s=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(s&&!u||!s&&u||!Oa(e[o],t[o]))return!1}}return String(e)===String(t)}function Pu(e,t){return e.findIndex(n=>Oa(n,t))}const I1=e=>!!(e&&e.__v_isRef===!0),Ke=e=>Fe(e)?e:e==null?"":ve(e)||st(e)&&(e.toString===em||!De(e.toString))?I1(e)?Ke(e.value):JSON.stringify(e,R1,2):String(e),R1=(e,t)=>I1(t)?R1(e,t.value):Vi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[Rd(r,i)+" =>"]=a,n),{})}:yi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Rd(n))}:Pn(t)?Rd(t):st(t)&&!ve(t)&&!Ou(t)?String(t):t,Rd=(e,t="")=>{var n;return Pn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e},LS=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:Bi,EMPTY_OBJ:Xe,NO:Fo,NOOP:nn,PatchFlagNames:lS,PatchFlags:uS,ShapeFlags:cS,SlotFlags:fS,camelize:dt,capitalize:pr,cssVarNameEscapeSymbolsRE:T1,def:tm,escapeHtml:OS,escapeHtmlComment:PS,extend:Qe,genCacheKey:sS,genPropsAccessExp:oS,generateCodeFrame:x1,getEscapedCssVarName:FS,getGlobalThis:Du,hasChanged:vn,hasOwn:at,hyphenate:xn,includeBooleanAttr:am,invokeArrayFns:Wi,isArray:ve,isBooleanAttr:kS,isBuiltInDirective:b1,isDate:Fh,isFunction:De,isGloballyAllowed:nm,isGloballyWhitelisted:pS,isHTMLTag:_1,isIntegerKey:cf,isKnownHtmlAttr:AS,isKnownMathMLAttr:IS,isKnownSvgAttr:TS,isMap:Vi,isMathMLTag:E1,isModelListener:sf,isObject:st,isOn:gi,isPlainObject:Ou,isPromise:lf,isRegExp:g1,isRenderableAttrValue:RS,isReservedProp:Ta,isSSRSafeAttrName:CS,isSVGTag:k1,isSet:yi,isSpecialBooleanAttr:A1,isString:Fe,isSymbol:Pn,isVoidTag:C1,looseEqual:Oa,looseIndexOf:Pu,looseToNumber:Zs,makeMap:on,normalizeClass:ir,normalizeProps:w1,normalizeStyle:ms,objectToString:em,parseStringStyle:rm,propsToAttrMap:SS,remove:uf,slotFlagsText:dS,stringifyStyle:yS,toDisplayString:Ke,toHandlerKey:Ui,toNumber:eu,toRawType:y1,toTypeString:oo},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;class im{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rn,!t&&Rn&&(this.index=(Rn.scopes||(Rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Rn;try{return Rn=this,t()}finally{Rn=n}}}on(){Rn=this}off(){Rn=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function df(e){return new im(e)}function N1(){return Rn}function Er(e,t=!1){Rn&&Rn.cleanups.push(e)}let pt;const Nd=new WeakSet;class tu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rn&&Rn.active&&Rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nd.has(this)&&(Nd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||D1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pg(this),P1(this);const t=pt,n=Or;pt=this,Or=!0;try{return this.fn()}finally{F1(this),pt=t,Or=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)um(t);this.deps=this.depsTail=void 0,Pg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mh(this)&&this.run()}get dirty(){return Mh(this)}}let O1=0,Ws,js;function D1(e,t=!1){if(e.flags|=8,t){e.next=js,js=e;return}e.next=Ws,Ws=e}function om(){O1++}function sm(){if(--O1>0)return;if(js){let t=js;for(js=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ws;){let t=Ws;for(Ws=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function P1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function F1(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),um(r),BS(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function Mh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(M1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function M1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===nu))return;e.globalVersion=nu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Mh(e)){e.flags&=-3;return}const n=pt,r=Or;pt=e,Or=!0;try{P1(e);const a=e.fn(e._value);(t.version===0||vn(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{pt=n,Or=r,F1(e),e.flags&=-3}}function um(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)um(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function BS(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function VS(e,t){e.effect instanceof tu&&(e=e.effect.fn);const n=new tu(e);t&&Qe(n,t);try{n.run()}catch(a){throw n.stop(),a}const r=n.run.bind(n);return r.effect=n,r}function US(e){e.effect.stop()}let Or=!0;const L1=[];function bi(){L1.push(Or),Or=!1}function xi(){const e=L1.pop();Or=e===void 0?!0:e}function Pg(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=pt;pt=void 0;try{t()}finally{pt=n}}}let nu=0;class WS{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!pt||!Or||pt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==pt)n=this.activeLink=new WS(pt,this),pt.deps?(n.prevDep=pt.depsTail,pt.depsTail.nextDep=n,pt.depsTail=n):pt.deps=pt.depsTail=n,B1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=pt.depsTail,n.nextDep=void 0,pt.depsTail.nextDep=n,pt.depsTail=n,pt.deps===n&&(pt.deps=r)}return n}trigger(t){this.version++,nu++,this.notify(t)}notify(t){om();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{sm()}}}function B1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)B1(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ic=new WeakMap,ji=Symbol(""),Lh=Symbol(""),ru=Symbol("");function gn(e,t,n){if(Or&&pt){let r=ic.get(e);r||ic.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new hf),a.map=r,a.key=n),a.track()}}function ka(e,t,n,r,a,i){const o=ic.get(e);if(!o){nu++;return}const s=u=>{u&&u.trigger()};if(om(),t==="clear")o.forEach(s);else{const u=ve(e),l=u&&cf(n);if(u&&n==="length"){const c=Number(r);o.forEach((f,d)=>{(d==="length"||d===ru||!Pn(d)&&d>=c)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),l&&s(o.get(ru)),t){case"add":u?l&&s(o.get("length")):(s(o.get(ji)),Vi(e)&&s(o.get(Lh)));break;case"delete":u||(s(o.get(ji)),Vi(e)&&s(o.get(Lh)));break;case"set":Vi(e)&&s(o.get(ji));break}}sm()}function jS(e,t){const n=ic.get(e);return n&&n.get(t)}function bo(e){const t=Ze(e);return t===e?t:(gn(t,"iterate",ru),fr(e)?t:t.map(yn))}function pf(e){return gn(e=Ze(e),"iterate",ru),e}const HS={__proto__:null,[Symbol.iterator](){return Od(this,Symbol.iterator,yn)},concat(...e){return bo(this).concat(...e.map(t=>ve(t)?bo(t):t))},entries(){return Od(this,"entries",e=>(e[1]=yn(e[1]),e))},every(e,t){return pa(this,"every",e,t,void 0,arguments)},filter(e,t){return pa(this,"filter",e,t,n=>n.map(yn),arguments)},find(e,t){return pa(this,"find",e,t,yn,arguments)},findIndex(e,t){return pa(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return pa(this,"findLast",e,t,yn,arguments)},findLastIndex(e,t){return pa(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return pa(this,"forEach",e,t,void 0,arguments)},includes(...e){return Dd(this,"includes",e)},indexOf(...e){return Dd(this,"indexOf",e)},join(e){return bo(this).join(e)},lastIndexOf(...e){return Dd(this,"lastIndexOf",e)},map(e,t){return pa(this,"map",e,t,void 0,arguments)},pop(){return As(this,"pop")},push(...e){return As(this,"push",e)},reduce(e,...t){return Fg(this,"reduce",e,t)},reduceRight(e,...t){return Fg(this,"reduceRight",e,t)},shift(){return As(this,"shift")},some(e,t){return pa(this,"some",e,t,void 0,arguments)},splice(...e){return As(this,"splice",e)},toReversed(){return bo(this).toReversed()},toSorted(e){return bo(this).toSorted(e)},toSpliced(...e){return bo(this).toSpliced(...e)},unshift(...e){return As(this,"unshift",e)},values(){return Od(this,"values",yn)}};function Od(e,t,n){const r=pf(e),a=r[t]();return r!==e&&!fr(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const zS=Array.prototype;function pa(e,t,n,r,a,i){const o=pf(e),s=o!==e&&!fr(e),u=o[t];if(u!==zS[t]){const f=u.apply(e,i);return s?yn(f):f}let l=n;o!==e&&(s?l=function(f,d){return n.call(this,yn(f),d,e)}:n.length>2&&(l=function(f,d){return n.call(this,f,d,e)}));const c=u.call(o,l,r);return s&&a?a(c):c}function Fg(e,t,n,r){const a=pf(e);let i=n;return a!==e&&(fr(e)?n.length>3&&(i=function(o,s,u){return n.call(this,o,s,u,e)}):i=function(o,s,u){return n.call(this,o,yn(s),u,e)}),a[t](i,...r)}function Dd(e,t,n){const r=Ze(e);gn(r,"iterate",ru);const a=r[t](...n);return(a===-1||a===!1)&&gf(n[0])?(n[0]=Ze(n[0]),r[t](...n)):a}function As(e,t,n=[]){bi(),om();const r=Ze(e)[t].apply(e,n);return sm(),xi(),r}const GS=on("__proto__,__v_isRef,__isVue"),V1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pn));function KS(e){Pn(e)||(e=String(e));const t=Ze(this);return gn(t,"has",e),t.hasOwnProperty(e)}class U1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?K1:G1:i?z1:H1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ve(t);if(!a){let u;if(o&&(u=HS[n]))return u;if(n==="hasOwnProperty")return KS}const s=Reflect.get(t,n,yt(t)?t:r);return(Pn(n)?V1.has(n):GS(n))||(a||gn(t,"get",n),i)?s:yt(s)?o&&cf(n)?s:s.value:st(s)?a?vs(s):Dt(s):s}}class W1 extends U1{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const u=fi(i);if(!fr(r)&&!fi(r)&&(i=Ze(i),r=Ze(r)),!ve(t)&&yt(i)&&!yt(r))return u?!1:(i.value=r,!0)}const o=ve(t)&&cf(n)?Number(n)<t.length:at(t,n),s=Reflect.set(t,n,r,yt(t)?t:a);return t===Ze(a)&&(o?vn(r,i)&&ka(t,"set",n,r):ka(t,"add",n,r)),s}deleteProperty(t,n){const r=at(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&ka(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Pn(n)||!V1.has(n))&&gn(t,"has",n),r}ownKeys(t){return gn(t,"iterate",ve(t)?"length":ji),Reflect.ownKeys(t)}}class j1 extends U1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qS=new W1,$S=new j1,XS=new W1(!0),YS=new j1(!0),Bh=e=>e,fl=e=>Reflect.getPrototypeOf(e);function JS(e,t,n){return function(...r){const a=this.__v_raw,i=Ze(a),o=Vi(i),s=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,l=a[e](...r),c=n?Bh:t?Vh:yn;return!t&&gn(i,"iterate",u?Lh:ji),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function dl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function QS(e,t){const n={get(a){const i=this.__v_raw,o=Ze(i),s=Ze(a);e||(vn(a,s)&&gn(o,"get",a),gn(o,"get",s));const{has:u}=fl(o),l=t?Bh:e?Vh:yn;if(u.call(o,a))return l(i.get(a));if(u.call(o,s))return l(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&gn(Ze(a),"iterate",ji),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=Ze(i),s=Ze(a);return e||(vn(a,s)&&gn(o,"has",a),gn(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,u=Ze(s),l=t?Bh:e?Vh:yn;return!e&&gn(u,"iterate",ji),s.forEach((c,f)=>a.call(i,l(c),l(f),o))}};return Qe(n,e?{add:dl("add"),set:dl("set"),delete:dl("delete"),clear:dl("clear")}:{add(a){!t&&!fr(a)&&!fi(a)&&(a=Ze(a));const i=Ze(this);return fl(i).has.call(i,a)||(i.add(a),ka(i,"add",a,a)),this},set(a,i){!t&&!fr(i)&&!fi(i)&&(i=Ze(i));const o=Ze(this),{has:s,get:u}=fl(o);let l=s.call(o,a);l||(a=Ze(a),l=s.call(o,a));const c=u.call(o,a);return o.set(a,i),l?vn(i,c)&&ka(o,"set",a,i):ka(o,"add",a,i),this},delete(a){const i=Ze(this),{has:o,get:s}=fl(i);let u=o.call(i,a);u||(a=Ze(a),u=o.call(i,a)),s&&s.call(i,a);const l=i.delete(a);return u&&ka(i,"delete",a,void 0),l},clear(){const a=Ze(this),i=a.size!==0,o=a.clear();return i&&ka(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=JS(a,e,t)}),n}function mf(e,t){const n=QS(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(at(n,a)&&a in r?n:r,a,i)}const ZS={get:mf(!1,!1)},eA={get:mf(!1,!0)},tA={get:mf(!0,!1)},nA={get:mf(!0,!0)},H1=new WeakMap,z1=new WeakMap,G1=new WeakMap,K1=new WeakMap;function rA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aA(e){return e.__v_skip||!Object.isExtensible(e)?0:rA(y1(e))}function Dt(e){return fi(e)?e:vf(e,!1,qS,ZS,H1)}function lm(e){return vf(e,!1,XS,eA,z1)}function vs(e){return vf(e,!0,$S,tA,G1)}function iA(e){return vf(e,!0,YS,nA,K1)}function vf(e,t,n,r,a){if(!st(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=aA(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function ai(e){return fi(e)?ai(e.__v_raw):!!(e&&e.__v_isReactive)}function fi(e){return!!(e&&e.__v_isReadonly)}function fr(e){return!!(e&&e.__v_isShallow)}function gf(e){return e?!!e.__v_raw:!1}function Ze(e){const t=e&&e.__v_raw;return t?Ze(t):e}function cm(e){return!at(e,"__v_skip")&&Object.isExtensible(e)&&tm(e,"__v_skip",!0),e}const yn=e=>st(e)?Dt(e):e,Vh=e=>st(e)?vs(e):e;function yt(e){return e?e.__v_isRef===!0:!1}function fe(e){return q1(e,!1)}function rt(e){return q1(e,!0)}function q1(e,t){return yt(e)?e:new oA(e,t)}class oA{constructor(t,n){this.dep=new hf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ze(t),this._value=n?t:yn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||fr(t)||fi(t);t=r?t:Ze(t),vn(t,n)&&(this._rawValue=t,this._value=r?t:yn(t),this.dep.trigger())}}function sA(e){e.dep&&e.dep.trigger()}function ft(e){return yt(e)?e.value:e}function uA(e){return De(e)?e():ft(e)}const lA={get:(e,t,n)=>t==="__v_raw"?e:ft(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return yt(a)&&!yt(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function fm(e){return ai(e)?e:new Proxy(e,lA)}class cA{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new hf,{get:r,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function $1(e){return new cA(e)}function Fu(e){const t=ve(e)?new Array(e.length):{};for(const n in e)t[n]=X1(e,n);return t}class fA{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jS(Ze(this._object),this._key)}}class dA{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tn(e,t,n){return yt(e)?e:De(e)?new dA(e):st(e)&&arguments.length>1?X1(e,t,n):fe(e)}function X1(e,t,n){const r=e[t];return yt(r)?r:new fA(e,t,n)}class hA{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new hf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&pt!==this)return D1(this,!0),!0}get value(){const t=this.dep.track();return M1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pA(e,t,n=!1){let r,a;return De(e)?r=e:(r=e.get,a=e.set),new hA(r,a,n)}const mA={GET:"get",HAS:"has",ITERATE:"iterate"},vA={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},hl={},oc=new WeakMap;let Xa;function gA(){return Xa}function Y1(e,t=!1,n=Xa){if(n){let r=oc.get(n);r||oc.set(n,r=[]),r.push(e)}}function yA(e,t,n=Xe){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:s,call:u}=n,l=b=>a?b:fr(b)||a===!1||a===0?Ea(b,1):Ea(b);let c,f,d,h,m=!1,p=!1;if(yt(e)?(f=()=>e.value,m=fr(e)):ai(e)?(f=()=>l(e),m=!0):ve(e)?(p=!0,m=e.some(b=>ai(b)||fr(b)),f=()=>e.map(b=>{if(yt(b))return b.value;if(ai(b))return l(b);if(De(b))return u?u(b,2):b()})):De(e)?t?f=u?()=>u(e,2):e:f=()=>{if(d){bi();try{d()}finally{xi()}}const b=Xa;Xa=c;try{return u?u(e,3,[h]):e(h)}finally{Xa=b}}:f=nn,t&&a){const b=f,w=a===!0?1/0:a;f=()=>Ea(b(),w)}const v=N1(),g=()=>{c.stop(),v&&v.active&&uf(v.effects,c)};if(i&&t){const b=t;t=(...w)=>{b(...w),g()}}let x=p?new Array(e.length).fill(hl):hl;const y=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const w=c.run();if(a||m||(p?w.some((_,S)=>vn(_,x[S])):vn(w,x))){d&&d();const _=Xa;Xa=c;try{const S=[w,x===hl?void 0:p&&x[0]===hl?[]:x,h];u?u(t,3,S):t(...S),x=w}finally{Xa=_}}}else c.run()};return s&&s(y),c=new tu(f),c.scheduler=o?()=>o(y,!1):y,h=b=>Y1(b,!1,c),d=c.onStop=()=>{const b=oc.get(c);if(b){if(u)u(b,4);else for(const w of b)w();oc.delete(c)}},t?r?y(!0):x=c.run():o?o(y.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function Ea(e,t=1/0,n){if(t<=0||!st(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,yt(e))Ea(e.value,t,n);else if(ve(e))for(let r=0;r<e.length;r++)Ea(e[r],t,n);else if(yi(e)||Vi(e))e.forEach(r=>{Ea(r,t,n)});else if(Ou(e)){for(const r in e)Ea(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ea(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const J1=[];function bA(e){J1.push(e)}function xA(){J1.pop()}function wA(e,t){}const _A={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},kA={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function gs(e,t,n,r){try{return r?e(...r):e()}catch(a){so(a,t,n)}}function kr(e,t,n,r){if(De(e)){const a=gs(e,t,n,r);return a&&lf(a)&&a.catch(i=>{so(i,t,n)}),a}if(ve(e)){const a=[];for(let i=0;i<e.length;i++)a.push(kr(e[i],t,n,r));return a}}function so(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Xe;if(t){let s=t.parent;const u=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,u,l)===!1)return}s=s.parent}if(i){bi(),gs(i,null,10,[e,u,l]),xi();return}}EA(e,n,a,r,o)}function EA(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Nn=[];let Kr=-1;const Bo=[];let Ya=null,To=0;const Q1=Promise.resolve();let sc=null;function Jn(e){const t=sc||Q1;return e?t.then(this?e.bind(this):e):t}function CA(e){let t=Kr+1,n=Nn.length;for(;t<n;){const r=t+n>>>1,a=Nn[r],i=iu(a);i<e||i===e&&a.flags&2?t=r+1:n=r}return t}function dm(e){if(!(e.flags&1)){const t=iu(e),n=Nn[Nn.length-1];!n||!(e.flags&2)&&t>=iu(n)?Nn.push(e):Nn.splice(CA(t),0,e),e.flags|=1,Z1()}}function Z1(){sc||(sc=Q1.then(ex))}function au(e){ve(e)?Bo.push(...e):Ya&&e.id===-1?Ya.splice(To+1,0,e):e.flags&1||(Bo.push(e),e.flags|=1),Z1()}function Mg(e,t,n=Kr+1){for(;n<Nn.length;n++){const r=Nn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Nn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function uc(e){if(Bo.length){const t=[...new Set(Bo)].sort((n,r)=>iu(n)-iu(r));if(Bo.length=0,Ya){Ya.push(...t);return}for(Ya=t,To=0;To<Ya.length;To++){const n=Ya[To];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ya=null,To=0}}const iu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ex(e){try{for(Kr=0;Kr<Nn.length;Kr++){const t=Nn[Kr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Kr<Nn.length;Kr++){const t=Nn[Kr];t&&(t.flags&=-2)}Kr=-1,Nn.length=0,uc(),sc=null,(Nn.length||Bo.length)&&ex()}}let Io,pl=[];function tx(e,t){var n,r;Io=e,Io?(Io.enabled=!0,pl.forEach(({event:a,args:i})=>Io.emit(a,...i)),pl=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{tx(i,t)}),setTimeout(()=>{Io||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pl=[])},3e3)):pl=[]}let Ht=null,yf=null;function ou(e){const t=Ht;return Ht=e,yf=e&&e.type.__scopeId||null,t}function SA(e){yf=e}function AA(){yf=null}const TA=e=>Le;function Le(e,t=Ht,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&qh(-1);const i=ou(t);let o;try{o=e(...a)}finally{ou(i),r._d&&qh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function zt(e,t){if(Ht===null)return e;const n=Uu(Ht),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,u=Xe]=t[a];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Ea(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:u}))}return e}function $r(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let u=s.dir[r];u&&(bi(),kr(u,n,8,[e.el,s,e,t]),xi())}}const nx=Symbol("_vte"),rx=e=>e.__isTeleport,Hs=e=>e&&(e.disabled||e.disabled===""),Lg=e=>e&&(e.defer||e.defer===""),Bg=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Vg=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Uh=(e,t)=>{const n=e&&e.to;return Fe(n)?t?t(n):null:n},ax={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,u,l){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:p,createComment:v}}=l,g=Hs(t.props);let{shapeFlag:x,children:y,dynamicChildren:b}=t;if(e==null){const w=t.el=p(""),_=t.anchor=p("");h(w,n,r),h(_,n,r);const S=(k,E)=>{x&16&&(a&&a.isCE&&(a.ce._teleportTarget=k),c(y,k,E,a,i,o,s,u))},C=()=>{const k=t.target=Uh(t.props,m),E=ox(k,t,p,h);k&&(o!=="svg"&&Bg(k)?o="svg":o!=="mathml"&&Vg(k)&&(o="mathml"),g||(S(k,E),Wl(t,!1)))};g&&(S(n,_),Wl(t,!0)),Lg(t.props)?Wt(()=>{C(),t.el.__isMounted=!0},i):C()}else{if(Lg(t.props)&&!e.el.__isMounted){Wt(()=>{ax.process(e,t,n,r,a,i,o,s,u,l),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const w=t.anchor=e.anchor,_=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=Hs(e.props),k=C?n:_,E=C?w:S;if(o==="svg"||Bg(_)?o="svg":(o==="mathml"||Vg(_))&&(o="mathml"),b?(d(e.dynamicChildren,b,k,a,i,o,s),Cm(e,t,!0)):u||f(e,t,k,E,a,i,o,s,!1),g)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ml(t,n,w,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=Uh(t.props,m);T&&ml(t,T,null,l,0)}else C&&ml(t,_,S,l,1);Wl(t,g)}},remove(e,t,n,{um:r,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:u,targetStart:l,targetAnchor:c,target:f,props:d}=e;if(f&&(a(l),a(c)),i&&a(u),o&16){const h=i||!Hs(d);for(let m=0;m<s.length;m++){const p=s[m];r(p,t,n,h,!!p.dynamicChildren)}}},move:ml,hydrate:IA};function ml(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:u,children:l,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||Hs(c))&&u&16)for(let d=0;d<l.length;d++)a(l[d],t,n,2);f&&r(s,t,n)}function IA(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:u,insert:l,createText:c}},f){const d=t.target=Uh(t.props,u);if(d){const h=Hs(t.props),m=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),n,r,a,i),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}p=o(p)}t.targetAnchor||ox(d,t,c,l),f(m&&o(m),t,d,n,r,a,i)}Wl(t,h)}return t.anchor&&o(t.anchor)}const ix=ax;function Wl(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ox(e,t,n,r){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[nx]=i,e&&(r(a,e),r(i,e)),i}const Ja=Symbol("_leaveCb"),vl=Symbol("_enterCb");function hm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St(()=>{e.isMounted=!0}),Fn(()=>{e.isUnmounting=!0}),e}const gr=[Function,Array],pm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gr,onEnter:gr,onAfterEnter:gr,onEnterCancelled:gr,onBeforeLeave:gr,onLeave:gr,onAfterLeave:gr,onLeaveCancelled:gr,onBeforeAppear:gr,onAppear:gr,onAfterAppear:gr,onAppearCancelled:gr},sx=e=>{const t=e.subTree;return t.component?sx(t.component):t},RA={name:"BaseTransition",props:pm,setup(e,{slots:t}){const n=Qn(),r=hm();return()=>{const a=t.default&&bf(t.default(),!0);if(!a||!a.length)return;const i=ux(a),o=Ze(e),{mode:s}=o;if(r.isLeaving)return Pd(i);const u=Ug(i);if(!u)return Pd(i);let l=Yo(u,o,r,n,f=>l=f);u.type!==Mt&&Da(u,l);let c=n.subTree&&Ug(n.subTree);if(c&&c.type!==Mt&&!Rr(u,c)&&sx(n).type!==Mt){let f=Yo(c,o,r,n);if(Da(c,f),s==="out-in"&&u.type!==Mt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},Pd(i);s==="in-out"&&u.type!==Mt?f.delayLeave=(d,h,m)=>{const p=cx(r,c);p[String(c.key)]=c,d[Ja]=()=>{h(),d[Ja]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function ux(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Mt){t=n;break}}return t}const lx=RA;function cx(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yo(e,t,n,r,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:v,onAppear:g,onAfterAppear:x,onAppearCancelled:y}=t,b=String(e.key),w=cx(n,e),_=(k,E)=>{k&&kr(k,r,9,E)},S=(k,E)=>{const T=E[1];_(k,E),ve(k)?k.every(A=>A.length<=1)&&T():k.length<=1&&T()},C={mode:o,persisted:s,beforeEnter(k){let E=u;if(!n.isMounted)if(i)E=v||u;else return;k[Ja]&&k[Ja](!0);const T=w[b];T&&Rr(e,T)&&T.el[Ja]&&T.el[Ja](),_(E,[k])},enter(k){let E=l,T=c,A=f;if(!n.isMounted)if(i)E=g||l,T=x||c,A=y||f;else return;let I=!1;const D=k[vl]=M=>{I||(I=!0,M?_(A,[k]):_(T,[k]),C.delayedLeave&&C.delayedLeave(),k[vl]=void 0)};E?S(E,[k,D]):D()},leave(k,E){const T=String(e.key);if(k[vl]&&k[vl](!0),n.isUnmounting)return E();_(d,[k]);let A=!1;const I=k[Ja]=D=>{A||(A=!0,E(),D?_(p,[k]):_(m,[k]),k[Ja]=void 0,w[T]===e&&delete w[T])};w[T]=e,h?S(h,[k,I]):I()},clone(k){const E=Yo(k,t,n,r,a);return a&&a(E),E}};return C}function Pd(e){if(Mu(e))return e=ra(e),e.children=null,e}function Ug(e){if(!Mu(e))return rx(e.type)&&e.children?ux(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&De(n.default))return n.default()}}function Da(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Da(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function bf(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ye?(o.patchFlag&128&&a++,r=r.concat(bf(o.children,t,s))):(t||o.type!==Mt)&&r.push(s!=null?ra(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Xt(e,t){return De(e)?Qe({name:e.name},t,{setup:e}):e}function NA(){const e=Qn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function mm(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function OA(e){const t=Qn(),n=rt(null);if(t){const a=t.refs===Xe?t.refs={}:t.refs;Object.defineProperty(a,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function su(e,t,n,r,a=!1){if(ve(e)){e.forEach((m,p)=>su(m,t&&(ve(t)?t[p]:t),n,r,a));return}if(ii(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&su(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Uu(r.component):r.el,o=a?null:i,{i:s,r:u}=e,l=t&&t.r,c=s.refs===Xe?s.refs={}:s.refs,f=s.setupState,d=Ze(f),h=f===Xe?()=>!1:m=>at(d,m);if(l!=null&&l!==u&&(Fe(l)?(c[l]=null,h(l)&&(f[l]=null)):yt(l)&&(l.value=null)),De(u))gs(u,s,12,[o,c]);else{const m=Fe(u),p=yt(u);if(m||p){const v=()=>{if(e.f){const g=m?h(u)?f[u]:c[u]:u.value;a?ve(g)&&uf(g,i):ve(g)?g.includes(i)||g.push(i):m?(c[u]=[i],h(u)&&(f[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else m?(c[u]=o,h(u)&&(f[u]=o)):p&&(u.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,Wt(v,n)):v()}}}let Wg=!1;const xo=()=>{Wg||(console.error("Hydration completed but contains mismatches."),Wg=!0)},DA=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",PA=e=>e.namespaceURI.includes("MathML"),gl=e=>{if(e.nodeType===1){if(DA(e))return"svg";if(PA(e))return"mathml"}},Mo=e=>e.nodeType===8;function FA(e){const{mt:t,p:n,o:{patchProp:r,createText:a,nextSibling:i,parentNode:o,remove:s,insert:u,createComment:l}}=e,c=(y,b)=>{if(!b.hasChildNodes()){n(null,y,b),uc(),b._vnode=y;return}f(b.firstChild,y,null,null,null),uc(),b._vnode=y},f=(y,b,w,_,S,C=!1)=>{C=C||!!b.dynamicChildren;const k=Mo(y)&&y.data==="[",E=()=>p(y,b,w,_,S,k),{type:T,ref:A,shapeFlag:I,patchFlag:D}=b;let M=y.nodeType;b.el=y,D===-2&&(C=!1,b.dynamicChildren=null);let L=null;switch(T){case Ia:M!==3?b.children===""?(u(b.el=a(""),o(y),y),L=y):L=E():(y.data!==b.children&&(xo(),y.data=b.children),L=i(y));break;case Mt:x(y)?(L=i(y),g(b.el=y.content.firstChild,y,w)):M!==8||k?L=E():L=i(y);break;case zi:if(k&&(y=i(y),M=y.nodeType),M===1||M===3){L=y;const W=!b.children.length;for(let V=0;V<b.staticCount;V++)W&&(b.children+=L.nodeType===1?L.outerHTML:L.data),V===b.staticCount-1&&(b.anchor=L),L=i(L);return k?i(L):L}else E();break;case Ye:k?L=m(y,b,w,_,S,C):L=E();break;default:if(I&1)(M!==1||b.type.toLowerCase()!==y.tagName.toLowerCase())&&!x(y)?L=E():L=d(y,b,w,_,S,C);else if(I&6){b.slotScopeIds=S;const W=o(y);if(k?L=v(y):Mo(y)&&y.data==="teleport start"?L=v(y,y.data,"teleport end"):L=i(y),t(b,W,null,w,_,gl(W),C),ii(b)&&!b.type.__asyncResolved){let V;k?(V=j(Ye),V.anchor=L?L.previousSibling:W.lastChild):V=y.nodeType===3?_t(""):j("div"),V.el=y,b.component.subTree=V}}else I&64?M!==8?L=E():L=b.type.hydrate(y,b,w,_,S,C,e,h):I&128&&(L=b.type.hydrate(y,b,w,_,gl(o(y)),S,C,e,f))}return A!=null&&su(A,null,_,b),L},d=(y,b,w,_,S,C)=>{C=C||!!b.dynamicChildren;const{type:k,props:E,patchFlag:T,shapeFlag:A,dirs:I,transition:D}=b,M=k==="input"||k==="option";if(M||T!==-1){I&&$r(b,null,w,"created");let L=!1;if(x(y)){L=Px(null,D)&&w&&w.vnode.props&&w.vnode.props.appear;const V=y.content.firstChild;L&&D.beforeEnter(V),g(V,y,w),b.el=y=V}if(A&16&&!(E&&(E.innerHTML||E.textContent))){let V=h(y.firstChild,b,y,w,_,S,C);for(;V;){yl(y,1)||xo();const H=V;V=V.nextSibling,s(H)}}else if(A&8){let V=b.children;V[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(V=V.slice(1)),y.textContent!==V&&(yl(y,0)||xo(),y.textContent=b.children)}if(E){if(M||!C||T&48){const V=y.tagName.includes("-");for(const H in E)(M&&(H.endsWith("value")||H==="indeterminate")||gi(H)&&!Ta(H)||H[0]==="."||V)&&r(y,H,null,E[H],void 0,w)}else if(E.onClick)r(y,"onClick",null,E.onClick,void 0,w);else if(T&4&&ai(E.style))for(const V in E.style)E.style[V]}let W;(W=E&&E.onVnodeBeforeMount)&&Bn(W,w,b),I&&$r(b,null,w,"beforeMount"),((W=E&&E.onVnodeMounted)||I||L)&&Hx(()=>{W&&Bn(W,w,b),L&&D.enter(y),I&&$r(b,null,w,"mounted")},_)}return y.nextSibling},h=(y,b,w,_,S,C,k)=>{k=k||!!b.dynamicChildren;const E=b.children,T=E.length;for(let A=0;A<T;A++){const I=k?E[A]:E[A]=Vn(E[A]),D=I.type===Ia;y?(D&&!k&&A+1<T&&Vn(E[A+1]).type===Ia&&(u(a(y.data.slice(I.children.length)),w,i(y)),y.data=I.children),y=f(y,I,_,S,C,k)):D&&!I.children?u(I.el=a(""),w):(yl(w,1)||xo(),n(null,I,w,null,_,S,gl(w),C))}return y},m=(y,b,w,_,S,C)=>{const{slotScopeIds:k}=b;k&&(S=S?S.concat(k):k);const E=o(y),T=h(i(y),b,E,w,_,S,C);return T&&Mo(T)&&T.data==="]"?i(b.anchor=T):(xo(),u(b.anchor=l("]"),E,T),T)},p=(y,b,w,_,S,C)=>{if(yl(y.parentElement,1)||xo(),b.el=null,C){const T=v(y);for(;;){const A=i(y);if(A&&A!==T)s(A);else break}}const k=i(y),E=o(y);return s(y),n(null,b,E,k,w,_,gl(E),S),w&&(w.vnode.el=b.el,kf(w,b.el)),k},v=(y,b="[",w="]")=>{let _=0;for(;y;)if(y=i(y),y&&Mo(y)&&(y.data===b&&_++,y.data===w)){if(_===0)return i(y);_--}return y},g=(y,b,w)=>{const _=b.parentNode;_&&_.replaceChild(y,b);let S=w;for(;S;)S.vnode.el===b&&(S.vnode.el=S.subTree.el=y),S=S.parent},x=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[c,f]}const jg="data-allow-mismatch",MA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function yl(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(jg);)e=e.parentElement;const n=e&&e.getAttribute(jg);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(MA[t])}}const LA=Du().requestIdleCallback||(e=>setTimeout(e,1)),BA=Du().cancelIdleCallback||(e=>clearTimeout(e)),VA=(e=1e4)=>t=>{const n=LA(t,{timeout:e});return()=>BA(n)};function UA(e){const{top:t,left:n,bottom:r,right:a}=e.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(t>0&&t<i||r>0&&r<i)&&(n>0&&n<o||a>0&&a<o)}const WA=e=>(t,n)=>{const r=new IntersectionObserver(a=>{for(const i of a)if(i.isIntersecting){r.disconnect(),t();break}},e);return n(a=>{if(a instanceof Element){if(UA(a))return t(),r.disconnect(),!1;r.observe(a)}}),()=>r.disconnect()},jA=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},HA=(e=[])=>(t,n)=>{Fe(e)&&(e=[e]);let r=!1;const a=o=>{r||(r=!0,i(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const s of e)o.removeEventListener(s,a)})};return n(o=>{for(const s of e)o.addEventListener(s,a,{once:!0})}),i};function zA(e,t){if(Mo(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Mo(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const ii=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function GA(e){De(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:a=200,hydrate:i,timeout:o,suspensible:s=!0,onError:u}=e;let l=null,c,f=0;const d=()=>(f++,l=null,h()),h=()=>{let m;return l||(m=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),u)return new Promise((v,g)=>{u(p,()=>v(d()),()=>g(p),f+1)});throw p}).then(p=>m!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Xt({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(m,p,v){const g=i?()=>{const x=i(v,y=>zA(m,y));x&&(p.bum||(p.bum=[])).push(x)}:v;c?g():h().then(()=>!p.isUnmounted&&g())},get __asyncResolved(){return c},setup(){const m=jt;if(mm(m),c)return()=>Fd(c,m);const p=y=>{l=null,so(y,m,13,!r)};if(s&&m.suspense||Jo)return h().then(y=>()=>Fd(y,m)).catch(y=>(p(y),()=>r?j(r,{error:y}):null));const v=fe(!1),g=fe(),x=fe(!!a);return a&&setTimeout(()=>{x.value=!1},a),o!=null&&setTimeout(()=>{if(!v.value&&!g.value){const y=new Error(`Async component timed out after ${o}ms.`);p(y),g.value=y}},o),h().then(()=>{v.value=!0,m.parent&&Mu(m.parent.vnode)&&m.parent.update()}).catch(y=>{p(y),g.value=y}),()=>{if(v.value&&c)return Fd(c,m);if(g.value&&r)return j(r,{error:g.value});if(n&&!x.value)return j(n)}}})}function Fd(e,t){const{ref:n,props:r,children:a,ce:i}=t.vnode,o=j(e,r,a);return o.ref=n,o.ce=i,delete t.vnode.ce,o}const Mu=e=>e.type.__isKeepAlive,KA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Qn(),r=n.ctx;if(!r.renderer)return()=>{const x=t.default&&t.default();return x&&x.length===1?x[0]:x};const a=new Map,i=new Set;let o=null;const s=n.suspense,{renderer:{p:u,m:l,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(x,y,b,w,_)=>{const S=x.component;l(x,y,b,0,s),u(S.vnode,x,y,b,S,s,w,x.slotScopeIds,_),Wt(()=>{S.isDeactivated=!1,S.a&&Wi(S.a);const C=x.props&&x.props.onVnodeMounted;C&&Bn(C,S.parent,x)},s)},r.deactivate=x=>{const y=x.component;cc(y.m),cc(y.a),l(x,d,null,1,s),Wt(()=>{y.da&&Wi(y.da);const b=x.props&&x.props.onVnodeUnmounted;b&&Bn(b,y.parent,x),y.isDeactivated=!0},s)};function h(x){Md(x),c(x,n,s,!0)}function m(x){a.forEach((y,b)=>{const w=Qh(y.type);w&&!x(w)&&p(b)})}function p(x){const y=a.get(x);y&&(!o||!Rr(y,o))?h(y):o&&Md(o),a.delete(x),i.delete(x)}Ge(()=>[e.include,e.exclude],([x,y])=>{x&&m(b=>Ls(x,b)),y&&m(b=>!Ls(y,b))},{flush:"post",deep:!0});let v=null;const g=()=>{v!=null&&(fc(n.subTree.type)?Wt(()=>{a.set(v,bl(n.subTree))},n.subTree.suspense):a.set(v,bl(n.subTree)))};return St(g),Lu(g),Fn(()=>{a.forEach(x=>{const{subTree:y,suspense:b}=n,w=bl(y);if(x.type===w.type&&x.key===w.key){Md(w);const _=w.component.da;_&&Wt(_,b);return}h(x)})}),()=>{if(v=null,!t.default)return o=null;const x=t.default(),y=x[0];if(x.length>1)return o=null,x;if(!Pa(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let b=bl(y);if(b.type===Mt)return o=null,b;const w=b.type,_=Qh(ii(b)?b.type.__asyncResolved||{}:w),{include:S,exclude:C,max:k}=e;if(S&&(!_||!Ls(S,_))||C&&_&&Ls(C,_))return b.shapeFlag&=-257,o=b,y;const E=b.key==null?w:b.key,T=a.get(E);return b.el&&(b=ra(b),y.shapeFlag&128&&(y.ssContent=b)),v=E,T?(b.el=T.el,b.component=T.component,b.transition&&Da(b,b.transition),b.shapeFlag|=512,i.delete(E),i.add(E)):(i.add(E),k&&i.size>parseInt(k,10)&&p(i.values().next().value)),b.shapeFlag|=256,o=b,fc(y.type)?y:b}}},qA=KA;function Ls(e,t){return ve(e)?e.some(n=>Ls(n,t)):Fe(e)?e.split(",").includes(t):g1(e)?(e.lastIndex=0,e.test(t)):!1}function vm(e,t){fx(e,"a",t)}function gm(e,t){fx(e,"da",t)}function fx(e,t,n=jt){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(xf(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Mu(a.parent.vnode)&&$A(r,t,n,a),a=a.parent}}function $A(e,t,n,r){const a=xf(t,e,r,!0);Bu(()=>{uf(r[t],a)},n)}function Md(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function bl(e){return e.shapeFlag&128?e.ssContent:e}function xf(e,t,n=jt,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{bi();const s=Qi(n),u=kr(t,n,e,o);return s(),xi(),u});return r?a.unshift(i):a.push(i),i}}const Ma=e=>(t,n=jt)=>{(!Jo||e==="sp")&&xf(e,(...r)=>t(...r),n)},ym=Ma("bm"),St=Ma("m"),bm=Ma("bu"),Lu=Ma("u"),Fn=Ma("bum"),Bu=Ma("um"),dx=Ma("sp"),hx=Ma("rtg"),px=Ma("rtc");function mx(e,t=jt){xf("ec",e,t)}const xm="components",XA="directives";function YA(e,t){return wm(xm,e,!0,t)||e}const vx=Symbol.for("v-ndc");function gx(e){return Fe(e)?wm(xm,e,!1)||e:e||vx}function wf(e){return wm(XA,e)}function wm(e,t,n=!0,r=!1){const a=Ht||jt;if(a){const i=a.type;if(e===xm){const s=Qh(i,!1);if(s&&(s===t||s===dt(t)||s===pr(dt(t))))return i}const o=Hg(a[e]||i[e],t)||Hg(a.appContext[e],t);return!o&&r?i:o}}function Hg(e,t){return e&&(e[t]||e[dt(t)]||e[pr(dt(t))])}function Dr(e,t,n,r){let a;const i=n&&n[r],o=ve(e);if(o||Fe(e)){const s=o&&ai(e);let u=!1;s&&(u=!fr(e),e=pf(e)),a=new Array(e.length);for(let l=0,c=e.length;l<c;l++)a[l]=t(u?yn(e[l]):e[l],l,void 0,i&&i[l])}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i&&i[s])}else if(st(e))if(e[Symbol.iterator])a=Array.from(e,(s,u)=>t(s,u,void 0,i&&i[u]));else{const s=Object.keys(e);a=new Array(s.length);for(let u=0,l=s.length;u<l;u++){const c=s[u];a[u]=t(e[c],c,u,i&&i[u])}}else a=[];return n&&(n[r]=a),a}function JA(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ve(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function yx(e,t,n={},r,a){if(Ht.ce||Ht.parent&&ii(Ht.parent)&&Ht.parent.ce)return t!=="default"&&(n.name=t),ge(),$n(Ye,null,[j("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),ge();const o=i&&_m(i(n)),s=n.key||o&&o.key,u=$n(Ye,{key:(s&&!Pn(s)?s:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function _m(e){return e.some(t=>Pa(t)?!(t.type===Mt||t.type===Ye&&!_m(t.children)):!0)?e:null}function QA(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Ui(r)]=e[r];return n}const Wh=e=>e?Xx(e)?Uu(e):Wh(e.parent):null,zs=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wh(e.parent),$root:e=>Wh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>km(e),$forceUpdate:e=>e.f||(e.f=()=>{dm(e.update)}),$nextTick:e=>e.n||(e.n=Jn.bind(e.proxy)),$watch:e=>IT.bind(e)}),Ld=(e,t)=>e!==Xe&&!e.__isScriptSetup&&at(e,t),jh={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:u}=e;let l;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(Ld(r,t))return o[t]=1,r[t];if(a!==Xe&&at(a,t))return o[t]=2,a[t];if((l=e.propsOptions[0])&&at(l,t))return o[t]=3,i[t];if(n!==Xe&&at(n,t))return o[t]=4,n[t];Hh&&(o[t]=0)}}const c=zs[t];let f,d;if(c)return t==="$attrs"&&gn(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==Xe&&at(n,t))return o[t]=4,n[t];if(d=u.config.globalProperties,at(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return Ld(a,t)?(a[t]=n,!0):r!==Xe&&at(r,t)?(r[t]=n,!0):at(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==Xe&&at(e,o)||Ld(t,o)||(s=i[0])&&at(s,o)||at(r,o)||at(zs,o)||at(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:at(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},ZA=Qe({},jh,{get(e,t){if(t!==Symbol.unscopables)return jh.get(e,t,e)},has(e,t){return t[0]!=="_"&&!nm(t)}});function eT(){return null}function tT(){return null}function nT(e){}function rT(e){}function aT(){return null}function iT(){}function oT(e,t){return null}function sT(){return bx().slots}function uT(){return bx().attrs}function bx(){const e=Qn();return e.setupContext||(e.setupContext=Qx(e))}function uu(e){return ve(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function lT(e,t){const n=uu(e);for(const r in t){if(r.startsWith("__skip"))continue;let a=n[r];a?ve(a)||De(a)?a=n[r]={type:a,default:t[r]}:a.default=t[r]:a===null&&(a=n[r]={default:t[r]}),a&&t[`__skip_${r}`]&&(a.skipFactory=!0)}return n}function cT(e,t){return!e||!t?e||t:ve(e)&&ve(t)?e.concat(t):Qe({},uu(e),uu(t))}function fT(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function dT(e){const t=Qn();let n=e();return Xh(),lf(n)&&(n=n.catch(r=>{throw Qi(t),r})),[n,()=>Qi(t)]}let Hh=!0;function hT(e){const t=km(e),n=e.proxy,r=e.ctx;Hh=!1,t.beforeCreate&&zg(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:u,inject:l,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:p,deactivated:v,beforeDestroy:g,beforeUnmount:x,destroyed:y,unmounted:b,render:w,renderTracked:_,renderTriggered:S,errorCaptured:C,serverPrefetch:k,expose:E,inheritAttrs:T,components:A,directives:I,filters:D}=t;if(l&&pT(l,r,null),o)for(const W in o){const V=o[W];De(V)&&(r[W]=V.bind(n))}if(a){const W=a.call(n,n);st(W)&&(e.data=Dt(W))}if(Hh=!0,i)for(const W in i){const V=i[W],H=De(V)?V.bind(n,n):De(V.get)?V.get.bind(n,n):nn,X=!De(V)&&De(V.set)?V.set.bind(n):nn,ae=q({get:H,set:X});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>ae.value,set:se=>ae.value=se})}if(s)for(const W in s)xx(s[W],r,n,W);if(u){const W=De(u)?u.call(n):u;Reflect.ownKeys(W).forEach(V=>{zn(V,W[V])})}c&&zg(c,e,"c");function L(W,V){ve(V)?V.forEach(H=>W(H.bind(n))):V&&W(V.bind(n))}if(L(ym,f),L(St,d),L(bm,h),L(Lu,m),L(vm,p),L(gm,v),L(mx,C),L(px,_),L(hx,S),L(Fn,x),L(Bu,b),L(dx,k),ve(E))if(E.length){const W=e.exposed||(e.exposed={});E.forEach(V=>{Object.defineProperty(W,V,{get:()=>n[V],set:H=>n[V]=H})})}else e.exposed||(e.exposed={});w&&e.render===nn&&(e.render=w),T!=null&&(e.inheritAttrs=T),A&&(e.components=A),I&&(e.directives=I),k&&mm(e)}function pT(e,t,n=nn){ve(e)&&(e=zh(e));for(const r in e){const a=e[r];let i;st(a)?"default"in a?i=Et(a.from||r,a.default,!0):i=Et(a.from||r):i=Et(a),yt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function zg(e,t,n){kr(ve(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function xx(e,t,n,r){let a=r.includes(".")?Vx(n,r):()=>n[r];if(Fe(e)){const i=t[e];De(i)&&Ge(a,i)}else if(De(e))Ge(a,e.bind(n));else if(st(e))if(ve(e))e.forEach(i=>xx(i,t,n,r));else{const i=De(e.handler)?e.handler.bind(n):t[e.handler];De(i)&&Ge(a,i,e)}}function km(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let u;return s?u=s:!a.length&&!n&&!r?u=t:(u={},a.length&&a.forEach(l=>lc(u,l,o,!0)),lc(u,t,o)),st(t)&&i.set(t,u),u}function lc(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&lc(e,i,n,!0),a&&a.forEach(o=>lc(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=mT[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const mT={data:Gg,props:Kg,emits:Kg,methods:Bs,computed:Bs,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:Bs,directives:Bs,watch:gT,provide:Gg,inject:vT};function Gg(e,t){return t?e?function(){return Qe(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function vT(e,t){return Bs(zh(e),zh(t))}function zh(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function In(e,t){return e?[...new Set([].concat(e,t))]:t}function Bs(e,t){return e?Qe(Object.create(null),e,t):t}function Kg(e,t){return e?ve(e)&&ve(t)?[...new Set([...e,...t])]:Qe(Object.create(null),uu(e),uu(t??{})):t}function gT(e,t){if(!e)return t;if(!t)return e;const n=Qe(Object.create(null),e);for(const r in t)n[r]=In(e[r],t[r]);return n}function wx(){return{app:null,config:{isNativeTag:Fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yT=0;function bT(e,t){return function(r,a=null){De(r)||(r=Qe({},r)),a!=null&&!st(a)&&(a=null);const i=wx(),o=new WeakSet,s=[];let u=!1;const l=i.app={_uid:yT++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:ew,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&De(c.install)?(o.add(c),c.install(l,...f)):De(c)&&(o.add(c),c(l,...f))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,f){return f?(i.components[c]=f,l):i.components[c]},directive(c,f){return f?(i.directives[c]=f,l):i.directives[c]},mount(c,f,d){if(!u){const h=l._ceVNode||j(r,a);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(h,c):e(h,c,d),u=!0,l._container=c,c.__vue_app__=l,Uu(h.component)}},onUnmount(c){s.push(c)},unmount(){u&&(kr(s,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(c,f){return i.provides[c]=f,l},runWithContext(c){const f=Hi;Hi=l;try{return c()}finally{Hi=f}}};return l}}let Hi=null;function zn(e,t){if(jt){let n=jt.provides;const r=jt.parent&&jt.parent.provides;r===n&&(n=jt.provides=Object.create(r)),n[e]=t}}function Et(e,t,n=!1){const r=jt||Ht;if(r||Hi){const a=Hi?Hi._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&De(t)?t.call(r&&r.proxy):t}}function xT(){return!!(jt||Ht||Hi)}const _x={},kx=()=>Object.create(_x),Ex=e=>Object.getPrototypeOf(e)===_x;function wT(e,t,n,r=!1){const a={},i=kx();e.propsDefaults=Object.create(null),Cx(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:lm(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function _T(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=Ze(a),[u]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(_f(e.emitsOptions,d))continue;const h=t[d];if(u)if(at(i,d))h!==i[d]&&(i[d]=h,l=!0);else{const m=dt(d);a[m]=Gh(u,s,m,h,e,!1)}else h!==i[d]&&(i[d]=h,l=!0)}}}else{Cx(e,t,a,i)&&(l=!0);let c;for(const f in s)(!t||!at(t,f)&&((c=xn(f))===f||!at(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=Gh(u,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!at(t,f))&&(delete i[f],l=!0)}l&&ka(e.attrs,"set","")}function Cx(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let u in t){if(Ta(u))continue;const l=t[u];let c;a&&at(a,c=dt(u))?!i||!i.includes(c)?n[c]=l:(s||(s={}))[c]=l:_f(e.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,o=!0)}if(i){const u=Ze(n),l=s||Xe;for(let c=0;c<i.length;c++){const f=i[c];n[f]=Gh(a,u,f,l[f],e,!at(l,f))}}return o}function Gh(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=at(o,"default");if(s&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&De(u)){const{propsDefaults:l}=a;if(n in l)r=l[n];else{const c=Qi(a);r=l[n]=u.call(null,t),c()}}else r=u;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===xn(n))&&(r=!0))}return r}const kT=new WeakMap;function Sx(e,t,n=!1){const r=n?kT:t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let u=!1;if(!De(e)){const c=f=>{u=!0;const[d,h]=Sx(f,t,!0);Qe(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return st(e)&&r.set(e,Bi),Bi;if(ve(i))for(let c=0;c<i.length;c++){const f=dt(i[c]);qg(f)&&(o[f]=Xe)}else if(i)for(const c in i){const f=dt(c);if(qg(f)){const d=i[c],h=o[f]=ve(d)||De(d)?{type:d}:Qe({},d),m=h.type;let p=!1,v=!0;if(ve(m))for(let g=0;g<m.length;++g){const x=m[g],y=De(x)&&x.name;if(y==="Boolean"){p=!0;break}else y==="String"&&(v=!1)}else p=De(m)&&m.name==="Boolean";h[0]=p,h[1]=v,(p||at(h,"default"))&&s.push(f)}}const l=[o,s];return st(e)&&r.set(e,l),l}function qg(e){return e[0]!=="$"&&!Ta(e)}const Ax=e=>e[0]==="_"||e==="$stable",Em=e=>ve(e)?e.map(Vn):[Vn(e)],ET=(e,t,n)=>{if(t._n)return t;const r=Le((...a)=>Em(t(...a)),n);return r._c=!1,r},Tx=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Ax(a))continue;const i=e[a];if(De(i))t[a]=ET(a,i,r);else if(i!=null){const o=Em(i);t[a]=()=>o}}},Ix=(e,t)=>{const n=Em(t);e.slots.default=()=>n},Rx=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},CT=(e,t,n)=>{const r=e.slots=kx();if(e.vnode.shapeFlag&32){const a=t._;a?(Rx(r,t,n),n&&tm(r,"_",a,!0)):Tx(t,r)}else t&&Ix(e,t)},ST=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=Xe;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:Rx(a,t,n):(i=!t.$stable,Tx(t,a)),o=t}else t&&(Ix(e,t),o={default:1});if(i)for(const s in a)!Ax(s)&&o[s]==null&&delete a[s]},Wt=Hx;function Nx(e){return Dx(e)}function Ox(e){return Dx(e,FA)}function Dx(e,t){const n=Du();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=nn,insertStaticContent:m}=e,p=(N,P,z,Z=null,J=null,re=null,ue=void 0,le=null,oe=!!P.dynamicChildren)=>{if(N===P)return;N&&!Rr(N,P)&&(Z=G(N),se(N,J,re,!0),N=null),P.patchFlag===-2&&(oe=!1,P.dynamicChildren=null);const{type:ie,ref:Ae,shapeFlag:he}=P;switch(ie){case Ia:v(N,P,z,Z);break;case Mt:g(N,P,z,Z);break;case zi:N==null&&x(P,z,Z,ue);break;case Ye:A(N,P,z,Z,J,re,ue,le,oe);break;default:he&1?w(N,P,z,Z,J,re,ue,le,oe):he&6?I(N,P,z,Z,J,re,ue,le,oe):(he&64||he&128)&&ie.process(N,P,z,Z,J,re,ue,le,oe,ce)}Ae!=null&&J&&su(Ae,N&&N.ref,re,P||N,!P)},v=(N,P,z,Z)=>{if(N==null)r(P.el=s(P.children),z,Z);else{const J=P.el=N.el;P.children!==N.children&&l(J,P.children)}},g=(N,P,z,Z)=>{N==null?r(P.el=u(P.children||""),z,Z):P.el=N.el},x=(N,P,z,Z)=>{[N.el,N.anchor]=m(N.children,P,z,Z,N.el,N.anchor)},y=({el:N,anchor:P},z,Z)=>{let J;for(;N&&N!==P;)J=d(N),r(N,z,Z),N=J;r(P,z,Z)},b=({el:N,anchor:P})=>{let z;for(;N&&N!==P;)z=d(N),a(N),N=z;a(P)},w=(N,P,z,Z,J,re,ue,le,oe)=>{P.type==="svg"?ue="svg":P.type==="math"&&(ue="mathml"),N==null?_(P,z,Z,J,re,ue,le,oe):k(N,P,J,re,ue,le,oe)},_=(N,P,z,Z,J,re,ue,le)=>{let oe,ie;const{props:Ae,shapeFlag:he,transition:xe,dirs:Pe}=N;if(oe=N.el=o(N.type,re,Ae&&Ae.is,Ae),he&8?c(oe,N.children):he&16&&C(N.children,oe,null,Z,J,Bd(N,re),ue,le),Pe&&$r(N,null,Z,"created"),S(oe,N,N.scopeId,ue,Z),Ae){for(const $e in Ae)$e!=="value"&&!Ta($e)&&i(oe,$e,null,Ae[$e],re,Z);"value"in Ae&&i(oe,"value",null,Ae.value,re),(ie=Ae.onVnodeBeforeMount)&&Bn(ie,Z,N)}Pe&&$r(N,null,Z,"beforeMount");const je=Px(J,xe);je&&xe.beforeEnter(oe),r(oe,P,z),((ie=Ae&&Ae.onVnodeMounted)||je||Pe)&&Wt(()=>{ie&&Bn(ie,Z,N),je&&xe.enter(oe),Pe&&$r(N,null,Z,"mounted")},J)},S=(N,P,z,Z,J)=>{if(z&&h(N,z),Z)for(let re=0;re<Z.length;re++)h(N,Z[re]);if(J){let re=J.subTree;if(P===re||fc(re.type)&&(re.ssContent===P||re.ssFallback===P)){const ue=J.vnode;S(N,ue,ue.scopeId,ue.slotScopeIds,J.parent)}}},C=(N,P,z,Z,J,re,ue,le,oe=0)=>{for(let ie=oe;ie<N.length;ie++){const Ae=N[ie]=le?Qa(N[ie]):Vn(N[ie]);p(null,Ae,P,z,Z,J,re,ue,le)}},k=(N,P,z,Z,J,re,ue)=>{const le=P.el=N.el;let{patchFlag:oe,dynamicChildren:ie,dirs:Ae}=P;oe|=N.patchFlag&16;const he=N.props||Xe,xe=P.props||Xe;let Pe;if(z&&Si(z,!1),(Pe=xe.onVnodeBeforeUpdate)&&Bn(Pe,z,P,N),Ae&&$r(P,N,z,"beforeUpdate"),z&&Si(z,!0),(he.innerHTML&&xe.innerHTML==null||he.textContent&&xe.textContent==null)&&c(le,""),ie?E(N.dynamicChildren,ie,le,z,Z,Bd(P,J),re):ue||V(N,P,le,null,z,Z,Bd(P,J),re,!1),oe>0){if(oe&16)T(le,he,xe,z,J);else if(oe&2&&he.class!==xe.class&&i(le,"class",null,xe.class,J),oe&4&&i(le,"style",he.style,xe.style,J),oe&8){const je=P.dynamicProps;for(let $e=0;$e<je.length;$e++){const nt=je[$e],Tn=he[nt],Qt=xe[nt];(Qt!==Tn||nt==="value")&&i(le,nt,Tn,Qt,J,z)}}oe&1&&N.children!==P.children&&c(le,P.children)}else!ue&&ie==null&&T(le,he,xe,z,J);((Pe=xe.onVnodeUpdated)||Ae)&&Wt(()=>{Pe&&Bn(Pe,z,P,N),Ae&&$r(P,N,z,"updated")},Z)},E=(N,P,z,Z,J,re,ue)=>{for(let le=0;le<P.length;le++){const oe=N[le],ie=P[le],Ae=oe.el&&(oe.type===Ye||!Rr(oe,ie)||oe.shapeFlag&70)?f(oe.el):z;p(oe,ie,Ae,null,Z,J,re,ue,!0)}},T=(N,P,z,Z,J)=>{if(P!==z){if(P!==Xe)for(const re in P)!Ta(re)&&!(re in z)&&i(N,re,P[re],null,J,Z);for(const re in z){if(Ta(re))continue;const ue=z[re],le=P[re];ue!==le&&re!=="value"&&i(N,re,le,ue,J,Z)}"value"in z&&i(N,"value",P.value,z.value,J)}},A=(N,P,z,Z,J,re,ue,le,oe)=>{const ie=P.el=N?N.el:s(""),Ae=P.anchor=N?N.anchor:s("");let{patchFlag:he,dynamicChildren:xe,slotScopeIds:Pe}=P;Pe&&(le=le?le.concat(Pe):Pe),N==null?(r(ie,z,Z),r(Ae,z,Z),C(P.children||[],z,Ae,J,re,ue,le,oe)):he>0&&he&64&&xe&&N.dynamicChildren?(E(N.dynamicChildren,xe,z,J,re,ue,le),(P.key!=null||J&&P===J.subTree)&&Cm(N,P,!0)):V(N,P,z,Ae,J,re,ue,le,oe)},I=(N,P,z,Z,J,re,ue,le,oe)=>{P.slotScopeIds=le,N==null?P.shapeFlag&512?J.ctx.activate(P,z,Z,ue,oe):D(P,z,Z,J,re,ue,oe):M(N,P,oe)},D=(N,P,z,Z,J,re,ue)=>{const le=N.component=$x(N,Z,J);if(Mu(N)&&(le.ctx.renderer=ce),Yx(le,!1,ue),le.asyncDep){if(J&&J.registerDep(le,L,ue),!N.el){const oe=le.subTree=j(Mt);g(null,oe,P,z)}}else L(le,N,P,z,J,re,ue)},M=(N,P,z)=>{const Z=P.component=N.component;if(FT(N,P,z))if(Z.asyncDep&&!Z.asyncResolved){W(Z,P,z);return}else Z.next=P,Z.update();else P.el=N.el,Z.vnode=P},L=(N,P,z,Z,J,re,ue)=>{const le=()=>{if(N.isMounted){let{next:he,bu:xe,u:Pe,parent:je,vnode:$e}=N;{const un=Fx(N);if(un){he&&(he.el=$e.el,W(N,he,ue)),un.asyncDep.then(()=>{N.isUnmounted||le()});return}}let nt=he,Tn;Si(N,!1),he?(he.el=$e.el,W(N,he,ue)):he=$e,xe&&Wi(xe),(Tn=he.props&&he.props.onVnodeBeforeUpdate)&&Bn(Tn,je,he,$e),Si(N,!0);const Qt=jl(N),Zn=N.subTree;N.subTree=Qt,p(Zn,Qt,f(Zn.el),G(Zn),N,J,re),he.el=Qt.el,nt===null&&kf(N,Qt.el),Pe&&Wt(Pe,J),(Tn=he.props&&he.props.onVnodeUpdated)&&Wt(()=>Bn(Tn,je,he,$e),J)}else{let he;const{el:xe,props:Pe}=P,{bm:je,m:$e,parent:nt,root:Tn,type:Qt}=N,Zn=ii(P);if(Si(N,!1),je&&Wi(je),!Zn&&(he=Pe&&Pe.onVnodeBeforeMount)&&Bn(he,nt,P),Si(N,!0),xe&&Oe){const un=()=>{N.subTree=jl(N),Oe(xe,N.subTree,N,J,null)};Zn&&Qt.__asyncHydrate?Qt.__asyncHydrate(xe,N,un):un()}else{Tn.ce&&Tn.ce._injectChildStyle(Qt);const un=N.subTree=jl(N);p(null,un,z,Z,N,J,re),P.el=un.el}if($e&&Wt($e,J),!Zn&&(he=Pe&&Pe.onVnodeMounted)){const un=P;Wt(()=>Bn(he,nt,un),J)}(P.shapeFlag&256||nt&&ii(nt.vnode)&&nt.vnode.shapeFlag&256)&&N.a&&Wt(N.a,J),N.isMounted=!0,P=z=Z=null}};N.scope.on();const oe=N.effect=new tu(le);N.scope.off();const ie=N.update=oe.run.bind(oe),Ae=N.job=oe.runIfDirty.bind(oe);Ae.i=N,Ae.id=N.uid,oe.scheduler=()=>dm(Ae),Si(N,!0),ie()},W=(N,P,z)=>{P.component=N;const Z=N.vnode.props;N.vnode=P,N.next=null,_T(N,P.props,Z,z),ST(N,P.children,z),bi(),Mg(N),xi()},V=(N,P,z,Z,J,re,ue,le,oe=!1)=>{const ie=N&&N.children,Ae=N?N.shapeFlag:0,he=P.children,{patchFlag:xe,shapeFlag:Pe}=P;if(xe>0){if(xe&128){X(ie,he,z,Z,J,re,ue,le,oe);return}else if(xe&256){H(ie,he,z,Z,J,re,ue,le,oe);return}}Pe&8?(Ae&16&&de(ie,J,re),he!==ie&&c(z,he)):Ae&16?Pe&16?X(ie,he,z,Z,J,re,ue,le,oe):de(ie,J,re,!0):(Ae&8&&c(z,""),Pe&16&&C(he,z,Z,J,re,ue,le,oe))},H=(N,P,z,Z,J,re,ue,le,oe)=>{N=N||Bi,P=P||Bi;const ie=N.length,Ae=P.length,he=Math.min(ie,Ae);let xe;for(xe=0;xe<he;xe++){const Pe=P[xe]=oe?Qa(P[xe]):Vn(P[xe]);p(N[xe],Pe,z,null,J,re,ue,le,oe)}ie>Ae?de(N,J,re,!0,!1,he):C(P,z,Z,J,re,ue,le,oe,he)},X=(N,P,z,Z,J,re,ue,le,oe)=>{let ie=0;const Ae=P.length;let he=N.length-1,xe=Ae-1;for(;ie<=he&&ie<=xe;){const Pe=N[ie],je=P[ie]=oe?Qa(P[ie]):Vn(P[ie]);if(Rr(Pe,je))p(Pe,je,z,null,J,re,ue,le,oe);else break;ie++}for(;ie<=he&&ie<=xe;){const Pe=N[he],je=P[xe]=oe?Qa(P[xe]):Vn(P[xe]);if(Rr(Pe,je))p(Pe,je,z,null,J,re,ue,le,oe);else break;he--,xe--}if(ie>he){if(ie<=xe){const Pe=xe+1,je=Pe<Ae?P[Pe].el:Z;for(;ie<=xe;)p(null,P[ie]=oe?Qa(P[ie]):Vn(P[ie]),z,je,J,re,ue,le,oe),ie++}}else if(ie>xe)for(;ie<=he;)se(N[ie],J,re,!0),ie++;else{const Pe=ie,je=ie,$e=new Map;for(ie=je;ie<=xe;ie++){const er=P[ie]=oe?Qa(P[ie]):Vn(P[ie]);er.key!=null&&$e.set(er.key,ie)}let nt,Tn=0;const Qt=xe-je+1;let Zn=!1,un=0;const ha=new Array(Qt);for(ie=0;ie<Qt;ie++)ha[ie]=0;for(ie=Pe;ie<=he;ie++){const er=N[ie];if(Tn>=Qt){se(er,J,re,!0);continue}let jr;if(er.key!=null)jr=$e.get(er.key);else for(nt=je;nt<=xe;nt++)if(ha[nt-je]===0&&Rr(er,P[nt])){jr=nt;break}jr===void 0?se(er,J,re,!0):(ha[jr-je]=ie+1,jr>=un?un=jr:Zn=!0,p(er,P[jr],z,null,J,re,ue,le,oe),Tn++)}const yo=Zn?AT(ha):Bi;for(nt=yo.length-1,ie=Qt-1;ie>=0;ie--){const er=je+ie,jr=P[er],Ng=er+1<Ae?P[er+1].el:Z;ha[ie]===0?p(null,jr,z,Ng,J,re,ue,le,oe):Zn&&(nt<0||ie!==yo[nt]?ae(jr,z,Ng,2):nt--)}}},ae=(N,P,z,Z,J=null)=>{const{el:re,type:ue,transition:le,children:oe,shapeFlag:ie}=N;if(ie&6){ae(N.component.subTree,P,z,Z);return}if(ie&128){N.suspense.move(P,z,Z);return}if(ie&64){ue.move(N,P,z,ce);return}if(ue===Ye){r(re,P,z);for(let he=0;he<oe.length;he++)ae(oe[he],P,z,Z);r(N.anchor,P,z);return}if(ue===zi){y(N,P,z);return}if(Z!==2&&ie&1&&le)if(Z===0)le.beforeEnter(re),r(re,P,z),Wt(()=>le.enter(re),J);else{const{leave:he,delayLeave:xe,afterLeave:Pe}=le,je=()=>r(re,P,z),$e=()=>{he(re,()=>{je(),Pe&&Pe()})};xe?xe(re,je,$e):$e()}else r(re,P,z)},se=(N,P,z,Z=!1,J=!1)=>{const{type:re,props:ue,ref:le,children:oe,dynamicChildren:ie,shapeFlag:Ae,patchFlag:he,dirs:xe,cacheIndex:Pe}=N;if(he===-2&&(J=!1),le!=null&&su(le,null,z,N,!0),Pe!=null&&(P.renderCache[Pe]=void 0),Ae&256){P.ctx.deactivate(N);return}const je=Ae&1&&xe,$e=!ii(N);let nt;if($e&&(nt=ue&&ue.onVnodeBeforeUnmount)&&Bn(nt,P,N),Ae&6)Ie(N.component,z,Z);else{if(Ae&128){N.suspense.unmount(z,Z);return}je&&$r(N,null,P,"beforeUnmount"),Ae&64?N.type.remove(N,P,z,ce,Z):ie&&!ie.hasOnce&&(re!==Ye||he>0&&he&64)?de(ie,P,z,!1,!0):(re===Ye&&he&384||!J&&Ae&16)&&de(oe,P,z),Z&&me(N)}($e&&(nt=ue&&ue.onVnodeUnmounted)||je)&&Wt(()=>{nt&&Bn(nt,P,N),je&&$r(N,null,P,"unmounted")},z)},me=N=>{const{type:P,el:z,anchor:Z,transition:J}=N;if(P===Ye){Ne(z,Z);return}if(P===zi){b(N);return}const re=()=>{a(z),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(N.shapeFlag&1&&J&&!J.persisted){const{leave:ue,delayLeave:le}=J,oe=()=>ue(z,re);le?le(N.el,re,oe):oe()}else re()},Ne=(N,P)=>{let z;for(;N!==P;)z=d(N),a(N),N=z;a(P)},Ie=(N,P,z)=>{const{bum:Z,scope:J,job:re,subTree:ue,um:le,m:oe,a:ie}=N;cc(oe),cc(ie),Z&&Wi(Z),J.stop(),re&&(re.flags|=8,se(ue,N,P,z)),le&&Wt(le,P),Wt(()=>{N.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},de=(N,P,z,Z=!1,J=!1,re=0)=>{for(let ue=re;ue<N.length;ue++)se(N[ue],P,z,Z,J)},G=N=>{if(N.shapeFlag&6)return G(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const P=d(N.anchor||N.el),z=P&&P[nx];return z?d(z):P};let ee=!1;const te=(N,P,z)=>{N==null?P._vnode&&se(P._vnode,null,null,!0):p(P._vnode||null,N,P,null,null,null,z),P._vnode=N,ee||(ee=!0,Mg(),uc(),ee=!1)},ce={p,um:se,m:ae,r:me,mt:D,mc:C,pc:V,pbc:E,n:G,o:e};let be,Oe;return t&&([be,Oe]=t(ce)),{render:te,hydrate:be,createApp:bT(te,be)}}function Bd({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Si({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Px(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Cm(e,t,n=!1){const r=e.children,a=t.children;if(ve(r)&&ve(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Qa(a[i]),s.el=o.el),!n&&s.patchFlag!==-2&&Cm(o,s)),s.type===Ia&&(s.el=o.el)}}function AT(e){const t=e.slice(),n=[0];let r,a,i,o,s;const u=e.length;for(r=0;r<u;r++){const l=e[r];if(l!==0){if(a=n[n.length-1],e[a]<l){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<l?i=s+1:o=s;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Fx(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fx(t)}function cc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mx=Symbol.for("v-scx"),Lx=()=>Et(Mx);function oa(e,t){return Vu(e,null,t)}function TT(e,t){return Vu(e,null,{flush:"post"})}function Bx(e,t){return Vu(e,null,{flush:"sync"})}function Ge(e,t,n){return Vu(e,t,n)}function Vu(e,t,n=Xe){const{immediate:r,deep:a,flush:i,once:o}=n,s=Qe({},n),u=t&&r||!t&&i!=="post";let l;if(Jo){if(i==="sync"){const h=Lx();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=nn,h.resume=nn,h.pause=nn,h}}const c=jt;s.call=(h,m,p)=>kr(h,c,m,p);let f=!1;i==="post"?s.scheduler=h=>{Wt(h,c&&c.suspense)}:i!=="sync"&&(f=!0,s.scheduler=(h,m)=>{m?h():dm(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=yA(e,t,s);return Jo&&(l?l.push(d):u&&d()),d}function IT(e,t,n){const r=this.proxy,a=Fe(e)?e.includes(".")?Vx(r,e):()=>r[e]:e.bind(r,r);let i;De(t)?i=t:(i=t.handler,n=t);const o=Qi(this),s=Vu(a,i.bind(r),n);return o(),s}function Vx(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function RT(e,t,n=Xe){const r=Qn(),a=dt(t),i=xn(t),o=Ux(e,a),s=$1((u,l)=>{let c,f=Xe,d;return Bx(()=>{const h=e[a];vn(c,h)&&(c=h,l())}),{get(){return u(),n.get?n.get(c):c},set(h){const m=n.set?n.set(h):h;if(!vn(m,c)&&!(f!==Xe&&vn(h,f)))return;const p=r.vnode.props;p&&(t in p||a in p||i in p)&&(`onUpdate:${t}`in p||`onUpdate:${a}`in p||`onUpdate:${i}`in p)||(c=h,l()),r.emit(`update:${t}`,m),vn(h,m)&&vn(h,f)&&!vn(m,d)&&l(),f=h,d=m}}});return s[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?o||Xe:s,done:!1}:{done:!0}}}},s}const Ux=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dt(t)}Modifiers`]||e[`${xn(t)}Modifiers`];function NT(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Xe;let a=n;const i=t.startsWith("update:"),o=i&&Ux(r,t.slice(7));o&&(o.trim&&(a=n.map(c=>Fe(c)?c.trim():c)),o.number&&(a=n.map(Zs)));let s,u=r[s=Ui(t)]||r[s=Ui(dt(t))];!u&&i&&(u=r[s=Ui(xn(t))]),u&&kr(u,e,6,a);const l=r[s+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,kr(l,e,6,a)}}function Wx(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!De(e)){const u=l=>{const c=Wx(l,t,!0);c&&(s=!0,Qe(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!s?(st(e)&&r.set(e,null),null):(ve(i)?i.forEach(u=>o[u]=null):Qe(o,i),st(e)&&r.set(e,o),o)}function _f(e,t){return!e||!gi(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(e,t[0].toLowerCase()+t.slice(1))||at(e,xn(t))||at(e,t))}function jl(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:u,render:l,renderCache:c,props:f,data:d,setupState:h,ctx:m,inheritAttrs:p}=e,v=ou(e);let g,x;try{if(n.shapeFlag&4){const b=a||r,w=b;g=Vn(l.call(w,b,c,f,h,d,m)),x=s}else{const b=t;g=Vn(b.length>1?b(f,{attrs:s,slots:o,emit:u}):b(f,null)),x=t.props?s:DT(s)}}catch(b){Gs.length=0,so(b,e,1),g=j(Mt)}let y=g;if(x&&p!==!1){const b=Object.keys(x),{shapeFlag:w}=y;b.length&&w&7&&(i&&b.some(sf)&&(x=PT(x,i)),y=ra(y,x,!1,!0))}return n.dirs&&(y=ra(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Da(y,n.transition),g=y,ou(v),g}function OT(e,t=!0){let n;for(let r=0;r<e.length;r++){const a=e[r];if(Pa(a)){if(a.type!==Mt||a.children==="v-if"){if(n)return;n=a}}else return}return n}const DT=e=>{let t;for(const n in e)(n==="class"||n==="style"||gi(n))&&((t||(t={}))[n]=e[n]);return t},PT=(e,t)=>{const n={};for(const r in e)(!sf(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function FT(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:u}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?$g(r,o,l):!!o;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!_f(l,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?$g(r,o,l):!0:!!o;return!1}function $g(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!_f(n,i))return!0}return!1}function kf({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const fc=e=>e.__isSuspense;let Kh=0;const MT={name:"Suspense",__isSuspense:!0,process(e,t,n,r,a,i,o,s,u,l){if(e==null)BT(t,n,r,a,i,o,s,u,l);else{if(i&&i.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}VT(e,t,n,r,a,o,s,u,l)}},hydrate:UT,normalize:WT},LT=MT;function lu(e,t){const n=e.props&&e.props[t];De(n)&&n()}function BT(e,t,n,r,a,i,o,s,u){const{p:l,o:{createElement:c}}=u,f=c("div"),d=e.suspense=jx(e,a,r,t,f,n,i,o,s,u);l(null,d.pendingBranch=e.ssContent,f,null,r,d,i,o),d.deps>0?(lu(e,"onPending"),lu(e,"onFallback"),l(null,e.ssFallback,t,n,r,null,i,o),Vo(d,e.ssFallback)):d.resolve(!1,!0)}function VT(e,t,n,r,a,i,o,s,{p:u,um:l,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,h=t.ssFallback,{activeBranch:m,pendingBranch:p,isInFallback:v,isHydrating:g}=f;if(p)f.pendingBranch=d,Rr(d,p)?(u(p,d,f.hiddenContainer,null,a,f,i,o,s),f.deps<=0?f.resolve():v&&(g||(u(m,h,n,r,a,null,i,o,s),Vo(f,h)))):(f.pendingId=Kh++,g?(f.isHydrating=!1,f.activeBranch=p):l(p,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(u(null,d,f.hiddenContainer,null,a,f,i,o,s),f.deps<=0?f.resolve():(u(m,h,n,r,a,null,i,o,s),Vo(f,h))):m&&Rr(d,m)?(u(m,d,n,r,a,f,i,o,s),f.resolve(!0)):(u(null,d,f.hiddenContainer,null,a,f,i,o,s),f.deps<=0&&f.resolve()));else if(m&&Rr(d,m))u(m,d,n,r,a,f,i,o,s),Vo(f,d);else if(lu(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=Kh++,u(null,d,f.hiddenContainer,null,a,f,i,o,s),f.deps<=0)f.resolve();else{const{timeout:x,pendingId:y}=f;x>0?setTimeout(()=>{f.pendingId===y&&f.fallback(h)},x):x===0&&f.fallback(h)}}function jx(e,t,n,r,a,i,o,s,u,l,c=!1){const{p:f,m:d,um:h,n:m,o:{parentNode:p,remove:v}}=l;let g;const x=jT(e);x&&t&&t.pendingBranch&&(g=t.pendingId,t.deps++);const y=e.props?eu(e.props.timeout):void 0,b=i,w={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:a,deps:0,pendingId:Kh++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(_=!1,S=!1){const{vnode:C,activeBranch:k,pendingBranch:E,pendingId:T,effects:A,parentComponent:I,container:D}=w;let M=!1;w.isHydrating?w.isHydrating=!1:_||(M=k&&E.transition&&E.transition.mode==="out-in",M&&(k.transition.afterLeave=()=>{T===w.pendingId&&(d(E,D,i===b?m(k):i,0),au(A))}),k&&(p(k.el)===D&&(i=m(k)),h(k,I,w,!0)),M||d(E,D,i,0)),Vo(w,E),w.pendingBranch=null,w.isInFallback=!1;let L=w.parent,W=!1;for(;L;){if(L.pendingBranch){L.effects.push(...A),W=!0;break}L=L.parent}!W&&!M&&au(A),w.effects=[],x&&t&&t.pendingBranch&&g===t.pendingId&&(t.deps--,t.deps===0&&!S&&t.resolve()),lu(C,"onResolve")},fallback(_){if(!w.pendingBranch)return;const{vnode:S,activeBranch:C,parentComponent:k,container:E,namespace:T}=w;lu(S,"onFallback");const A=m(C),I=()=>{w.isInFallback&&(f(null,_,E,A,k,null,T,s,u),Vo(w,_))},D=_.transition&&_.transition.mode==="out-in";D&&(C.transition.afterLeave=I),w.isInFallback=!0,h(C,k,null,!0),D||I()},move(_,S,C){w.activeBranch&&d(w.activeBranch,_,S,C),w.container=_},next(){return w.activeBranch&&m(w.activeBranch)},registerDep(_,S,C){const k=!!w.pendingBranch;k&&w.deps++;const E=_.vnode.el;_.asyncDep.catch(T=>{so(T,_,0)}).then(T=>{if(_.isUnmounted||w.isUnmounted||w.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:A}=_;Yh(_,T,!1),E&&(A.el=E);const I=!E&&_.subTree.el;S(_,A,p(E||_.subTree.el),E?null:m(_.subTree),w,o,C),I&&v(I),kf(_,A.el),k&&--w.deps===0&&w.resolve()})},unmount(_,S){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,_,S),w.pendingBranch&&h(w.pendingBranch,n,_,S)}};return w}function UT(e,t,n,r,a,i,o,s,u){const l=t.suspense=jx(t,r,n,e.parentNode,document.createElement("div"),null,a,i,o,s,!0),c=u(e,l.pendingBranch=t.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),c}function WT(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Xg(r?n.default:n),e.ssFallback=r?Xg(n.fallback):j(Mt)}function Xg(e){let t;if(De(e)){const n=Yi&&e._c;n&&(e._d=!1,ge()),e=e(),n&&(e._d=!0,t=En,zx())}return ve(e)&&(e=OT(e)),e=Vn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Hx(e,t){t&&t.pendingBranch?ve(e)?t.effects.push(...e):t.effects.push(e):au(e)}function Vo(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let a=t.el;for(;!a&&t.component;)t=t.component.subTree,a=t.el;n.el=a,r&&r.subTree===n&&(r.vnode.el=a,kf(r,a))}function jT(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Ye=Symbol.for("v-fgt"),Ia=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),zi=Symbol.for("v-stc"),Gs=[];let En=null;function ge(e=!1){Gs.push(En=e?null:[])}function zx(){Gs.pop(),En=Gs[Gs.length-1]||null}let Yi=1;function qh(e,t=!1){Yi+=e,e<0&&En&&t&&(En.hasOnce=!0)}function Gx(e){return e.dynamicChildren=Yi>0?En||Bi:null,zx(),Yi>0&&En&&En.push(e),e}function Te(e,t,n,r,a,i){return Gx(F(e,t,n,r,a,i,!0))}function $n(e,t,n,r,a){return Gx(j(e,t,n,r,a,!0))}function Pa(e){return e?e.__v_isVNode===!0:!1}function Rr(e,t){return e.type===t.type&&e.key===t.key}function HT(e){}const Kx=({key:e})=>e??null,Hl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||yt(e)||De(e)?{i:Ht,r:e,k:t,f:!!n}:e:null);function F(e,t=null,n=null,r=0,a=null,i=e===Ye?0:1,o=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kx(t),ref:t&&Hl(t),scopeId:yf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Ht};return s?(Sm(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Fe(n)?8:16),Yi>0&&!o&&En&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&En.push(u),u}const j=zT;function zT(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===vx)&&(e=Mt),Pa(e)){const s=ra(e,t,!0);return n&&Sm(s,n),Yi>0&&!i&&En&&(s.shapeFlag&6?En[En.indexOf(e)]=s:En.push(s)),s.patchFlag=-2,s}if(JT(e)&&(e=e.__vccOpts),t){t=qx(t);let{class:s,style:u}=t;s&&!Fe(s)&&(t.class=ir(s)),st(u)&&(gf(u)&&!ve(u)&&(u=Qe({},u)),t.style=ms(u))}const o=Fe(e)?1:fc(e)?128:rx(e)?64:st(e)?4:De(e)?2:0;return F(e,t,n,r,a,o,i,!0)}function qx(e){return e?gf(e)||Ex(e)?Qe({},e):e:null}function ra(e,t,n=!1,r=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:u}=e,l=t?Bt(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Kx(l),ref:t&&t.ref?n&&i?ve(i)?i.concat(Hl(t)):[i,Hl(t)]:Hl(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ra(e.ssContent),ssFallback:e.ssFallback&&ra(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Da(c,u.clone(c)),c}function _t(e=" ",t=0){return j(Ia,null,e,t)}function Ji(e,t){const n=j(zi,null,e);return n.staticCount=t,n}function en(e="",t=!1){return t?(ge(),$n(Mt,null,e)):j(Mt,null,e)}function Vn(e){return e==null||typeof e=="boolean"?j(Mt):ve(e)?j(Ye,null,e.slice()):Pa(e)?Qa(e):j(Ia,null,String(e))}function Qa(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ra(e)}function Sm(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ve(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Sm(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Ex(t)?t._ctx=Ht:a===3&&Ht&&(Ht.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:Ht},n=32):(t=String(t),r&64?(n=16,t=[_t(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=ir([t.class,r.class]));else if(a==="style")t.style=ms([t.style,r.style]);else if(gi(a)){const i=t[a],o=r[a];o&&i!==o&&!(ve(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Bn(e,t,n,r=null){kr(e,t,7,[n,r])}const GT=wx();let KT=0;function $x(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||GT,i={uid:KT++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new im(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sx(r,a),emitsOptions:Wx(r,a),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:r.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=NT.bind(null,i),e.ce&&e.ce(i),i}let jt=null;const Qn=()=>jt||Ht;let dc,$h;{const e=Du(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};dc=t("__VUE_INSTANCE_SETTERS__",n=>jt=n),$h=t("__VUE_SSR_SETTERS__",n=>Jo=n)}const Qi=e=>{const t=jt;return dc(e),e.scope.on(),()=>{e.scope.off(),dc(t)}},Xh=()=>{jt&&jt.scope.off(),dc(null)};function Xx(e){return e.vnode.shapeFlag&4}let Jo=!1;function Yx(e,t=!1,n=!1){t&&$h(t);const{props:r,children:a}=e.vnode,i=Xx(e);wT(e,r,i,t),CT(e,a,n);const o=i?qT(e,t):void 0;return t&&$h(!1),o}function qT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jh);const{setup:r}=n;if(r){bi();const a=e.setupContext=r.length>1?Qx(e):null,i=Qi(e),o=gs(r,e,0,[e.props,a]),s=lf(o);if(xi(),i(),(s||e.sp)&&!ii(e)&&mm(e),s){if(o.then(Xh,Xh),t)return o.then(u=>{Yh(e,u,t)}).catch(u=>{so(u,e,0)});e.asyncDep=o}else Yh(e,o,t)}else Jx(e,t)}function Yh(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)&&(e.setupState=fm(t)),Jx(e,n)}let hc,Jh;function $T(e){hc=e,Jh=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,ZA))}}const XT=()=>!hc;function Jx(e,t,n){const r=e.type;if(!e.render){if(!t&&hc&&!r.render){const a=r.template||km(e).template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:u}=r,l=Qe(Qe({isCustomElement:i,delimiters:s},o),u);r.render=hc(a,l)}}e.render=r.render||nn,Jh&&Jh(e)}{const a=Qi(e);bi();try{hT(e)}finally{xi(),a()}}}const YT={get(e,t){return gn(e,"get",""),e[t]}};function Qx(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,YT),slots:e.slots,emit:e.emit,expose:t}}function Uu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(fm(cm(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zs)return zs[n](e)},has(t,n){return n in t||n in zs}})):e.proxy}function Qh(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function JT(e){return De(e)&&"__vccOpts"in e}const q=(e,t)=>pA(e,t,Jo);function Br(e,t,n){const r=arguments.length;return r===2?st(t)&&!ve(t)?Pa(t)?j(e,null,[t]):j(e,t):j(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Pa(n)&&(n=[n]),j(e,t,n))}function QT(){}function ZT(e,t,n,r){const a=n[r];if(a&&Zx(a,e))return a;const i=t();return i.memo=e.slice(),i.cacheIndex=r,n[r]=i}function Zx(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(vn(n[r],t[r]))return!1;return Yi>0&&En&&En.push(e),!0}const ew="3.5.13",eI=nn,tI=kA,nI=Io,rI=tx,aI={createComponentInstance:$x,setupComponent:Yx,renderComponentRoot:jl,setCurrentRenderingInstance:ou,isVNode:Pa,normalizeVNode:Vn,getComponentPublicInstance:Uu,ensureValidVNode:_m,pushWarningContext:bA,popWarningContext:xA},iI=aI,oI=null,sI=null,uI=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zh;const Yg=typeof window<"u"&&window.trustedTypes;if(Yg)try{Zh=Yg.createPolicy("vue",{createHTML:e=>e})}catch{}const tw=Zh?e=>Zh.createHTML(e):e=>e,lI="http://www.w3.org/2000/svg",cI="http://www.w3.org/1998/Math/MathML",_a=typeof document<"u"?document:null,Jg=_a&&_a.createElement("template"),fI={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?_a.createElementNS(lI,e):t==="mathml"?_a.createElementNS(cI,e):n?_a.createElement(e,{is:n}):_a.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>_a.createTextNode(e),createComment:e=>_a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{Jg.innerHTML=tw(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=Jg.content;if(r==="svg"||r==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ha="transition",Ts="animation",Qo=Symbol("_vtc"),nw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rw=Qe({},pm,nw),dI=e=>(e.displayName="Transition",e.props=rw,e),di=dI((e,{slots:t})=>Br(lx,aw(e),t)),Ai=(e,t=[])=>{ve(e)?e.forEach(n=>n(...t)):e&&e(...t)},Qg=e=>e?ve(e)?e.some(t=>t.length>1):e.length>1:!1;function aw(e){const t={};for(const A in e)A in nw||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:l=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,m=hI(a),p=m&&m[0],v=m&&m[1],{onBeforeEnter:g,onEnter:x,onEnterCancelled:y,onLeave:b,onLeaveCancelled:w,onBeforeAppear:_=g,onAppear:S=x,onAppearCancelled:C=y}=t,k=(A,I,D,M)=>{A._enterCancelled=M,$a(A,I?c:s),$a(A,I?l:o),D&&D()},E=(A,I)=>{A._isLeaving=!1,$a(A,f),$a(A,h),$a(A,d),I&&I()},T=A=>(I,D)=>{const M=A?S:x,L=()=>k(I,A,D);Ai(M,[I,L]),Zg(()=>{$a(I,A?u:i),Gr(I,A?c:s),Qg(M)||ey(I,r,p,L)})};return Qe(t,{onBeforeEnter(A){Ai(g,[A]),Gr(A,i),Gr(A,o)},onBeforeAppear(A){Ai(_,[A]),Gr(A,u),Gr(A,l)},onEnter:T(!1),onAppear:T(!0),onLeave(A,I){A._isLeaving=!0;const D=()=>E(A,I);Gr(A,f),A._enterCancelled?(Gr(A,d),ep()):(ep(),Gr(A,d)),Zg(()=>{A._isLeaving&&($a(A,f),Gr(A,h),Qg(b)||ey(A,r,v,D))}),Ai(b,[A,D])},onEnterCancelled(A){k(A,!1,void 0,!0),Ai(y,[A])},onAppearCancelled(A){k(A,!0,void 0,!0),Ai(C,[A])},onLeaveCancelled(A){E(A),Ai(w,[A])}})}function hI(e){if(e==null)return null;if(st(e))return[Vd(e.enter),Vd(e.leave)];{const t=Vd(e);return[t,t]}}function Vd(e){return eu(e)}function Gr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Qo]||(e[Qo]=new Set)).add(t)}function $a(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Qo];n&&(n.delete(t),n.size||(e[Qo]=void 0))}function Zg(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pI=0;function ey(e,t,n,r){const a=e._endId=++pI,i=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:s,propCount:u}=iw(e,t);if(!o)return r();const l=o+"end";let c=0;const f=()=>{e.removeEventListener(l,d),i()},d=h=>{h.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},s+1),e.addEventListener(l,d)}function iw(e,t){const n=window.getComputedStyle(e),r=m=>(n[m]||"").split(", "),a=r(`${Ha}Delay`),i=r(`${Ha}Duration`),o=ty(a,i),s=r(`${Ts}Delay`),u=r(`${Ts}Duration`),l=ty(s,u);let c=null,f=0,d=0;t===Ha?o>0&&(c=Ha,f=o,d=i.length):t===Ts?l>0&&(c=Ts,f=l,d=u.length):(f=Math.max(o,l),c=f>0?o>l?Ha:Ts:null,d=c?c===Ha?i.length:u.length:0);const h=c===Ha&&/\b(transform|all)(,|$)/.test(r(`${Ha}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function ty(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>ny(n)+ny(e[r])))}function ny(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ep(){return document.body.offsetHeight}function mI(e,t,n){const r=e[Qo];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const pc=Symbol("_vod"),ow=Symbol("_vsh"),Ef={beforeMount(e,{value:t},{transition:n}){e[pc]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Is(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Is(e,!0),r.enter(e)):r.leave(e,()=>{Is(e,!1)}):Is(e,t))},beforeUnmount(e,{value:t}){Is(e,t)}};function Is(e,t){e.style.display=t?e[pc]:"none",e[ow]=!t}function vI(){Ef.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const sw=Symbol("");function gI(e){const t=Qn();if(!t)return;const n=t.ut=(a=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>mc(i,a))},r=()=>{const a=e(t.proxy);t.ce?mc(t.ce,a):tp(t.subTree,a),n(a)};bm(()=>{au(r)}),St(()=>{Ge(r,nn,{flush:"post"});const a=new MutationObserver(r);a.observe(t.subTree.el.parentNode,{childList:!0}),Bu(()=>a.disconnect())})}function tp(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{tp(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)mc(e.el,t);else if(e.type===Ye)e.children.forEach(n=>tp(n,t));else if(e.type===zi){let{el:n,anchor:r}=e;for(;n&&(mc(n,t),n!==r);)n=n.nextSibling}}function mc(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const a in t)n.setProperty(`--${a}`,t[a]),r+=`--${a}: ${t[a]};`;n[sw]=r}}const yI=/(^|;)\s*display\s*:/;function bI(e,t,n){const r=e.style,a=Fe(n);let i=!1;if(n&&!a){if(t)if(Fe(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&zl(r,s,"")}else for(const o in t)n[o]==null&&zl(r,o,"");for(const o in n)o==="display"&&(i=!0),zl(r,o,n[o])}else if(a){if(t!==n){const o=r[sw];o&&(n+=";"+o),r.cssText=n,i=yI.test(n)}}else t&&e.removeAttribute("style");pc in e&&(e[pc]=i?r.display:"",e[ow]&&(r.display="none"))}const ry=/\s*!important$/;function zl(e,t,n){if(ve(n))n.forEach(r=>zl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=xI(e,t);ry.test(n)?e.setProperty(xn(r),n.replace(ry,""),"important"):e[r]=n}}const ay=["Webkit","Moz","ms"],Ud={};function xI(e,t){const n=Ud[t];if(n)return n;let r=dt(t);if(r!=="filter"&&r in e)return Ud[t]=r;r=pr(r);for(let a=0;a<ay.length;a++){const i=ay[a]+r;if(i in e)return Ud[t]=i}return t}const iy="http://www.w3.org/1999/xlink";function oy(e,t,n,r,a,i=A1(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(iy,t.slice(6,t.length)):e.setAttributeNS(iy,t,n):n==null||i&&!am(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Pn(n)?String(n):n)}function sy(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?tw(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(s!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=am(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function Ca(e,t,n,r){e.addEventListener(t,n,r)}function wI(e,t,n,r){e.removeEventListener(t,n,r)}const uy=Symbol("_vei");function _I(e,t,n,r,a=null){const i=e[uy]||(e[uy]={}),o=i[t];if(r&&o)o.value=r;else{const[s,u]=kI(t);if(r){const l=i[t]=SI(r,a);Ca(e,s,l,u)}else o&&(wI(e,s,o,u),i[t]=void 0)}}const ly=/(?:Once|Passive|Capture)$/;function kI(e){let t;if(ly.test(e)){t={};let r;for(;r=e.match(ly);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xn(e.slice(2)),t]}let Wd=0;const EI=Promise.resolve(),CI=()=>Wd||(EI.then(()=>Wd=0),Wd=Date.now());function SI(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;kr(AI(r,n.value),t,5,[r])};return n.value=e,n.attached=CI(),n}function AI(e,t){if(ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const cy=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,TI=(e,t,n,r,a,i)=>{const o=a==="svg";t==="class"?mI(e,r,o):t==="style"?bI(e,n,r):gi(t)?sf(t)||_I(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):II(e,t,r,o))?(sy(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&oy(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(r))?sy(e,dt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),oy(e,t,r,o))};function II(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&cy(t)&&De(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return cy(t)&&Fe(n)?!1:t in e}const fy={};/*! #__NO_SIDE_EFFECTS__ */function uw(e,t,n){const r=Xt(e,t);Ou(r)&&Qe(r,t);class a extends Cf{constructor(o){super(r,o,n)}}return a.def=r,a}/*! #__NO_SIDE_EFFECTS__ */const RI=(e,t)=>uw(e,t,xw),NI=typeof HTMLElement<"u"?HTMLElement:class{};class Cf extends NI{constructor(t,n={},r=gc){super(),this._def=t,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==gc?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Cf){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Jn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const a of r)this._setAttr(a.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,a=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let s;if(i&&!ve(i))for(const u in i){const l=i[u];(l===Number||l&&l.type===Number)&&(u in this._props&&(this._props[u]=eu(this._props[u])),(s||(s=Object.create(null)))[dt(u)]=!0)}this._numberProps=s,a&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)at(this,r)||Object.defineProperty(this,r,{get:()=>ft(n[r])})}_resolveProps(t){const{props:n}=t,r=ve(n)?n:Object.keys(n||{});for(const a of Object.keys(this))a[0]!=="_"&&r.includes(a)&&this._setProp(a,this[a]);for(const a of r.map(dt))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(i){this._setProp(a,i,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let r=n?this.getAttribute(t):fy;const a=dt(t);n&&this._numberProps&&this._numberProps[a]&&(r=eu(r)),this._setProp(a,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,a=!1){if(n!==this._props[t]&&(n===fy?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),a&&this._instance&&this._update(),r)){const i=this._ob;i&&i.disconnect(),n===!0?this.setAttribute(xn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(xn(t),n+""):n||this.removeAttribute(xn(t)),i&&i.observe(this,{attributes:!0})}}_update(){bw(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=j(this._def,Qe(t,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const a=(i,o)=>{this.dispatchEvent(new CustomEvent(i,Ou(o[0])?Qe({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{a(i,o),xn(i)!==i&&a(xn(i),o)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let a=t.length-1;a>=0;a--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=t[a],this.shadowRoot.prepend(i)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const a=t[r],i=a.getAttribute("name")||"default",o=this._slots[i],s=a.parentNode;if(o)for(const u of o){if(n&&u.nodeType===1){const l=n+"-s",c=document.createTreeWalker(u,1);u.setAttribute(l,"");let f;for(;f=c.nextNode();)f.setAttribute(l,"")}s.insertBefore(u,a)}else for(;a.firstChild;)s.insertBefore(a.firstChild,a);s.removeChild(a)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function lw(e){const t=Qn(),n=t&&t.ce;return n||null}function OI(){const e=lw();return e&&e.shadowRoot}function DI(e="$style"){{const t=Qn();if(!t)return Xe;const n=t.type.__cssModules;if(!n)return Xe;const r=n[e];return r||Xe}}const cw=new WeakMap,fw=new WeakMap,vc=Symbol("_moveCb"),dy=Symbol("_enterCb"),PI=e=>(delete e.props.mode,e),FI=PI({name:"TransitionGroup",props:Qe({},rw,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Qn(),r=hm();let a,i;return Lu(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!VI(a[0].el,n.vnode.el,o))return;a.forEach(MI),a.forEach(LI);const s=a.filter(BI);ep(),s.forEach(u=>{const l=u.el,c=l.style;Gr(l,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=l[vc]=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",f),l[vc]=null,$a(l,o))};l.addEventListener("transitionend",f)})}),()=>{const o=Ze(e),s=aw(o);let u=o.tag||Ye;if(a=[],i)for(let l=0;l<i.length;l++){const c=i[l];c.el&&c.el instanceof Element&&(a.push(c),Da(c,Yo(c,s,r,n)),cw.set(c,c.el.getBoundingClientRect()))}i=t.default?bf(t.default()):[];for(let l=0;l<i.length;l++){const c=i[l];c.key!=null&&Da(c,Yo(c,s,r,n))}return j(u,null,i)}}}),Sf=FI;function MI(e){const t=e.el;t[vc]&&t[vc](),t[dy]&&t[dy]()}function LI(e){fw.set(e,e.el.getBoundingClientRect())}function BI(e){const t=cw.get(e),n=fw.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function VI(e,t,n){const r=e.cloneNode(),a=e[Qo];a&&a.forEach(s=>{s.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=iw(r);return i.removeChild(r),o}const hi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ve(t)?n=>Wi(t,n):t};function UI(e){e.target.composing=!0}function hy(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wr=Symbol("_assign"),Gn={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[wr]=hi(a);const i=r||a.props&&a.props.type==="number";Ca(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=Zs(s)),e[wr](s)}),n&&Ca(e,"change",()=>{e.value=e.value.trim()}),t||(Ca(e,"compositionstart",UI),Ca(e,"compositionend",hy),Ca(e,"change",hy))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[wr]=hi(o),e.composing)return;const s=(i||e.type==="number")&&!/^0\d/.test(e.value)?Zs(e.value):e.value,u=t??"";s!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===u)||(e.value=u))}},cu={deep:!0,created(e,t,n){e[wr]=hi(n),Ca(e,"change",()=>{const r=e._modelValue,a=Zo(e),i=e.checked,o=e[wr];if(ve(r)){const s=Pu(r,a),u=s!==-1;if(i&&!u)o(r.concat(a));else if(!i&&u){const l=[...r];l.splice(s,1),o(l)}}else if(yi(r)){const s=new Set(r);i?s.add(a):s.delete(a),o(s)}else o(hw(e,i))})},mounted:py,beforeUpdate(e,t,n){e[wr]=hi(n),py(e,t,n)}};function py(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(ve(t))a=Pu(t,r.props.value)>-1;else if(yi(t))a=t.has(r.props.value);else{if(t===n)return;a=Oa(t,hw(e,!0))}e.checked!==a&&(e.checked=a)}const Am={created(e,{value:t},n){e.checked=Oa(t,n.props.value),e[wr]=hi(n),Ca(e,"change",()=>{e[wr](Zo(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[wr]=hi(r),t!==n&&(e.checked=Oa(t,r.props.value))}},dw={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const a=yi(t);Ca(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Zs(Zo(o)):Zo(o));e[wr](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,Jn(()=>{e._assigning=!1})}),e[wr]=hi(r)},mounted(e,{value:t}){my(e,t)},beforeUpdate(e,t,n){e[wr]=hi(n)},updated(e,{value:t}){e._assigning||my(e,t)}};function my(e,t){const n=e.multiple,r=ve(t);if(!(n&&!r&&!yi(t))){for(let a=0,i=e.options.length;a<i;a++){const o=e.options[a],s=Zo(o);if(n)if(r){const u=typeof s;u==="string"||u==="number"?o.selected=t.some(l=>String(l)===String(s)):o.selected=Pu(t,s)>-1}else o.selected=t.has(s);else if(Oa(Zo(o),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Zo(e){return"_value"in e?e._value:e.value}function hw(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const pw={created(e,t,n){xl(e,t,n,null,"created")},mounted(e,t,n){xl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){xl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){xl(e,t,n,r,"updated")}};function mw(e,t){switch(e){case"SELECT":return dw;case"TEXTAREA":return Gn;default:switch(t){case"checkbox":return cu;case"radio":return Am;default:return Gn}}}function xl(e,t,n,r,a){const o=mw(e.tagName,n.props&&n.props.type)[a];o&&o(e,t,n,r)}function WI(){Gn.getSSRProps=({value:e})=>({value:e}),Am.getSSRProps=({value:e},t)=>{if(t.props&&Oa(t.props.value,e))return{checked:!0}},cu.getSSRProps=({value:e},t)=>{if(ve(e)){if(t.props&&Pu(e,t.props.value)>-1)return{checked:!0}}else if(yi(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},pw.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=mw(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const jI=["ctrl","shift","alt","meta"],HI={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jI.some(n=>e[`${n}Key`]&&!t.includes(n))},Af=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=HI[t[o]];if(s&&s(a,t))return}return e(a,...i)})},zI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},GI=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const i=xn(a.key);if(t.some(o=>o===i||zI[o]===i))return e(a)})},vw=Qe({patchProp:TI},fI);let Ks,vy=!1;function gw(){return Ks||(Ks=Nx(vw))}function yw(){return Ks=vy?Ks:Ox(vw),vy=!0,Ks}const bw=(...e)=>{gw().render(...e)},KI=(...e)=>{yw().hydrate(...e)},gc=(...e)=>{const t=gw().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=_w(r);if(!a)return;const i=t._component;!De(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,ww(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t},xw=(...e)=>{const t=yw().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=_w(r);if(a)return n(a,!0,ww(a))},t};function ww(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _w(e){return Fe(e)?document.querySelector(e):e}let gy=!1;const qI=()=>{gy||(gy=!0,WI(),vI())},$I=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:lx,BaseTransitionPropsValidators:pm,Comment:Mt,DeprecationTypes:uI,EffectScope:im,ErrorCodes:_A,ErrorTypeStrings:tI,Fragment:Ye,KeepAlive:qA,ReactiveEffect:tu,Static:zi,Suspense:LT,Teleport:ix,Text:Ia,TrackOpTypes:mA,Transition:di,TransitionGroup:Sf,TriggerOpTypes:vA,VueElement:Cf,assertNumber:wA,callWithAsyncErrorHandling:kr,callWithErrorHandling:gs,camelize:dt,capitalize:pr,cloneVNode:ra,compatUtils:sI,computed:q,createApp:gc,createBlock:$n,createCommentVNode:en,createElementBlock:Te,createElementVNode:F,createHydrationRenderer:Ox,createPropsRestProxy:fT,createRenderer:Nx,createSSRApp:xw,createSlots:JA,createStaticVNode:Ji,createTextVNode:_t,createVNode:j,customRef:$1,defineAsyncComponent:GA,defineComponent:Xt,defineCustomElement:uw,defineEmits:tT,defineExpose:nT,defineModel:iT,defineOptions:rT,defineProps:eT,defineSSRCustomElement:RI,defineSlots:aT,devtools:nI,effect:VS,effectScope:df,getCurrentInstance:Qn,getCurrentScope:N1,getCurrentWatcher:gA,getTransitionRawChildren:bf,guardReactiveProps:qx,h:Br,handleError:so,hasInjectionContext:xT,hydrate:KI,hydrateOnIdle:VA,hydrateOnInteraction:HA,hydrateOnMediaQuery:jA,hydrateOnVisible:WA,initCustomFormatter:QT,initDirectivesForSSR:qI,inject:Et,isMemoSame:Zx,isProxy:gf,isReactive:ai,isReadonly:fi,isRef:yt,isRuntimeOnly:XT,isShallow:fr,isVNode:Pa,markRaw:cm,mergeDefaults:lT,mergeModels:cT,mergeProps:Bt,nextTick:Jn,normalizeClass:ir,normalizeProps:w1,normalizeStyle:ms,onActivated:vm,onBeforeMount:ym,onBeforeUnmount:Fn,onBeforeUpdate:bm,onDeactivated:gm,onErrorCaptured:mx,onMounted:St,onRenderTracked:px,onRenderTriggered:hx,onScopeDispose:Er,onServerPrefetch:dx,onUnmounted:Bu,onUpdated:Lu,onWatcherCleanup:Y1,openBlock:ge,popScopeId:AA,provide:zn,proxyRefs:fm,pushScopeId:SA,queuePostFlushCb:au,reactive:Dt,readonly:vs,ref:fe,registerRuntimeCompiler:$T,render:bw,renderList:Dr,renderSlot:yx,resolveComponent:YA,resolveDirective:wf,resolveDynamicComponent:gx,resolveFilter:oI,resolveTransitionHooks:Yo,setBlockTracking:qh,setDevtoolsHook:rI,setTransitionHooks:Da,shallowReactive:lm,shallowReadonly:iA,shallowRef:rt,ssrContextKey:Mx,ssrUtils:iI,stop:US,toDisplayString:Ke,toHandlerKey:Ui,toHandlers:QA,toRaw:Ze,toRef:tn,toRefs:Fu,toValue:uA,transformVNodeArgs:HT,triggerRef:sA,unref:ft,useAttrs:uT,useCssModule:DI,useCssVars:gI,useHost:lw,useId:NA,useModel:RT,useSSRContext:Lx,useShadowRoot:OI,useSlots:sT,useTemplateRef:OA,useTransitionState:hm,vModelCheckbox:cu,vModelDynamic:pw,vModelRadio:Am,vModelSelect:dw,vModelText:Gn,vShow:Ef,version:ew,warn:eI,watch:Ge,watchEffect:oa,watchPostEffect:TT,watchSyncEffect:Bx,withAsyncContext:dT,withCtx:Le,withDefaults:oT,withDirectives:zt,withKeys:GI,withMemo:ZT,withModifiers:Af,withScopeId:TA},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ro=typeof document<"u";function kw(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function XI(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&kw(e.default)}const lt=Object.assign;function jd(e,t){const n={};for(const r in t){const a=t[r];n[r]=Lr(a)?a.map(e):e(a)}return n}const qs=()=>{},Lr=Array.isArray,Ew=/#/g,YI=/&/g,JI=/\//g,QI=/=/g,ZI=/\?/g,Cw=/\+/g,eR=/%5B/g,tR=/%5D/g,Sw=/%5E/g,nR=/%60/g,Aw=/%7B/g,rR=/%7C/g,Tw=/%7D/g,aR=/%20/g;function Tm(e){return encodeURI(""+e).replace(rR,"|").replace(eR,"[").replace(tR,"]")}function iR(e){return Tm(e).replace(Aw,"{").replace(Tw,"}").replace(Sw,"^")}function np(e){return Tm(e).replace(Cw,"%2B").replace(aR,"+").replace(Ew,"%23").replace(YI,"%26").replace(nR,"`").replace(Aw,"{").replace(Tw,"}").replace(Sw,"^")}function oR(e){return np(e).replace(QI,"%3D")}function sR(e){return Tm(e).replace(Ew,"%23").replace(ZI,"%3F")}function uR(e){return e==null?"":sR(e).replace(JI,"%2F")}function fu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const lR=/\/$/,cR=e=>e.replace(lR,"");function Hd(e,t,n="/"){let r,a={},i="",o="";const s=t.indexOf("#");let u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,s>-1?s:t.length),a=e(i)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=pR(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:fu(o)}}function fR(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yy(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dR(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&es(t.matched[r],n.matched[a])&&Iw(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Iw(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!hR(e[n],t[n]))return!1;return!0}function hR(e,t){return Lr(e)?by(e,t):Lr(t)?by(t,e):e===t}function by(e,t){return Lr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function pR(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const za={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var du;(function(e){e.pop="pop",e.push="push"})(du||(du={}));var $s;(function(e){e.back="back",e.forward="forward",e.unknown=""})($s||($s={}));function mR(e){if(!e)if(Ro){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cR(e)}const vR=/^[^#]+#/;function gR(e,t){return e.replace(vR,"#")+t}function yR(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Tf=()=>({left:window.scrollX,top:window.scrollY});function bR(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=yR(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function xy(e,t){return(history.state?history.state.position-t:-1)+e}const rp=new Map;function xR(e,t){rp.set(e,t)}function wR(e){const t=rp.get(e);return rp.delete(e),t}let _R=()=>location.protocol+"//"+location.host;function Rw(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,u=a.slice(s);return u[0]!=="/"&&(u="/"+u),yy(u,"")}return yy(n,e)+r+a}function kR(e,t,n,r){let a=[],i=[],o=null;const s=({state:d})=>{const h=Rw(e,location),m=n.value,p=t.value;let v=0;if(d){if(n.value=h,t.value=d,o&&o===m){o=null;return}v=p?d.position-p.position:0}else r(h);a.forEach(g=>{g(n.value,m,{delta:v,type:du.pop,direction:v?v>0?$s.forward:$s.back:$s.unknown})})};function u(){o=n.value}function l(d){a.push(d);const h=()=>{const m=a.indexOf(d);m>-1&&a.splice(m,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(lt({},d.state,{scroll:Tf()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:f}}function wy(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Tf():null}}function ER(e){const{history:t,location:n}=window,r={value:Rw(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,l,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:_R()+e+u;try{t[c?"replaceState":"pushState"](l,"",d),a.value=l}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function o(u,l){const c=lt({},t.state,wy(a.value.back,u,a.value.forward,!0),l,{position:a.value.position});i(u,c,!0),r.value=u}function s(u,l){const c=lt({},a.value,t.state,{forward:u,scroll:Tf()});i(c.current,c,!0);const f=lt({},wy(r.value,u,null),{position:c.position+1},l);i(u,f,!1),r.value=u}return{location:r,state:a,push:s,replace:o}}function CR(e){e=mR(e);const t=ER(e),n=kR(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=lt({location:"",base:e,go:r,createHref:gR.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function SR(e){return typeof e=="string"||e&&typeof e=="object"}function Nw(e){return typeof e=="string"||typeof e=="symbol"}const Ow=Symbol("");var _y;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_y||(_y={}));function ts(e,t){return lt(new Error,{type:e,[Ow]:!0},t)}function ma(e,t){return e instanceof Error&&Ow in e&&(t==null||!!(e.type&t))}const ky="[^/]+?",AR={sensitive:!1,strict:!1,start:!0,end:!0},TR=/[.+*?^${}()[\]/\\]/g;function IR(e,t){const n=lt({},AR,t),r=[];let a=n.start?"^":"";const i=[];for(const l of e){const c=l.length?[]:[90];n.strict&&!l.length&&(a+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(TR,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:p,optional:v,regexp:g}=d;i.push({name:m,repeatable:p,optional:v});const x=g||ky;if(x!==ky){h+=10;try{new RegExp(`(${x})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+b.message)}}let y=p?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(y=v&&l.length<2?`(?:/${y})`:"/"+y),v&&(y+="?"),a+=y,h+=20,v&&(h+=-8),p&&(h+=-20),x===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function s(l){const c=l.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",m=i[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function u(l){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:v}=h,g=m in l?l[m]:"";if(Lr(g)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=Lr(g)?g.join("/"):g;if(!x)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=x}}return c||"/"}return{re:o,score:r,keys:i,parse:s,stringify:u}}function RR(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Dw(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=RR(r[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-r.length)===1){if(Ey(r))return 1;if(Ey(a))return-1}return a.length-r.length}function Ey(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const NR={type:0,value:""},OR=/[a-zA-Z0-9_]/;function DR(e){if(!e)return[[]];if(e==="/")return[[NR]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,u,l="",c="";function f(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=u}for(;s<e.length;){if(u=e[s++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(l&&f(),o()):u===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:u==="("?n=2:OR.test(u)?d():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),f(),o(),a}function PR(e,t,n){const r=IR(DR(e.path),n),a=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function FR(e,t){const n=[],r=new Map;t=Ty({strict:!1,end:!0,sensitive:!1},t);function a(f){return r.get(f)}function i(f,d,h){const m=!h,p=Sy(f);p.aliasOf=h&&h.record;const v=Ty(t,f),g=[p];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const w of b)g.push(Sy(lt({},p,{components:h?h.record.components:p.components,path:w,aliasOf:h?h.record:p})))}let x,y;for(const b of g){const{path:w}=b;if(d&&w[0]!=="/"){const _=d.record.path,S=_[_.length-1]==="/"?"":"/";b.path=d.record.path+(w&&S+w)}if(x=PR(b,d,v),h?h.alias.push(x):(y=y||x,y!==x&&y.alias.push(x),m&&f.name&&!Ay(x)&&o(f.name)),Pw(x)&&u(x),p.children){const _=p.children;for(let S=0;S<_.length;S++)i(_[S],x,h&&h.children[S])}h=h||x}return y?()=>{o(y)}:qs}function o(f){if(Nw(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function s(){return n}function u(f){const d=BR(f,n);n.splice(d,0,f),f.record.name&&!Ay(f)&&r.set(f.record.name,f)}function l(f,d){let h,m={},p,v;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw ts(1,{location:f});v=h.record.name,m=lt(Cy(d.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),f.params&&Cy(f.params,h.keys.map(y=>y.name))),p=h.stringify(m)}else if(f.path!=null)p=f.path,h=n.find(y=>y.re.test(p)),h&&(m=h.parse(p),v=h.record.name);else{if(h=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!h)throw ts(1,{location:f,currentLocation:d});v=h.record.name,m=lt({},d.params,f.params),p=h.stringify(m)}const g=[];let x=h;for(;x;)g.unshift(x.record),x=x.parent;return{name:v,path:p,params:m,matched:g,meta:LR(g)}}e.forEach(f=>i(f));function c(){n.length=0,r.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:c,getRoutes:s,getRecordMatcher:a}}function Cy(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Sy(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:MR(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function MR(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Ay(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function LR(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function Ty(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function BR(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Dw(e,t[i])<0?r=i:n=i+1}const a=VR(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function VR(e){let t=e;for(;t=t.parent;)if(Pw(t)&&Dw(e,t)===0)return t}function Pw({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function UR(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(Cw," "),o=i.indexOf("="),s=fu(o<0?i:i.slice(0,o)),u=o<0?null:fu(i.slice(o+1));if(s in t){let l=t[s];Lr(l)||(l=t[s]=[l]),l.push(u)}else t[s]=u}return t}function Iy(e){let t="";for(let n in e){const r=e[n];if(n=oR(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Lr(r)?r.map(i=>i&&np(i)):[r&&np(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function WR(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Lr(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const jR=Symbol(""),Ry=Symbol(""),If=Symbol(""),Im=Symbol(""),ap=Symbol("");function Rs(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Za(e,t,n,r,a,i=o=>o()){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((s,u)=>{const l=d=>{d===!1?u(ts(4,{from:n,to:t})):d instanceof Error?u(d):SR(d)?u(ts(2,{from:t,to:d})):(o&&r.enterCallbacks[a]===o&&typeof d=="function"&&o.push(d),s())},c=i(()=>e.call(r&&r.instances[a],t,n,l));let f=Promise.resolve(c);e.length<3&&(f=f.then(l)),f.catch(d=>u(d))})}function zd(e,t,n,r,a=i=>i()){const i=[];for(const o of e)for(const s in o.components){let u=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(kw(u)){const c=(u.__vccOpts||u)[t];c&&i.push(Za(c,n,r,o,s,a))}else{let l=u();i.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const f=XI(c)?c.default:c;o.mods[s]=c,o.components[s]=f;const h=(f.__vccOpts||f)[t];return h&&Za(h,n,r,o,s,a)()}))}}return i}function Ny(e){const t=Et(If),n=Et(Im),r=q(()=>{const u=ft(e.to);return t.resolve(u)}),a=q(()=>{const{matched:u}=r.value,{length:l}=u,c=u[l-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(es.bind(null,c));if(d>-1)return d;const h=Oy(u[l-2]);return l>1&&Oy(c)===h&&f[f.length-1].path!==h?f.findIndex(es.bind(null,u[l-2])):d}),i=q(()=>a.value>-1&&qR(n.params,r.value.params)),o=q(()=>a.value>-1&&a.value===n.matched.length-1&&Iw(n.params,r.value.params));function s(u={}){if(KR(u)){const l=t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(qs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:q(()=>r.value.href),isActive:i,isExactActive:o,navigate:s}}function HR(e){return e.length===1?e[0]:e}const zR=Xt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ny,setup(e,{slots:t}){const n=Dt(Ny(e)),{options:r}=Et(If),a=q(()=>({[Dy(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Dy(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&HR(t.default(n));return e.custom?i:Br("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),GR=zR;function KR(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function qR(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Lr(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function Oy(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Dy=(e,t,n)=>e??t??n,$R=Xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Et(ap),a=q(()=>e.route||r.value),i=Et(Ry,0),o=q(()=>{let l=ft(i);const{matched:c}=a.value;let f;for(;(f=c[l])&&!f.components;)l++;return l}),s=q(()=>a.value.matched[o.value]);zn(Ry,q(()=>o.value+1)),zn(jR,s),zn(ap,a);const u=fe();return Ge(()=>[u.value,s.value,e.name],([l,c,f],[d,h,m])=>{c&&(c.instances[f]=l,h&&h!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),l&&c&&(!h||!es(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=a.value,c=e.name,f=s.value,d=f&&f.components[c];if(!d)return Py(n.default,{Component:d,route:l});const h=f.props[c],m=h?h===!0?l.params:typeof h=="function"?h(l):h:null,v=Br(d,lt({},m,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return Py(n.default,{Component:v,route:l})||v}}});function Py(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fw=$R;function XR(e){const t=FR(e.routes,e),n=e.parseQuery||UR,r=e.stringifyQuery||Iy,a=e.history,i=Rs(),o=Rs(),s=Rs(),u=rt(za);let l=za;Ro&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jd.bind(null,G=>""+G),f=jd.bind(null,uR),d=jd.bind(null,fu);function h(G,ee){let te,ce;return Nw(G)?(te=t.getRecordMatcher(G),ce=ee):ce=G,t.addRoute(ce,te)}function m(G){const ee=t.getRecordMatcher(G);ee&&t.removeRoute(ee)}function p(){return t.getRoutes().map(G=>G.record)}function v(G){return!!t.getRecordMatcher(G)}function g(G,ee){if(ee=lt({},ee||u.value),typeof G=="string"){const P=Hd(n,G,ee.path),z=t.resolve({path:P.path},ee),Z=a.createHref(P.fullPath);return lt(P,z,{params:d(z.params),hash:fu(P.hash),redirectedFrom:void 0,href:Z})}let te;if(G.path!=null)te=lt({},G,{path:Hd(n,G.path,ee.path).path});else{const P=lt({},G.params);for(const z in P)P[z]==null&&delete P[z];te=lt({},G,{params:f(P)}),ee.params=f(ee.params)}const ce=t.resolve(te,ee),be=G.hash||"";ce.params=c(d(ce.params));const Oe=fR(r,lt({},G,{hash:iR(be),path:ce.path})),N=a.createHref(Oe);return lt({fullPath:Oe,hash:be,query:r===Iy?WR(G.query):G.query||{}},ce,{redirectedFrom:void 0,href:N})}function x(G){return typeof G=="string"?Hd(n,G,u.value.path):lt({},G)}function y(G,ee){if(l!==G)return ts(8,{from:ee,to:G})}function b(G){return S(G)}function w(G){return b(lt(x(G),{replace:!0}))}function _(G){const ee=G.matched[G.matched.length-1];if(ee&&ee.redirect){const{redirect:te}=ee;let ce=typeof te=="function"?te(G):te;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=x(ce):{path:ce},ce.params={}),lt({query:G.query,hash:G.hash,params:ce.path!=null?{}:G.params},ce)}}function S(G,ee){const te=l=g(G),ce=u.value,be=G.state,Oe=G.force,N=G.replace===!0,P=_(te);if(P)return S(lt(x(P),{state:typeof P=="object"?lt({},be,P.state):be,force:Oe,replace:N}),ee||te);const z=te;z.redirectedFrom=ee;let Z;return!Oe&&dR(r,ce,te)&&(Z=ts(16,{to:z,from:ce}),ae(ce,ce,!0,!1)),(Z?Promise.resolve(Z):E(z,ce)).catch(J=>ma(J)?ma(J,2)?J:X(J):V(J,z,ce)).then(J=>{if(J){if(ma(J,2))return S(lt({replace:N},x(J.to),{state:typeof J.to=="object"?lt({},be,J.to.state):be,force:Oe}),ee||z)}else J=A(z,ce,!0,N,be);return T(z,ce,J),J})}function C(G,ee){const te=y(G,ee);return te?Promise.reject(te):Promise.resolve()}function k(G){const ee=Ne.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(G):G()}function E(G,ee){let te;const[ce,be,Oe]=YR(G,ee);te=zd(ce.reverse(),"beforeRouteLeave",G,ee);for(const P of ce)P.leaveGuards.forEach(z=>{te.push(Za(z,G,ee))});const N=C.bind(null,G,ee);return te.push(N),de(te).then(()=>{te=[];for(const P of i.list())te.push(Za(P,G,ee));return te.push(N),de(te)}).then(()=>{te=zd(be,"beforeRouteUpdate",G,ee);for(const P of be)P.updateGuards.forEach(z=>{te.push(Za(z,G,ee))});return te.push(N),de(te)}).then(()=>{te=[];for(const P of Oe)if(P.beforeEnter)if(Lr(P.beforeEnter))for(const z of P.beforeEnter)te.push(Za(z,G,ee));else te.push(Za(P.beforeEnter,G,ee));return te.push(N),de(te)}).then(()=>(G.matched.forEach(P=>P.enterCallbacks={}),te=zd(Oe,"beforeRouteEnter",G,ee,k),te.push(N),de(te))).then(()=>{te=[];for(const P of o.list())te.push(Za(P,G,ee));return te.push(N),de(te)}).catch(P=>ma(P,8)?P:Promise.reject(P))}function T(G,ee,te){s.list().forEach(ce=>k(()=>ce(G,ee,te)))}function A(G,ee,te,ce,be){const Oe=y(G,ee);if(Oe)return Oe;const N=ee===za,P=Ro?history.state:{};te&&(ce||N?a.replace(G.fullPath,lt({scroll:N&&P&&P.scroll},be)):a.push(G.fullPath,be)),u.value=G,ae(G,ee,te,N),X()}let I;function D(){I||(I=a.listen((G,ee,te)=>{if(!Ie.listening)return;const ce=g(G),be=_(ce);if(be){S(lt(be,{replace:!0,force:!0}),ce).catch(qs);return}l=ce;const Oe=u.value;Ro&&xR(xy(Oe.fullPath,te.delta),Tf()),E(ce,Oe).catch(N=>ma(N,12)?N:ma(N,2)?(S(lt(x(N.to),{force:!0}),ce).then(P=>{ma(P,20)&&!te.delta&&te.type===du.pop&&a.go(-1,!1)}).catch(qs),Promise.reject()):(te.delta&&a.go(-te.delta,!1),V(N,ce,Oe))).then(N=>{N=N||A(ce,Oe,!1),N&&(te.delta&&!ma(N,8)?a.go(-te.delta,!1):te.type===du.pop&&ma(N,20)&&a.go(-1,!1)),T(ce,Oe,N)}).catch(qs)}))}let M=Rs(),L=Rs(),W;function V(G,ee,te){X(G);const ce=L.list();return ce.length?ce.forEach(be=>be(G,ee,te)):console.error(G),Promise.reject(G)}function H(){return W&&u.value!==za?Promise.resolve():new Promise((G,ee)=>{M.add([G,ee])})}function X(G){return W||(W=!G,D(),M.list().forEach(([ee,te])=>G?te(G):ee()),M.reset()),G}function ae(G,ee,te,ce){const{scrollBehavior:be}=e;if(!Ro||!be)return Promise.resolve();const Oe=!te&&wR(xy(G.fullPath,0))||(ce||!te)&&history.state&&history.state.scroll||null;return Jn().then(()=>be(G,ee,Oe)).then(N=>N&&bR(N)).catch(N=>V(N,G,ee))}const se=G=>a.go(G);let me;const Ne=new Set,Ie={currentRoute:u,listening:!0,addRoute:h,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:p,resolve:g,options:e,push:b,replace:w,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:L.add,isReady:H,install(G){const ee=this;G.component("RouterLink",GR),G.component("RouterView",Fw),G.config.globalProperties.$router=ee,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(u)}),Ro&&!me&&u.value===za&&(me=!0,b(a.location).catch(be=>{}));const te={};for(const be in za)Object.defineProperty(te,be,{get:()=>u.value[be],enumerable:!0});G.provide(If,ee),G.provide(Im,lm(te)),G.provide(ap,u);const ce=G.unmount;Ne.add(G),G.unmount=function(){Ne.delete(G),Ne.size<1&&(l=za,I&&I(),I=null,u.value=za,me=!1,W=!1),ce()}}};function de(G){return G.reduce((ee,te)=>ee.then(()=>k(te)),Promise.resolve())}return Ie}function YR(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(l=>es(l,s))?r.push(s):n.push(s));const u=e.matched[o];u&&(t.matched.find(l=>es(l,u))||a.push(u))}return[n,r,a]}function mr(){return Et(If)}function Mw(e){return Et(Im)}function Re(e,t){return n=>Object.keys(e).reduce((r,a)=>{const o=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return n&&a in n?r[a]={...o,default:n[a]}:r[a]=o,t&&!r[a].source&&(r[a].source=t),r},{})}const At=Re({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component"),xt=typeof window<"u",Rm=xt&&"IntersectionObserver"in window,JR=xt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function QR(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let a=0;a<r;a++){if(e==null)return n;e=e[t[a]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function Nm(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Nm(e[r],t[r]))}function Fy(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),QR(e,t.split("."),n))}function Lw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function ze(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function ZR(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function My(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function eN(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const Ly=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function Gd(e,t){return t.every(n=>e.hasOwnProperty(n))}function tN(e,t){const n={};for(const r of t)Object.hasOwn(e,r)&&(n[r]=e[r]);return n}const nN=/^on[^a-z]/,Bw=e=>nN.test(e);function rN(e){return e==null?[]:Array.isArray(e)?e:[e]}function ns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function By(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Vy(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function aN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function or(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const a in e)r[a]=e[a];for(const a in t){const i=e[a],o=t[a];if(My(i)&&My(o)){r[a]=or(i,o,n);continue}if(n&&Array.isArray(i)&&Array.isArray(o)){r[a]=n(i,o);continue}r[a]=o}return r}function Vw(e){return e.map(t=>t.type===Ye?Vw(t.children):t).flat()}function Gi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Gi.cache.has(e))return Gi.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Gi.cache.set(e,t),t}Gi.cache=new Map;function Lo(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Lo(e,n)).flat(1);if(t.suspense)return Lo(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Lo(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Lo(e,t.component.subTree).flat(1)}return[]}function Om(e){const t=Dt({}),n=q(e);return oa(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),Fu(t)}function yc(e,t){return e.includes(t)}function Uw(e){return e[2].toLowerCase()+e.slice(3)}function Uy(e,t){return t="on"+pr(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function iN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function oN(e,t){if(!(xt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function sN(e,t){if(!xt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function ip(){const e=rt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>eN(e.value)}),t}const Ww=["top","bottom"],uN=["start","end","left","right"];function op(e,t){let[n,r]=e.split(" ");return r||(r=yc(Ww,n)?"start":yc(uN,n)?"top":"center"),{side:Wy(n,t),align:Wy(r,t)}}function Wy(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Kd(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function qd(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function jy(e){return{side:e.align,align:e.side}}function Hy(e){return yc(Ww,e.side)?"y":"x"}let Ki=class{constructor(t){let{x:n,y:r,width:a,height:i}=t;this.x=n,this.y=r,this.width=a,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}};function zy(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function jw(e){return Array.isArray(e)?new Ki({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Hw(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let a,i,o,s,u;if(r.startsWith("matrix3d("))a=r.slice(9,-1).split(/, /),i=+a[0],o=+a[5],s=+a[12],u=+a[13];else if(r.startsWith("matrix("))a=r.slice(7,-1).split(/, /),i=+a[0],o=+a[3],s=+a[4],u=+a[5];else return new Ki(t);const l=n.transformOrigin,c=t.x-s-(1-i)*parseFloat(l),f=t.y-u-(1-o)*parseFloat(l.slice(l.indexOf(" ")+1)),d=i?t.width/i:e.offsetWidth+1,h=o?t.height/o:e.offsetHeight+1;return new Ki({x:c,y:f,width:d,height:h})}else return new Ki(t)}function Vs(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(a=>{r.onfinish=()=>{a(r)}})),r}const Gl=new WeakMap;function lN(e,t){Object.keys(t).forEach(n=>{if(Bw(n)){const r=Uw(n),a=Gl.get(e);if(t[n]==null)a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))});else if(!a||![...a].some(i=>i[0]===r&&i[1]===t[n])){e.addEventListener(r,t[n]);const i=a||new Set;i.add([r,t[n]]),Gl.has(e)||Gl.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function cN(e,t){Object.keys(t).forEach(n=>{if(Bw(n)){const r=Uw(n),a=Gl.get(e);a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))})}else e.removeAttribute(n)})}const wo=2.4,Gy=.2126729,Ky=.7151522,qy=.072175,fN=.55,dN=.58,hN=.57,pN=.62,wl=.03,$y=1.45,mN=5e-4,vN=1.25,gN=1.25,yN=.078,Xy=12.82051282051282,_l=.06,bN=.001;function Yy(e,t){const n=(e.r/255)**wo,r=(e.g/255)**wo,a=(e.b/255)**wo,i=(t.r/255)**wo,o=(t.g/255)**wo,s=(t.b/255)**wo;let u=n*Gy+r*Ky+a*qy,l=i*Gy+o*Ky+s*qy;if(u<=wl&&(u+=(wl-u)**$y),l<=wl&&(l+=(wl-l)**$y),Math.abs(l-u)<mN)return 0;let c;if(l>u){const f=(l**fN-u**dN)*vN;c=f<bN?0:f<yN?f-f*Xy*_l:f-_l}else{const f=(l**pN-u**hN)*gN;c=f>-.001?0:f>-.078?f-f*Xy*_l:f+_l}return c*100}const bc=.20689655172413793,xN=e=>e>bc**3?Math.cbrt(e):e/(3*bc**2)+4/29,wN=e=>e>bc?e**3:3*bc**2*(e-4/29);function zw(e){const t=xN,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function Gw(e){const t=wN,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const _N=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],kN=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,EN=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],CN=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function Kw(e){const t=Array(3),n=kN,r=_N;for(let a=0;a<3;++a)t[a]=Math.round(ns(n(r[a][0]*e[0]+r[a][1]*e[1]+r[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function Dm(e){let{r:t,g:n,b:r}=e;const a=[0,0,0],i=CN,o=EN;t=i(t/255),n=i(n/255),r=i(r/255);for(let s=0;s<3;++s)a[s]=o[s][0]*t+o[s][1]*n+o[s][2]*r;return a}function sp(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function SN(e){return sp(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const Jy=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,AN={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>Qy({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>Qy({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>hu({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>hu({h:e,s:t,v:n,a:r})};function Qr(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Jy.test(e)){const{groups:t}=e.match(Jy),{fn:n,values:r}=t,a=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return AN[n](...a)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),IN(t)}else if(typeof e=="object"){if(Gd(e,["r","g","b"]))return e;if(Gd(e,["h","s","l"]))return hu(qw(e));if(Gd(e,["h","s","v"]))return hu(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function hu(e){const{h:t,s:n,v:r,a}=e,i=s=>{const u=(s+t/60)%6;return r-r*n*Math.max(Math.min(u,4-u,1),0)},o=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a}}function Qy(e){return hu(qw(e))}function qw(e){const{h:t,s:n,l:r,a}=e,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:t,s:o,v:i,a}}function kl(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function TN(e){let{r:t,g:n,b:r,a}=e;return`#${[kl(t),kl(n),kl(r),a!==void 0?kl(Math.round(a*255)):""].join("")}`}function IN(e){e=RN(e);let[t,n,r,a]=aN(e,2).map(i=>parseInt(i,16));return a=a===void 0?a:a/255,{r:t,g:n,b:r,a}}function RN(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=By(By(e,6),8,"F")),e}function NN(e,t){const n=zw(Dm(e));return n[0]=n[0]+t*10,Kw(Gw(n))}function ON(e,t){const n=zw(Dm(e));return n[0]=n[0]-t*10,Kw(Gw(n))}function DN(e){const t=Qr(e);return Dm(t)[1]}function $w(e){const t=Math.abs(Yy(Qr(0),Qr(e)));return Math.abs(Yy(Qr(16777215),Qr(e)))>Math.min(t,50)?"#fff":"#000"}function sn(e,t){const n=Qn();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function wi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=sn(e).type;return Gi((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let Xw=0,Kl=new WeakMap;function Rf(){const e=sn("getUid");if(Kl.has(e))return Kl.get(e);{const t=Xw++;return Kl.set(e,t),t}}Rf.reset=()=>{Xw=0,Kl=new WeakMap};function PN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const rs=Symbol.for("vuetify:defaults");function FN(e){return fe(e)}function Pm(){const e=Et(rs);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Nf(e,t){const n=Pm(),r=fe(e),a=q(()=>{if(ft(t==null?void 0:t.disabled))return n.value;const o=ft(t==null?void 0:t.scoped),s=ft(t==null?void 0:t.reset),u=ft(t==null?void 0:t.root);if(r.value==null&&!(o||s||u))return n.value;let l=or(r.value,{prev:n.value});if(o)return l;if(s||u){const c=Number(s||1/0);for(let f=0;f<=c&&!(!l||!("prev"in l));f++)l=l.prev;return l&&typeof u=="string"&&u in l&&(l=or(or(l,{prev:l}),l[u])),l}return l.prev?or(l.prev,l):l});return zn(rs,a),a}function MN(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[Gi(t)])<"u"}function LN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pm();const r=sn("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=q(()=>{var u;return(u=n.value)==null?void 0:u[e._as??t]}),i=new Proxy(e,{get(u,l){var f,d,h,m,p,v,g;const c=Reflect.get(u,l);return l==="class"||l==="style"?[(f=a.value)==null?void 0:f[l],c].filter(x=>x!=null):typeof l=="string"&&!MN(r.vnode,l)?((d=a.value)==null?void 0:d[l])!==void 0?(h=a.value)==null?void 0:h[l]:((p=(m=n.value)==null?void 0:m.global)==null?void 0:p[l])!==void 0?(g=(v=n.value)==null?void 0:v.global)==null?void 0:g[l]:c:c}}),o=rt();oa(()=>{if(a.value){const u=Object.entries(a.value).filter(l=>{let[c]=l;return c.startsWith(c[0].toUpperCase())});o.value=u.length?Object.fromEntries(u):void 0}else o.value=void 0});function s(){const u=PN(rs,r);zn(rs,q(()=>o.value?or((u==null?void 0:u.value)??{},o.value):u==null?void 0:u.value))}return{props:i,provideSubDefaults:s}}function Wu(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Re(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return tN(r,t)},e.props._as=String,e.setup=function(r,a){const i=Pm();if(!i.value)return e._setup(r,a);const{props:o,provideSubDefaults:s}=LN(r,r._as??e.name,i),u=e._setup(o,a);return s(),u}}return e}function ut(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Wu:Xt)(t)}function BN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ut()({name:n??pr(dt(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...At()},setup(r,a){let{slots:i}=a;return()=>{var o;return Br(r.tag,{class:[e,r.class],style:r.style},(o=i.default)==null?void 0:o.call(i))}}})}function Yw(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const up="cubic-bezier(0.4, 0, 0.2, 1)",VN="cubic-bezier(0.0, 0, 0.2, 1)",UN="cubic-bezier(0.4, 0, 1, 1)";function WN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?jN(e):Fm(e))return e;e=e.parentElement}return document.scrollingElement}function xc(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Fm(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Fm(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function jN(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function HN(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Tt(e){const t=sn("useRender");t.render=e}function Jw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=ip(),r=fe();if(xt){const a=new ResizeObserver(i=>{i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Fn(()=>{a.disconnect()}),Ge(()=>n.el,(i,o)=>{o&&(a.unobserve(o),r.value=void 0),i&&a.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:vs(r)}}const wc=Symbol.for("vuetify:layout"),Qw=Symbol.for("vuetify:layout-item"),Zy=1e3,zN=Re({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),GN=Re({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function KN(){const e=Et(wc);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function qN(e){const t=Et(wc);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Rf()}`,r=sn("useLayoutItem");zn(Qw,{id:n});const a=rt(!1);gm(()=>a.value=!0),vm(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(r,{...e,active:q(()=>a.value?!1:e.active.value),id:n});return Fn(()=>t.unregister(n)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const $N=(e,t,n,r)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const o of e){const s=t.get(o),u=n.get(o),l=r.get(o);if(!s||!u||!l)continue;const c={...a,[s.value]:parseInt(a[s.value],10)+(l.value?parseInt(u.value,10):0)};i.push({id:o,layer:c}),a=c}return i};function XN(e){const t=Et(wc,null),n=q(()=>t?t.rootZIndex.value-100:Zy),r=fe([]),a=Dt(new Map),i=Dt(new Map),o=Dt(new Map),s=Dt(new Map),u=Dt(new Map),{resizeRef:l,contentRect:c}=Jw(),f=q(()=>{const _=new Map,S=e.overlaps??[];for(const C of S.filter(k=>k.includes(":"))){const[k,E]=C.split(":");if(!r.value.includes(k)||!r.value.includes(E))continue;const T=a.get(k),A=a.get(E),I=i.get(k),D=i.get(E);!T||!A||!I||!D||(_.set(E,{position:T.value,amount:parseInt(I.value,10)}),_.set(k,{position:A.value,amount:-parseInt(D.value,10)}))}return _}),d=q(()=>{const _=[...new Set([...o.values()].map(C=>C.value))].sort((C,k)=>C-k),S=[];for(const C of _){const k=r.value.filter(E=>{var T;return((T=o.get(E))==null?void 0:T.value)===C});S.push(...k)}return $N(S,a,i,s)}),h=q(()=>!Array.from(u.values()).some(_=>_.value)),m=q(()=>d.value[d.value.length-1].layer),p=q(()=>({"--v-layout-left":ze(m.value.left),"--v-layout-right":ze(m.value.right),"--v-layout-top":ze(m.value.top),"--v-layout-bottom":ze(m.value.bottom),...h.value?void 0:{transition:"none"}})),v=q(()=>d.value.slice(1).map((_,S)=>{let{id:C}=_;const{layer:k}=d.value[S],E=i.get(C),T=a.get(C);return{id:C,...k,size:Number(E.value),position:T.value}})),g=_=>v.value.find(S=>S.id===_),x=sn("createLayout"),y=rt(!1);St(()=>{y.value=!0}),zn(wc,{register:(_,S)=>{let{id:C,order:k,position:E,layoutSize:T,elementSize:A,active:I,disableTransitions:D,absolute:M}=S;o.set(C,k),a.set(C,E),i.set(C,T),s.set(C,I),D&&u.set(C,D);const W=Lo(Qw,x==null?void 0:x.vnode).indexOf(_);W>-1?r.value.splice(W,0,C):r.value.push(C);const V=q(()=>v.value.findIndex(se=>se.id===C)),H=q(()=>n.value+d.value.length*2-V.value*2),X=q(()=>{const se=E.value==="left"||E.value==="right",me=E.value==="right",Ne=E.value==="bottom",Ie=A.value??T.value,de=Ie===0?"%":"px",G={[E.value]:0,zIndex:H.value,transform:`translate${se?"X":"Y"}(${(I.value?0:-(Ie===0?100:Ie))*(me||Ne?-1:1)}${de})`,position:M.value||n.value!==Zy?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!y.value)return G;const ee=v.value[V.value];if(!ee)throw new Error(`[Vuetify] Could not find layout item "${C}"`);const te=f.value.get(C);return te&&(ee[te.position]+=te.amount),{...G,height:se?`calc(100% - ${ee.top}px - ${ee.bottom}px)`:A.value?`${A.value}px`:void 0,left:me?void 0:`${ee.left}px`,right:me?`${ee.right}px`:void 0,top:E.value!=="bottom"?`${ee.top}px`:void 0,bottom:E.value!=="top"?`${ee.bottom}px`:void 0,width:se?A.value?`${A.value}px`:void 0:`calc(100% - ${ee.left}px - ${ee.right}px)`}}),ae=q(()=>({zIndex:H.value-1}));return{layoutItemStyles:X,layoutItemScrimStyles:ae,zIndex:H}},unregister:_=>{o.delete(_),a.delete(_),i.delete(_),s.delete(_),u.delete(_),r.value=r.value.filter(S=>S!==_)},mainRect:m,mainStyles:p,getLayoutItem:g,items:v,layoutRect:c,rootZIndex:n});const b=q(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),w=q(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:b,layoutStyles:w,getLayoutItem:g,items:v,layoutRect:c,layoutRef:l}}function ju(e,t){let n;function r(){n=df(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}Ge(e,a=>{a&&!n?r():a||(n==null||n.stop(),n=void 0)},{immediate:!0}),Er(()=>{n==null||n.stop()})}function uo(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=sn("useProxiedModel"),o=fe(e[t]!==void 0?e[t]:n),s=Gi(t),l=q(s!==t?()=>{var f,d,h,m;return e[t],!!(((f=i.vnode.props)!=null&&f.hasOwnProperty(t)||(d=i.vnode.props)!=null&&d.hasOwnProperty(s))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(m=i.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var f,d;return e[t],!!((f=i.vnode.props)!=null&&f.hasOwnProperty(t)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${t}`)))});ju(()=>!l.value,()=>{Ge(()=>e[t],f=>{o.value=f})});const c=q({get(){const f=e[t];return r(l.value?f:o.value)},set(f){const d=a(f),h=Ze(l.value?e[t]:o.value);h===d||r(h)===f||(o.value=d,i==null||i.emit(`update:${t}`,d))}});return Object.defineProperty(c,"externalValue",{get:()=>l.value?e[t]:o.value}),c}const YN={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},eb="$vuetify.",tb=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),Zw=(e,t,n)=>function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(!r.startsWith(eb))return tb(r,i);const s=r.replace(eb,""),u=e.value&&n.value[e.value],l=t.value&&n.value[t.value];let c=Fy(u,s,null);return c||(`${r}${e.value}`,c=Fy(l,s,null)),c||(c=r),typeof c!="string"&&(c=r),tb(c,i)};function e_(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function $d(e,t,n){const r=uo(e,t,e[t]??n.value);return r.value=e[t]??n.value,Ge(n,a=>{e[t]==null&&(r.value=n.value)}),r}function t_(e){return t=>{const n=$d(t,"locale",e.current),r=$d(t,"fallback",e.fallback),a=$d(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:a,t:Zw(n,r,a),n:e_(n,r),provide:t_({current:n,fallback:r,messages:a})}}}function JN(e){const t=rt((e==null?void 0:e.locale)??"en"),n=rt((e==null?void 0:e.fallback)??"en"),r=fe({en:YN,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:Zw(t,n,r),n:e_(t,n),provide:t_({current:t,fallback:n,messages:r})}}const lp=Symbol.for("vuetify:locale");function QN(e){return e.name!=null}function ZN(e){const t=e!=null&&e.adapter&&QN(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:JN(e),n=tO(t,e);return{...t,...n}}function eO(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function tO(e,t){const n=fe((t==null?void 0:t.rtl)??eO()),r=q(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:q(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function ys(){const e=Et(lp);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const _c=Symbol.for("vuetify:theme"),sa=Re({theme:String},"theme");function nb(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function nO(){var r,a;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nb();const t=nb();if(!e)return{...t,isDisabled:!0};const n={};for(const[i,o]of Object.entries(e.themes??{})){const s=o.dark||i==="dark"?(r=t.themes)==null?void 0:r.dark:(a=t.themes)==null?void 0:a.light;n[i]=or(s,o)}return or(t,{...e,themes:n})}function rO(e){const t=nO(e),n=fe(t.defaultTheme),r=fe(t.themes),a=q(()=>{const c={};for(const[f,d]of Object.entries(r.value)){const h=c[f]={...d,colors:{...d.colors}};if(t.variations)for(const m of t.variations.colors){const p=h.colors[m];if(p)for(const v of["lighten","darken"]){const g=v==="lighten"?NN:ON;for(const x of Lw(t.variations[v],1))h.colors[`${m}-${v}-${x}`]=TN(g(Qr(p),x))}}for(const m of Object.keys(h.colors)){if(/^on-[a-z]/.test(m)||h.colors[`on-${m}`])continue;const p=`on-${m}`,v=Qr(h.colors[m]);h.colors[p]=$w(v)}}return c}),i=q(()=>a.value[n.value]),o=q(()=>{var m;const c=[];(m=i.value)!=null&&m.dark&&Ti(c,":root",["color-scheme: dark"]),Ti(c,":root",rb(i.value));for(const[p,v]of Object.entries(a.value))Ti(c,`.v-theme--${p}`,[`color-scheme: ${v.dark?"dark":"normal"}`,...rb(v)]);const f=[],d=[],h=new Set(Object.values(a.value).flatMap(p=>Object.keys(p.colors)));for(const p of h)/^on-[a-z]/.test(p)?Ti(d,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Ti(f,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Ti(d,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Ti(d,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return c.push(...f,...d),c.map((p,v)=>v===0?p:`    ${p}`).join("")});function s(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function u(c){if(t.isDisabled)return;const f=c._context.provides.usehead;if(f)if(f.push){const h=f.push(s);xt&&Ge(o,()=>{h.patch(s)})}else xt?(f.addHeadObjs(q(s)),oa(()=>f.updateDOM())):f.addHeadObjs(s());else{let m=function(){if(typeof document<"u"&&!h){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",t.cspNonce&&p.setAttribute("nonce",t.cspNonce),h=p,document.head.appendChild(h)}h&&(h.innerHTML=o.value)};var d=m;let h=xt?document.getElementById("vuetify-theme-stylesheet"):null;xt?Ge(o,m,{immediate:!0}):m()}}const l=q(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:u,isDisabled:t.isDisabled,name:n,themes:r,current:i,computedThemes:a,themeClasses:l,styles:o,global:{name:n,current:i}}}function ua(e){sn("provideTheme");const t=Et(_c,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=q(()=>e.theme??t.name.value),r=q(()=>t.themes.value[n.value]),a=q(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:r,themeClasses:a};return zn(_c,i),i}function Ti(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function rb(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[a,i]of Object.entries(e.colors)){const o=Qr(i);r.push(`--v-theme-${a}: ${o.r},${o.g},${o.b}`),a.startsWith("on-")||r.push(`--v-theme-${a}-overlay-multiplier: ${DN(i)>.18?t:n}`)}for(const[a,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Qr(i):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${a}: ${s??i}`)}return r}const aO=Re({...At(),...zN({fullHeight:!0}),...sa()},"VApp"),iO=ut()({name:"VApp",props:aO(),setup(e,t){let{slots:n}=t;const r=ua(e),{layoutClasses:a,getLayoutItem:i,items:o,layoutRef:s}=XN(e),{rtlClasses:u}=ys();return Tt(()=>{var l;return j("div",{ref:s,class:["v-application",r.themeClasses.value,a.value,u.value,e.class],style:[e.style]},[j("div",{class:"v-application__wrap"},[(l=n.default)==null?void 0:l.call(n)])])}),{getLayoutItem:i,items:o,theme:r}}}),bs=Re({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function xs(e){return{dimensionStyles:q(()=>{const n={},r=ze(e.height),a=ze(e.maxHeight),i=ze(e.maxWidth),o=ze(e.minHeight),s=ze(e.minWidth),u=ze(e.width);return r!=null&&(n.height=r),a!=null&&(n.maxHeight=a),i!=null&&(n.maxWidth=i),o!=null&&(n.minHeight=o),s!=null&&(n.minWidth=s),u!=null&&(n.width=u),n})}}function n_(){const e=rt(!1);return St(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:q(()=>e.value?void 0:{transition:"none !important"}),isBooted:vs(e)}}const Mn=Re({tag:{type:String,default:"div"}},"tag"),oO=Re({scrollable:Boolean,...At(),...bs(),...Mn({tag:"main"})},"VMain"),sO=ut()({name:"VMain",props:oO(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=xs(e),{mainStyles:a}=KN(),{ssrBootStyles:i}=n_();return Tt(()=>j(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,i.value,r.value,e.style]},{default:()=>{var o,s;return[e.scrollable?j("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(s=n.default)==null?void 0:s.call(n)]}})),{}}}),uO=Xt({__name:"App",setup(e){return(t,n)=>(ge(),$n(iO,null,{default:Le(()=>[j(sO,null,{default:Le(()=>[j(ft(Fw))]),_:1})]),_:1}))}}),Of={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function lO(e,t,n){const r=[];let a=[];const i=r_(e),o=a_(e),s=n??Of[t.slice(-2).toUpperCase()]??0,u=(i.getDay()-s+7)%7,l=(o.getDay()-s+7)%7;for(let c=0;c<u;c++){const f=new Date(i);f.setDate(f.getDate()-(u-c)),a.push(f)}for(let c=1;c<=o.getDate();c++){const f=new Date(e.getFullYear(),e.getMonth(),c);a.push(f),a.length===7&&(r.push(a),a=[])}for(let c=1;c<7-l;c++){const f=new Date(o);f.setDate(f.getDate()+c),a.push(f)}return a.length>0&&r.push(a),r}function cO(e,t,n){const r=n??Of[t.slice(-2).toUpperCase()]??0,a=new Date(e);for(;a.getDay()!==r;)a.setDate(a.getDate()-1);return a}function fO(e,t){const n=new Date(e),r=((Of[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function r_(e){return new Date(e.getFullYear(),e.getMonth(),1)}function a_(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function dO(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const hO=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function i_(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(hO.test(e))return dO(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const ab=new Date(2e3,0,2);function pO(e,t){const n=t??Of[e.slice(-2).toUpperCase()]??0;return Lw(7).map(r=>{const a=new Date(ab);return a.setDate(ab.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(a)})}function mO(e,t,n,r){const a=i_(e)??new Date,i=r==null?void 0:r[t];if(typeof i=="function")return i(a,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const s=a.getDate(),u=new Intl.DateTimeFormat(n,{month:"long"}).format(a);return`${s} ${u}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(a.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(a)}function vO(e,t){const n=e.toJsDate(t),r=n.getFullYear(),a=Vy(String(n.getMonth()+1),2,"0"),i=Vy(String(n.getDate()),2,"0");return`${r}-${a}-${i}`}function gO(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function yO(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function bO(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function xO(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function wO(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function _O(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function kO(e){return e.getFullYear()}function EO(e){return e.getMonth()}function CO(e){return e.getDate()}function SO(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function AO(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function TO(e){return e.getHours()}function IO(e){return e.getMinutes()}function RO(e){return new Date(e.getFullYear(),0,1)}function NO(e){return new Date(e.getFullYear(),11,31)}function OO(e,t){return kc(e,t[0])&&FO(e,t[1])}function DO(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function kc(e,t){return e.getTime()>t.getTime()}function PO(e,t){return kc(cp(e),cp(t))}function FO(e,t){return e.getTime()<t.getTime()}function ib(e,t){return e.getTime()===t.getTime()}function MO(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function LO(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function BO(e,t){return e.getFullYear()===t.getFullYear()}function VO(e,t,n){const r=new Date(e),a=new Date(t);switch(n){case"years":return r.getFullYear()-a.getFullYear();case"quarters":return Math.floor((r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12)/4);case"months":return r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-a.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-a.getTime())/1e3);default:return r.getTime()-a.getTime()}}function UO(e,t){const n=new Date(e);return n.setHours(t),n}function WO(e,t){const n=new Date(e);return n.setMinutes(t),n}function jO(e,t){const n=new Date(e);return n.setMonth(t),n}function HO(e,t){const n=new Date(e);return n.setDate(t),n}function zO(e,t){const n=new Date(e);return n.setFullYear(t),n}function cp(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function GO(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class KO{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return i_(t)}toJsDate(t){return t}toISO(t){return vO(this,t)}parseISO(t){return gO(t)}addMinutes(t,n){return yO(t,n)}addHours(t,n){return bO(t,n)}addDays(t,n){return xO(t,n)}addWeeks(t,n){return wO(t,n)}addMonths(t,n){return _O(t,n)}getWeekArray(t,n){return lO(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return cO(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return fO(t,this.locale)}startOfMonth(t){return r_(t)}endOfMonth(t){return a_(t)}format(t,n){return mO(t,n,this.locale,this.formats)}isEqual(t,n){return ib(t,n)}isValid(t){return DO(t)}isWithinRange(t,n){return OO(t,n)}isAfter(t,n){return kc(t,n)}isAfterDay(t,n){return PO(t,n)}isBefore(t,n){return!kc(t,n)&&!ib(t,n)}isSameDay(t,n){return MO(t,n)}isSameMonth(t,n){return LO(t,n)}isSameYear(t,n){return BO(t,n)}setMinutes(t,n){return WO(t,n)}setHours(t,n){return UO(t,n)}setMonth(t,n){return jO(t,n)}setDate(t,n){return HO(t,n)}setYear(t,n){return zO(t,n)}getDiff(t,n,r){return VO(t,n,r)}getWeekdays(t){return pO(this.locale,t?Number(t):void 0)}getYear(t){return kO(t)}getMonth(t){return EO(t)}getDate(t){return CO(t)}getNextMonth(t){return SO(t)}getPreviousMonth(t){return AO(t)}getHours(t){return TO(t)}getMinutes(t){return IO(t)}startOfDay(t){return cp(t)}endOfDay(t){return GO(t)}startOfYear(t){return RO(t)}endOfYear(t){return NO(t)}}const qO=Symbol.for("vuetify:date-options"),ob=Symbol.for("vuetify:date-adapter");function $O(e,t){const n=or({adapter:KO,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:XO(n,t)}}function XO(e,t){const n=Dt(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Ge(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}const Df=["sm","md","lg","xl","xxl"],fp=Symbol.for("vuetify:display"),sb={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},YO=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sb;return or(sb,e)};function ub(e){return xt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function lb(e){return xt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function cb(e){const t=xt&&!e?window.navigator.userAgent:"ssr";function n(m){return!!t.match(m)}const r=n(/android/i),a=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),s=n(/chrome/i),u=n(/edge/i),l=n(/firefox/i),c=n(/opera/i),f=n(/win/i),d=n(/mac/i),h=n(/linux/i);return{android:r,ios:a,cordova:i,electron:o,chrome:s,edge:u,firefox:l,opera:c,win:f,mac:d,linux:h,touch:JR,ssr:t==="ssr"}}function JO(e,t){const{thresholds:n,mobileBreakpoint:r}=YO(e),a=rt(lb(t)),i=rt(cb(t)),o=Dt({}),s=rt(ub(t));function u(){a.value=lb(),s.value=ub()}function l(){u(),i.value=cb()}return oa(()=>{const c=s.value<n.sm,f=s.value<n.md&&!c,d=s.value<n.lg&&!(f||c),h=s.value<n.xl&&!(d||f||c),m=s.value<n.xxl&&!(h||d||f||c),p=s.value>=n.xxl,v=c?"xs":f?"sm":d?"md":h?"lg":m?"xl":"xxl",g=typeof r=="number"?r:n[r],x=s.value<g;o.xs=c,o.sm=f,o.md=d,o.lg=h,o.xl=m,o.xxl=p,o.smAndUp=!c,o.mdAndUp=!(c||f),o.lgAndUp=!(c||f||d),o.xlAndUp=!(c||f||d||h),o.smAndDown=!(d||h||m||p),o.mdAndDown=!(h||m||p),o.lgAndDown=!(m||p),o.xlAndDown=!p,o.name=v,o.height=a.value,o.width=s.value,o.mobile=x,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),xt&&window.addEventListener("resize",u,{passive:!0}),{...Fu(o),update:l,ssr:!!t}}function QO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();const n=Et(fp);if(!n)throw new Error("Could not find Vuetify display injection");const r=q(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),a=q(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:a,mobile:r}}const ZO=Symbol.for("vuetify:goto");function eD(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function tD(e,t){return{rtl:t.isRtl,options:or(eD(),e)}}const nD={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},rD={component:e=>Br(s_,{...e,class:"mdi"})},Fa=[String,Function,Object,Array],dp=Symbol.for("vuetify:icons"),Pf=Re({icon:{type:Fa},tag:{type:String,required:!0}},"icon"),fb=ut()({name:"VComponentIcon",props:Pf(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return j(e.tag,null,{default:()=>{var a;return[e.icon?j(r,null,null):(a=n.default)==null?void 0:a.call(n)]}})}}}),o_=Wu({name:"VSvgIcon",inheritAttrs:!1,props:Pf(),setup(e,t){let{attrs:n}=t;return()=>j(e.tag,Bt(n,{style:null}),{default:()=>[j("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?j("path",{d:r[0],"fill-opacity":r[1]},null):j("path",{d:r},null)):j("path",{d:e.icon},null)])]})}});Wu({name:"VLigatureIcon",props:Pf(),setup(e){return()=>j(e.tag,null,{default:()=>[e.icon]})}});const s_=Wu({name:"VClassIcon",props:Pf(),setup(e){return()=>j(e.tag,{class:e.icon},null)}});function aD(){return{svg:{component:o_},class:{component:s_}}}function iD(e){const t=aD(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=rD),or({defaultSet:n,sets:t,aliases:{...nD,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const oD=e=>{const t=Et(dp);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:q(()=>{var u;const r=ft(e);if(!r)return{component:fb};let a=r;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=(u=t.aliases)==null?void 0:u[a.slice(1)])),Array.isArray(a))return{component:o_,icon:a};if(typeof a!="string")return{component:fb,icon:a};const i=Object.keys(t.sets).find(l=>typeof a=="string"&&a.startsWith(`${l}:`)),o=i?a.slice(i.length+1):a;return{component:t.sets[i??t.defaultSet].component,icon:o}})}};function u_(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=or(t,n),{aliases:a={},components:i={},directives:o={}}=r,s=FN(r.defaults),u=JO(r.display,r.ssr),l=rO(r.theme),c=iD(r.icons),f=ZN(r.locale),d=$O(r.date,f),h=tD(r.goTo,f);return{install:p=>{for(const v in o)p.directive(v,o[v]);for(const v in i)p.component(v,i[v]);for(const v in a)p.component(v,Wu({...a[v],name:v,aliasName:a[v].name}));if(l.install(p),p.provide(rs,s),p.provide(fp,u),p.provide(_c,l),p.provide(dp,c),p.provide(lp,f),p.provide(qO,d.options),p.provide(ob,d.instance),p.provide(ZO,h),xt&&r.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:v}=p;p.mount=function(){const g=v(...arguments);return Jn(()=>u.update()),p.mount=v,g}}Rf.reset(),p.mixin({computed:{$vuetify(){return Dt({defaults:_o.call(this,rs),display:_o.call(this,fp),theme:_o.call(this,_c),icons:_o.call(this,dp),locale:_o.call(this,lp),date:_o.call(this,ob)})}}})},defaults:s,display:u,theme:l,icons:c,locale:f,date:d,goTo:h}}const sD="3.7.14";u_.version=sD;function _o(e){var r,a;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((a=t.vnode.appContext)==null?void 0:a.provides);if(n&&e in n)return n[e]}const uD=Re({text:String,...At(),...Mn()},"VToolbarTitle"),Mm=ut()({name:"VToolbarTitle",props:uD(),setup(e,t){let{slots:n}=t;return Tt(()=>{const r=!!(n.default||n.text||e.text);return j(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[r&&j("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(a=n.default)==null?void 0:a.call(n)])]}})}),{}}}),lD=Re({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function vr(e,t,n){return ut()({name:e,props:lD({mode:n,origin:t}),setup(r,a){let{slots:i}=a;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:u,offsetLeft:l,offsetWidth:c,offsetHeight:f}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${u}px`,s.style.left=`${l}px`,s.style.width=`${c}px`,s.style.height=`${f}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:u,top:l,left:c,width:f,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=u||"",s.style.top=l||"",s.style.left=c||"",s.style.width=f||"",s.style.height=d||""}}};return()=>{const s=r.group?Sf:di;return Br(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},i.default)}}})}function l_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ut()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,a){let{slots:i}=a;const o=r.group?Sf:di;return()=>Br(o,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},i.default)}})}function c_(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=dt(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const s=o._initialStyle;if(!s)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const u=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=u})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){if(!o._initialStyle)return;const s=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[n]=s),delete o._initialStyle}}const cD=Re({target:[Object,Array]},"v-dialog-transition"),fD=ut()({name:"VDialogTransition",props:cD(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var d;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),a.style.visibility="";const{x:o,y:s,sx:u,sy:l,speed:c}=hb(e.target,a),f=Vs(a,[{transform:`translate(${o}px, ${s}px) scale(${u}, ${l})`,opacity:0},{}],{duration:225*c,easing:VN});(d=db(a))==null||d.forEach(h=>{Vs(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:up})}),f.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var d;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:s,sx:u,sy:l,speed:c}=hb(e.target,a);Vs(a,[{},{transform:`translate(${o}px, ${s}px) scale(${u}, ${l})`,opacity:0}],{duration:125*c,easing:UN}).finished.then(()=>i()),(d=db(a))==null||d.forEach(h=>{Vs(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:up})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?j(di,Bt({name:"dialog-transition"},r,{css:!1}),n):j(di,{name:"dialog-transition"},n)}});function db(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function hb(e,t){const n=jw(e),r=Hw(t),[a,i]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;o==="left"||s==="left"?u-=n.width/2:(o==="right"||s==="right")&&(u+=n.width/2);let l=n.top+n.height/2;o==="top"||s==="top"?l-=n.height/2:(o==="bottom"||s==="bottom")&&(l+=n.height/2);const c=n.width/r.width,f=n.height/r.height,d=Math.max(1,c,f),h=c/d||0,m=f/d||0,p=r.width*r.height/(window.innerWidth*window.innerHeight),v=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:u-(a+r.left),y:l-(i+r.top),sx:h,sy:m,speed:v}}vr("fab-transition","center center","out-in");vr("dialog-bottom-transition");vr("dialog-top-transition");vr("fade-transition");vr("scale-transition");vr("scroll-x-transition");vr("scroll-x-reverse-transition");vr("scroll-y-transition");vr("scroll-y-reverse-transition");vr("slide-x-transition");vr("slide-x-reverse-transition");vr("slide-y-transition");vr("slide-y-reverse-transition");const dD=l_("expand-transition",c_());l_("expand-x-transition",c_("",!0));const hD=Re({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Pr=ut(!1)({name:"VDefaultsProvider",props:hD(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:a,reset:i,root:o,scoped:s}=Fu(e);return Nf(r,{reset:i,root:o,scoped:s,disabled:a}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}});function pD(e){return{aspectStyles:q(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const f_=Re({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...At(),...bs()},"VResponsive"),hp=ut()({name:"VResponsive",props:f_(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=pD(e),{dimensionStyles:a}=xs(e);return Tt(()=>{var i;return j("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[a.value,e.style]},[j("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&j("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function Lm(e){return Om(()=>{const t=[],n={};if(e.value.background)if(sp(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&SN(e.value.background)){const r=Qr(e.value.background);if(r.a==null||r.a===1){const a=$w(r);n.color=a,n.caretColor=a}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(sp(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Ec(e,t){const n=q(()=>({text:yt(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=Lm(n);return{textColorClasses:r,textColorStyles:a}}function Uo(e,t){const n=q(()=>({background:yt(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=Lm(n);return{backgroundColorClasses:r,backgroundColorStyles:a}}const lo=Re({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function co(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return{roundedClasses:q(()=>{const r=yt(e)?e.value:e.rounded,a=yt(e)?e.value:e.tile,i=[];if(r===!0||r==="")i.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))i.push(`rounded-${o}`);else(a||r===!1)&&i.push("rounded-0");return i})}}const d_=Re({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Us=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:a,group:i,...o}=e,{component:s=i?Sf:di,...u}=typeof r=="object"?r:{};return Br(s,Bt(typeof r=="string"?{name:a?"":r}:u,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:a,group:i}).filter(l=>{let[c,f]=l;return f!==void 0})),o),n)};function mD(e,t){if(!Rm)return;const n=t.modifiers||{},r=t.value,{handler:a,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var f;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const l=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!l)return;const c=s.some(d=>d.isIntersecting);a&&(!n.quiet||l.init)&&(!n.once||c||l.init)&&a(c,s,u),c&&n.once?h_(e,t):l.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function h_(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const vD={mounted:mD,unmounted:h_},gD=Re({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...f_(),...At(),...lo(),...d_()},"VImg"),pu=ut()({name:"VImg",directives:{intersect:vD},props:gD(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:i}=Uo(tn(e,"color")),{roundedClasses:o}=co(e),s=sn("VImg"),u=rt(""),l=fe(),c=rt(e.eager?"loading":"idle"),f=rt(),d=rt(),h=q(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),m=q(()=>h.value.aspect||f.value/d.value||0);Ge(()=>e.src,()=>{p(c.value!=="idle")}),Ge(m,(A,I)=>{!A&&I&&l.value&&b(l.value)}),ym(()=>p());function p(A){if(!(e.eager&&A)&&!(Rm&&!A&&!e.eager)){if(c.value="loading",h.value.lazySrc){const I=new Image;I.src=h.value.lazySrc,b(I,null)}h.value.src&&Jn(()=>{var I;n("loadstart",((I=l.value)==null?void 0:I.currentSrc)||h.value.src),setTimeout(()=>{var D;if(!s.isUnmounted)if((D=l.value)!=null&&D.complete){if(l.value.naturalWidth||g(),c.value==="error")return;m.value||b(l.value,null),c.value==="loading"&&v()}else m.value||b(l.value),x()})})}}function v(){var A;s.isUnmounted||(x(),b(l.value),c.value="loaded",n("load",((A=l.value)==null?void 0:A.currentSrc)||h.value.src))}function g(){var A;s.isUnmounted||(c.value="error",n("error",((A=l.value)==null?void 0:A.currentSrc)||h.value.src))}function x(){const A=l.value;A&&(u.value=A.currentSrc||A.src)}let y=-1;Fn(()=>{clearTimeout(y)});function b(A){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const D=()=>{if(clearTimeout(y),s.isUnmounted)return;const{naturalHeight:M,naturalWidth:L}=A;M||L?(f.value=L,d.value=M):!A.complete&&c.value==="loading"&&I!=null?y=window.setTimeout(D,I):(A.currentSrc.endsWith(".svg")||A.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,d.value=1)};D()}const w=q(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),_=()=>{var D;if(!h.value.src||c.value==="idle")return null;const A=j("img",{class:["v-img__img",w.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:l,onLoad:v,onError:g},null),I=(D=r.sources)==null?void 0:D.call(r);return j(Us,{transition:e.transition,appear:!0},{default:()=>[zt(I?j("picture",{class:"v-img__picture"},[I,A]):A,[[Ef,c.value==="loaded"]])]})},S=()=>j(Us,{transition:e.transition},{default:()=>[h.value.lazySrc&&c.value!=="loaded"&&j("img",{class:["v-img__img","v-img__img--preload",w.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),C=()=>r.placeholder?j(Us,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&j("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,k=()=>r.error?j(Us,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&j("div",{class:"v-img__error"},[r.error()])]}):null,E=()=>e.gradient?j("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=rt(!1);{const A=Ge(m,I=>{I&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),A())})}return Tt(()=>{const A=hp.filterProps(e);return zt(j(hp,Bt({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!T.value},a.value,o.value,e.class],style:[{width:ze(e.width==="auto"?f.value:e.width)},i.value,e.style]},A,{aspectRatio:m.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>j(Ye,null,[j(_,null,null),j(S,null,null),j(E,null,null),j(C,null,null),j(k,null,null)]),default:r.default}),[[wf("intersect"),{handler:p,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:l,state:c,naturalWidth:f,naturalHeight:d}}}),Hu=Re({border:[Boolean,Number,String]},"border");function zu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return{borderClasses:q(()=>{const r=yt(e)?e.value:e.border,a=[];if(r===!0||r==="")a.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))a.push(`border-${i}`);return a})}}const Ff=Re({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Mf(e){return{elevationClasses:q(()=>{const n=yt(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const yD=[null,"prominent","default","comfortable","compact"],p_=Re({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>yD.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Hu(),...At(),...Ff(),...lo(),...Mn({tag:"header"}),...sa()},"VToolbar"),pb=ut()({name:"VToolbar",props:p_(),setup(e,t){var h;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=Uo(tn(e,"color")),{borderClasses:i}=zu(e),{elevationClasses:o}=Mf(e),{roundedClasses:s}=co(e),{themeClasses:u}=ua(e),{rtlClasses:l}=ys(),c=rt(!!(e.extended||(h=n.extension)!=null&&h.call(n))),f=q(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),d=q(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Nf({VBtn:{variant:"text"}}),Tt(()=>{var g;const m=!!(e.title||n.title),p=!!(n.image||e.image),v=(g=n.extension)==null?void 0:g.call(n);return c.value=!!(e.extended||v),j(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,i.value,o.value,s.value,u.value,l.value,e.class],style:[a.value,e.style]},{default:()=>[p&&j("div",{key:"image",class:"v-toolbar__image"},[n.image?j(Pr,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):j(pu,{key:"image-img",cover:!0,src:e.image},null)]),j(Pr,{defaults:{VTabs:{height:ze(f.value)}}},{default:()=>{var x,y,b;return[j("div",{class:"v-toolbar__content",style:{height:ze(f.value)}},[n.prepend&&j("div",{class:"v-toolbar__prepend"},[(x=n.prepend)==null?void 0:x.call(n)]),m&&j(Mm,{key:"title",text:e.title},{text:n.title}),(y=n.default)==null?void 0:y.call(n),n.append&&j("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),j(Pr,{defaults:{VTabs:{height:ze(d.value)}}},{default:()=>[j(dD,null,{default:()=>[c.value&&j("div",{class:"v-toolbar__extension",style:{height:ze(d.value)}},[v])]})]})]})}),{contentHeight:f,extensionHeight:d}}}),bD=Re({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function xD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,a=0;const i=fe(null),o=rt(0),s=rt(0),u=rt(0),l=rt(!1),c=rt(!1),f=q(()=>Number(e.scrollThreshold)),d=q(()=>ns((f.value-o.value)/f.value||0)),h=()=>{const m=i.value;if(!m||n&&!n.value)return;r=o.value,o.value="window"in m?m.pageYOffset:m.scrollTop;const p=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(a!==p){a=p;return}c.value=o.value<r,u.value=Math.abs(o.value-f.value)};return Ge(c,()=>{s.value=s.value||o.value}),Ge(l,()=>{s.value=0}),St(()=>{Ge(()=>e.scrollTarget,m=>{var v;const p=m?document.querySelector(m):window;p&&p!==i.value&&((v=i.value)==null||v.removeEventListener("scroll",h),i.value=p,i.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Fn(()=>{var m;(m=i.value)==null||m.removeEventListener("scroll",h)}),n&&Ge(n,h,{immediate:!0}),{scrollThreshold:f,currentScroll:o,currentThreshold:u,isScrollActive:l,scrollRatio:d,isScrollingUp:c,savedScroll:s}}const wD=Re({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...p_(),...GN(),...bD(),height:{type:[Number,String],default:64}},"VAppBar"),pp=ut()({name:"VAppBar",props:wD(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fe(),a=uo(e,"modelValue"),i=q(()=>{var y;const x=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:x.has("hide"),fullyHide:x.has("fully-hide"),inverted:x.has("inverted"),collapse:x.has("collapse"),elevate:x.has("elevate"),fadeImage:x.has("fade-image")}}),o=q(()=>{const x=i.value;return x.hide||x.fullyHide||x.inverted||x.collapse||x.elevate||x.fadeImage||!a.value}),{currentScroll:s,scrollThreshold:u,isScrollingUp:l,scrollRatio:c}=xD(e,{canScroll:o}),f=q(()=>i.value.hide||i.value.fullyHide),d=q(()=>e.collapse||i.value.collapse&&(i.value.inverted?c.value>0:c.value===0)),h=q(()=>e.flat||i.value.fullyHide&&!a.value||i.value.elevate&&(i.value.inverted?s.value>0:s.value===0)),m=q(()=>i.value.fadeImage?i.value.inverted?1-c.value:c.value:void 0),p=q(()=>{var b,w;if(i.value.hide&&i.value.inverted)return 0;const x=((b=r.value)==null?void 0:b.contentHeight)??0,y=((w=r.value)==null?void 0:w.extensionHeight)??0;return f.value?s.value<u.value||i.value.fullyHide?x+y:x:x+y});ju(q(()=>!!e.scrollBehavior),()=>{oa(()=>{f.value?i.value.inverted?a.value=s.value>u.value:a.value=l.value||s.value<u.value:a.value=!0})});const{ssrBootStyles:v}=n_(),{layoutItemStyles:g}=qN({id:e.name,order:q(()=>parseInt(e.order,10)),position:tn(e,"location"),layoutSize:p,elementSize:rt(void 0),active:a,absolute:tn(e,"absolute")});return Tt(()=>{const x=pb.filterProps(e);return j(pb,Bt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...g.value,"--v-toolbar-image-opacity":m.value,height:void 0,...v.value},e.style]},x,{collapse:d.value,flat:h.value}),n)}),{}}}),_D=[null,"default","comfortable","compact"],Gu=Re({density:{type:String,default:"default",validator:e=>_D.includes(e)}},"density");function Lf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return{densityClasses:q(()=>`${t}--density-${e.density}`)}}const kD=["elevated","flat","tonal","outlined","text","plain"];function Bm(e,t){return j(Ye,null,[e&&j("span",{key:"overlay",class:`${t}__overlay`},null),j("span",{key:"underlay",class:`${t}__underlay`},null)])}const Bf=Re({color:String,variant:{type:String,default:"elevated",validator:e=>kD.includes(e)}},"variant");function Vm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();const n=q(()=>{const{variant:i}=ft(e);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:a}=Lm(q(()=>{const{variant:i,color:o}=ft(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:a,variantClasses:n}}const m_=Re({baseColor:String,divided:Boolean,...Hu(),...At(),...Gu(),...Ff(),...lo(),...Mn(),...sa(),...Bf()},"VBtnGroup"),mb=ut()({name:"VBtnGroup",props:m_(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ua(e),{densityClasses:a}=Lf(e),{borderClasses:i}=zu(e),{elevationClasses:o}=Mf(e),{roundedClasses:s}=co(e);Nf({VBtn:{height:"auto",baseColor:tn(e,"baseColor"),color:tn(e,"color"),density:tn(e,"density"),flat:!0,variant:tn(e,"variant")}}),Tt(()=>j(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,a.value,o.value,s.value,e.class],style:e.style},n))}}),ED=Re({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),CD=Re({value:null,disabled:Boolean,selectedClass:String},"group-item");function SD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=sn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=Rf();zn(Symbol.for(`${t.description}:id`),a);const i=Et(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=tn(e,"value"),s=q(()=>!!(i.disabled.value||e.disabled));i.register({id:a,value:o,disabled:s},r),Fn(()=>{i.unregister(a)});const u=q(()=>i.isSelected(a)),l=q(()=>i.items.value[0].id===a),c=q(()=>i.items.value[i.items.value.length-1].id===a),f=q(()=>u.value&&[i.selectedClass.value,e.selectedClass]);return Ge(u,d=>{r.emit("group:selected",{value:d})},{flush:"sync"}),{id:a,isSelected:u,isFirst:l,isLast:c,toggle:()=>i.select(a,!u.value),select:d=>i.select(a,d),selectedClass:f,value:o,disabled:s,group:i}}function AD(e,t){let n=!1;const r=Dt([]),a=uo(e,"modelValue",[],d=>d==null?[]:v_(r,rN(d)),d=>{const h=ID(r,d);return e.multiple?h:h[0]}),i=sn("useGroup");function o(d,h){const m=d,p=Symbol.for(`${t.description}:id`),g=Lo(p,i==null?void 0:i.vnode).indexOf(h);ft(m.value)==null&&(m.value=g,m.useIndexAsValue=!0),g>-1?r.splice(g,0,m):r.push(m)}function s(d){if(n)return;u();const h=r.findIndex(m=>m.id===d);r.splice(h,1)}function u(){const d=r.find(h=>!h.disabled);d&&e.mandatory==="force"&&!a.value.length&&(a.value=[d.id])}St(()=>{u()}),Fn(()=>{n=!0}),Lu(()=>{for(let d=0;d<r.length;d++)r[d].useIndexAsValue&&(r[d].value=d)});function l(d,h){const m=r.find(p=>p.id===d);if(!(h&&(m!=null&&m.disabled)))if(e.multiple){const p=a.value.slice(),v=p.findIndex(x=>x===d),g=~v;if(h=h??!g,g&&e.mandatory&&p.length<=1||!g&&e.max!=null&&p.length+1>e.max)return;v<0&&h?p.push(d):v>=0&&!h&&p.splice(v,1),a.value=p}else{const p=a.value.includes(d);if(e.mandatory&&p)return;a.value=h??!p?[d]:[]}}function c(d){if(e.multiple,a.value.length){const h=a.value[0],m=r.findIndex(g=>g.id===h);let p=(m+d)%r.length,v=r[p];for(;v.disabled&&p!==m;)p=(p+d)%r.length,v=r[p];if(v.disabled)return;a.value=[r[p].id]}else{const h=r.find(m=>!m.disabled);h&&(a.value=[h.id])}}const f={register:o,unregister:s,selected:a,select:l,disabled:tn(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:d=>a.value.includes(d),selectedClass:q(()=>e.selectedClass),items:q(()=>r),getItemIndex:d=>TD(r,d)};return zn(t,f),f}function TD(e,t){const n=v_(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function v_(e,t){const n=[];return t.forEach(r=>{const a=e.find(o=>Nm(r,o.value)),i=e[r];(a==null?void 0:a.value)!=null?n.push(a.id):i!=null&&n.push(i.id)}),n}function ID(e,t){const n=[];return t.forEach(r=>{const a=e.findIndex(i=>i.id===r);if(~a){const i=e[a];n.push(i.value!=null?i.value:a)}}),n}const g_=Symbol.for("vuetify:v-btn-toggle"),RD=Re({...m_(),...ED()},"VBtnToggle");ut()({name:"VBtnToggle",props:RD(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:a,prev:i,select:o,selected:s}=AD(e,g_);return Tt(()=>{const u=mb.filterProps(e);return j(mb,Bt({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>{var l;return[(l=n.default)==null?void 0:l.call(n,{isSelected:r,next:a,prev:i,select:o,selected:s})]}})}),{next:a,prev:i,select:o}}});const ND=["x-small","small","default","large","x-large"],Vf=Re({size:{type:[String,Number],default:"default"}},"size");function Uf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return Om(()=>{let n,r;return yc(ND,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:ze(e.size),height:ze(e.size)}),{sizeClasses:n,sizeStyles:r}})}const OD=Re({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Fa,...At(),...Vf(),...Mn({tag:"i"}),...sa()},"VIcon"),Fr=ut()({name:"VIcon",props:OD(),setup(e,t){let{attrs:n,slots:r}=t;const a=fe(),{themeClasses:i}=ua(e),{iconData:o}=oD(q(()=>a.value||e.icon)),{sizeClasses:s}=Uf(e),{textColorClasses:u,textColorStyles:l}=Ec(tn(e,"color"));return Tt(()=>{var d,h;const c=(d=r.default)==null?void 0:d.call(r);c&&(a.value=(h=Vw(c).filter(m=>m.type===Ia&&m.children&&typeof m.children=="string")[0])==null?void 0:h.children);const f=!!(n.onClick||n.onClickOnce);return j(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,s.value,u.value,{"v-icon--clickable":f,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:ze(e.size),height:ze(e.size),width:ze(e.size)},l.value,e.style],role:f?"button":void 0,"aria-hidden":!f,tabindex:f?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function y_(e,t){const n=fe(),r=rt(!1);if(Rm){const a=new IntersectionObserver(i=>{r.value=!!i.find(o=>o.isIntersecting)},t);Fn(()=>{a.disconnect()}),Ge(n,(i,o)=>{o&&(a.unobserve(o),r.value=!1),i&&a.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const DD=Re({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...At(),...Vf(),...Mn({tag:"div"}),...sa()},"VProgressCircular"),b_=ut()({name:"VProgressCircular",props:DD(),setup(e,t){let{slots:n}=t;const r=20,a=2*Math.PI*r,i=fe(),{themeClasses:o}=ua(e),{sizeClasses:s,sizeStyles:u}=Uf(e),{textColorClasses:l,textColorStyles:c}=Ec(tn(e,"color")),{textColorClasses:f,textColorStyles:d}=Ec(tn(e,"bgColor")),{intersectionRef:h,isIntersecting:m}=y_(),{resizeRef:p,contentRect:v}=Jw(),g=q(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),x=q(()=>Number(e.width)),y=q(()=>u.value?Number(e.size):v.value?v.value.width:Math.max(x.value,32)),b=q(()=>r/(1-x.value/y.value)*2),w=q(()=>x.value/y.value*b.value),_=q(()=>ze((100-g.value)/100*a));return oa(()=>{h.value=i.value,p.value=i.value}),Tt(()=>j(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,l.value,e.class],style:[u.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[j("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[j("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),j("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":a,"stroke-dashoffset":_.value},null)]),n.default&&j("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),vb={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Um=Re({location:String},"location");function Wm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=ys();return{locationStyles:q(()=>{if(!e.location)return{};const{side:i,align:o}=op(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(l){return n?n(l):0}const u={};return i!=="center"&&(t?u[vb[i]]=`calc(100% - ${s(i)}px)`:u[i]=0),o!=="center"?t?u[vb[o]]=`calc(100% - ${s(o)}px)`:u[o]=0:(i==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),u})}}const PD=Re({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...At(),...Um({location:"top"}),...lo(),...Mn(),...sa()},"VProgressLinear"),FD=ut()({name:"VProgressLinear",props:PD(),emits:{"update:modelValue":e=>!0},setup(e,t){var T;let{slots:n}=t;const r=uo(e,"modelValue"),{isRtl:a,rtlClasses:i}=ys(),{themeClasses:o}=ua(e),{locationStyles:s}=Wm(e),{textColorClasses:u,textColorStyles:l}=Ec(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=Uo(q(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:h}=Uo(q(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:m,backgroundColorStyles:p}=Uo(e,"color"),{roundedClasses:v}=co(e),{intersectionRef:g,isIntersecting:x}=y_(),y=q(()=>parseFloat(e.max)),b=q(()=>parseFloat(e.height)),w=q(()=>ns(parseFloat(e.bufferValue)/y.value*100,0,100)),_=q(()=>ns(parseFloat(r.value)/y.value*100,0,100)),S=q(()=>a.value!==e.reverse),C=q(()=>e.indeterminate?"fade-transition":"slide-x-transition"),k=xt&&((T=window.matchMedia)==null?void 0:T.call(window,"(forced-colors: active)").matches);function E(A){if(!g.value)return;const{left:I,right:D,width:M}=g.value.getBoundingClientRect(),L=S.value?M-A.clientX+(D-M):A.clientX-I;r.value=Math.round(L/M*y.value)}return Tt(()=>j(e.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&x.value,"v-progress-linear--reverse":S.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?ze(b.value):0,"--v-progress-linear-height":ze(b.value),...e.absolute?s.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(r.value),y.value),onClick:e.clickable&&E},{default:()=>[e.stream&&j("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:{...l.value,[S.value?"left":"right"]:ze(-b.value),borderTop:`${ze(b.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${ze(b.value/4)})`,width:ze(100-w.value,"%"),"--v-progress-linear-stream-to":ze(b.value*(S.value?1:-1))}},null),j("div",{class:["v-progress-linear__background",k?void 0:c.value],style:[f.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),j("div",{class:["v-progress-linear__buffer",k?void 0:d.value],style:[h.value,{opacity:parseFloat(e.bufferOpacity),width:ze(w.value,"%")}]},null),j(di,{name:C.value},{default:()=>[e.indeterminate?j("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>j("div",{key:A,class:["v-progress-linear__indeterminate",A,k?void 0:m.value],style:p.value},null))]):j("div",{class:["v-progress-linear__determinate",k?void 0:m.value],style:[p.value,{width:ze(_.value,"%")}]},null)]}),n.default&&j("div",{class:"v-progress-linear__content"},[n.default({value:_.value,buffer:w.value})])]})),{}}}),x_=Re({loading:[Boolean,String]},"loader");function w_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return{loaderClasses:q(()=>({[`${t}--loading`]:e.loading}))}}function MD(e,t){var r;let{slots:n}=t;return j("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||j(FD,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const LD=["static","relative","fixed","absolute","sticky"],__=Re({position:{type:String,validator:e=>LD.includes(e)}},"position");function k_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wi();return{positionClasses:q(()=>e.position?`${t}--${e.position}`:void 0)}}function BD(){const e=sn("useRoute");return q(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function VD(){var e,t;return(t=(e=sn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function E_(e,t){var f,d;const n=gx("RouterLink"),r=q(()=>!!(e.href||e.to)),a=q(()=>(r==null?void 0:r.value)||Uy(t,"click")||Uy(e,"click"));if(typeof n=="string"||!("useLink"in n)){const h=tn(e,"href");return{isLink:r,isClickable:a,href:h,linkProps:Dt({href:h})}}const i=q(()=>({...e,to:tn(()=>e.to||"")})),o=n.useLink(i.value),s=q(()=>e.to?o:void 0),u=BD(),l=q(()=>{var h,m,p;return s.value?e.exact?u.value?((p=s.value.isExactActive)==null?void 0:p.value)&&Nm(s.value.route.value.query,u.value.query):((m=s.value.isExactActive)==null?void 0:m.value)??!1:((h=s.value.isActive)==null?void 0:h.value)??!1:!1}),c=q(()=>{var h;return e.to?(h=s.value)==null?void 0:h.route.value.href:e.href});return{isLink:r,isClickable:a,isActive:l,route:(f=s.value)==null?void 0:f.route,navigate:(d=s.value)==null?void 0:d.navigate,href:c,linkProps:Dt({href:c,"aria-current":q(()=>l.value?"page":void 0)})}}const C_=Re({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Xd=!1;function UD(e,t){let n=!1,r,a;xt&&(e!=null&&e.beforeEach)&&(Jn(()=>{window.addEventListener("popstate",i),r=e.beforeEach((o,s,u)=>{Xd?n?t(u):u():setTimeout(()=>n?t(u):u()),Xd=!0}),a=e==null?void 0:e.afterEach(()=>{Xd=!1})}),Er(()=>{window.removeEventListener("popstate",i),r==null||r(),a==null||a()}));function i(o){var s;(s=o.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}function WD(e,t){Ge(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Jn(()=>{t(!0)})},{immediate:!0})}const mp=Symbol("rippleStop"),jD=80;function gb(e,t){e.style.transform=t,e.style.webkitTransform=t}function vp(e){return e.constructor.name==="TouchEvent"}function S_(e){return e.constructor.name==="KeyboardEvent"}const HD=function(e,t){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!S_(e)){const d=t.getBoundingClientRect(),h=vp(e)?e.touches[e.touches.length-1]:e;r=h.clientX-d.left,a=h.clientY-d.top}let i=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(a-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-i*2)/2}px`,u=`${(t.clientHeight-i*2)/2}px`,l=n.center?s:`${r-i}px`,c=n.center?u:`${a-i}px`;return{radius:i,scale:o,x:l,y:c,centerX:s,centerY:u}},Cc={show(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:s,y:u,centerX:l,centerY:c}=HD(e,t,n),f=`${i*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(r);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),gb(a,`translate(${s}, ${u}) scale3d(${o},${o},${o})`),a.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),gb(a,`translate(${l}, ${c}) scale3d(1,1,1)`)})})},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(n.parentNode)},300)},a)}};function A_(e){return typeof e>"u"||!!e}function mu(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[mp])){if(e[mp]=!0,vp(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||S_(e),n._ripple.class&&(t.class=n._ripple.class),vp(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Cc.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},jD)}else Cc.show(e,n,t)}}function yb(e){e[mp]=!0}function ar(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ar(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Cc.hide(t)}}function T_(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let vu=!1;function I_(e){!vu&&(e.keyCode===Ly.enter||e.keyCode===Ly.space)&&(vu=!0,mu(e))}function R_(e){vu=!1,ar(e)}function N_(e){vu&&(vu=!1,ar(e))}function O_(e,t,n){const{value:r,modifiers:a}=t,i=A_(r);if(i||Cc.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,ZR(r)&&r.class&&(e._ripple.class=r.class),i&&!n){if(a.stop){e.addEventListener("touchstart",yb,{passive:!0}),e.addEventListener("mousedown",yb);return}e.addEventListener("touchstart",mu,{passive:!0}),e.addEventListener("touchend",ar,{passive:!0}),e.addEventListener("touchmove",T_,{passive:!0}),e.addEventListener("touchcancel",ar),e.addEventListener("mousedown",mu),e.addEventListener("mouseup",ar),e.addEventListener("mouseleave",ar),e.addEventListener("keydown",I_),e.addEventListener("keyup",R_),e.addEventListener("blur",N_),e.addEventListener("dragstart",ar,{passive:!0})}else!i&&n&&D_(e)}function D_(e){e.removeEventListener("mousedown",mu),e.removeEventListener("touchstart",mu),e.removeEventListener("touchend",ar),e.removeEventListener("touchmove",T_),e.removeEventListener("touchcancel",ar),e.removeEventListener("mouseup",ar),e.removeEventListener("mouseleave",ar),e.removeEventListener("keydown",I_),e.removeEventListener("keyup",R_),e.removeEventListener("dragstart",ar),e.removeEventListener("blur",N_)}function zD(e,t){O_(e,t,!1)}function GD(e){delete e._ripple,D_(e)}function KD(e,t){if(t.value===t.oldValue)return;const n=A_(t.oldValue);O_(e,t,n)}const P_={mounted:zD,unmounted:GD,updated:KD},qD=Re({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:g_},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Fa,appendIcon:Fa,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Hu(),...At(),...Gu(),...bs(),...Ff(),...CD(),...x_(),...Um(),...__(),...lo(),...C_(),...Vf(),...Mn({tag:"button"}),...sa(),...Bf({variant:"elevated"})},"VBtn"),oi=ut()({name:"VBtn",props:qD(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=ua(e),{borderClasses:i}=zu(e),{densityClasses:o}=Lf(e),{dimensionStyles:s}=xs(e),{elevationClasses:u}=Mf(e),{loaderClasses:l}=w_(e),{locationStyles:c}=Wm(e),{positionClasses:f}=k_(e),{roundedClasses:d}=co(e),{sizeClasses:h,sizeStyles:m}=Uf(e),p=SD(e,e.symbol,!1),v=E_(e,n),g=q(()=>{var T;return e.active!==void 0?e.active:v.isLink.value?(T=v.isActive)==null?void 0:T.value:p==null?void 0:p.isSelected.value}),x=q(()=>g.value?e.activeColor??e.color:e.color),y=q(()=>{var A,I;return{color:(p==null?void 0:p.isSelected.value)&&(!v.isLink.value||((A=v.isActive)==null?void 0:A.value))||!p||((I=v.isActive)==null?void 0:I.value)?x.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:b,colorStyles:w,variantClasses:_}=Vm(y),S=q(()=>(p==null?void 0:p.disabled.value)||e.disabled),C=q(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),k=q(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function E(T){var A;S.value||v.isLink.value&&(T.metaKey||T.ctrlKey||T.shiftKey||T.button!==0||n.target==="_blank")||((A=v.navigate)==null||A.call(v,T),p==null||p.toggle())}return WD(v,p==null?void 0:p.select),Tt(()=>{const T=v.isLink.value?"a":e.tag,A=!!(e.prependIcon||r.prepend),I=!!(e.appendIcon||r.append),D=!!(e.icon&&e.icon!==!0);return zt(j(T,Bt({type:T==="a"?void 0:"button",class:["v-btn",p==null?void 0:p.selectedClass.value,{"v-btn--active":g.value,"v-btn--block":e.block,"v-btn--disabled":S.value,"v-btn--elevated":C.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},a.value,i.value,b.value,o.value,u.value,l.value,f.value,d.value,h.value,_.value,e.class],style:[w.value,s.value,c.value,m.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:S.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:E,value:k.value},v.linkProps),{default:()=>{var M;return[Bm(!0,"v-btn"),!e.icon&&A&&j("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?j(Pr,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):j(Fr,{key:"prepend-icon",icon:e.prependIcon},null)]),j("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&D?j(Fr,{key:"content-icon",icon:e.icon},null):j(Pr,{key:"content-defaults",disabled:!D,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var L;return[((L=r.default)==null?void 0:L.call(r))??e.text]}})]),!e.icon&&I&&j("span",{key:"append",class:"v-btn__append"},[r.append?j(Pr,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):j(Fr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&j("span",{key:"loader",class:"v-btn__loader"},[((M=r.loader)==null?void 0:M.call(r))??j(b_,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[P_,!S.value&&e.ripple,"",{center:!!e.icon}]])}),{group:p}}}),$D=Re({start:Boolean,end:Boolean,icon:Fa,image:String,text:String,...Hu(),...At(),...Gu(),...lo(),...Vf(),...Mn(),...sa(),...Bf({variant:"flat"})},"VAvatar"),bb=ut()({name:"VAvatar",props:$D(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ua(e),{borderClasses:a}=zu(e),{colorClasses:i,colorStyles:o,variantClasses:s}=Vm(e),{densityClasses:u}=Lf(e),{roundedClasses:l}=co(e),{sizeClasses:c,sizeStyles:f}=Uf(e);return Tt(()=>j(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,a.value,i.value,u.value,l.value,c.value,s.value,e.class],style:[o.value,f.value,e.style]},{default:()=>[n.default?j(Pr,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?j(pu,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?j(Fr,{key:"icon",icon:e.icon},null):e.text,Bm(!1,"v-avatar")]})),{}}}),XD=Symbol.for("vuetify:form"),YD=Re({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function JD(e){const t=uo(e,"modelValue"),n=q(()=>e.disabled),r=q(()=>e.readonly),a=rt(!1),i=fe([]),o=fe([]);async function s(){const c=[];let f=!0;o.value=[],a.value=!0;for(const d of i.value){const h=await d.validate();if(h.length>0&&(f=!1,c.push({id:d.id,errorMessages:h})),!f&&e.fastFail)break}return o.value=c,a.value=!1,{valid:f,errors:o.value}}function u(){i.value.forEach(c=>c.reset())}function l(){i.value.forEach(c=>c.resetValidation())}return Ge(i,()=>{let c=0,f=0;const d=[];for(const h of i.value)h.isValid===!1?(f++,d.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;o.value=d,t.value=f>0?!1:c===i.value.length?!0:null},{deep:!0,flush:"post"}),zn(XD,{register:c=>{let{id:f,vm:d,validate:h,reset:m,resetValidation:p}=c;i.value.some(v=>v.id===f),i.value.push({id:f,validate:h,reset:m,resetValidation:p,vm:cm(d),isValid:null,errorMessages:[]})},unregister:c=>{i.value=i.value.filter(f=>f.id!==c)},update:(c,f,d)=>{const h=i.value.find(m=>m.id===c);h&&(h.isValid=f,h.errorMessages=d)},isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validateOn:tn(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validate:s,reset:u,resetValidation:l}}function Yd(e,t){return{x:e.x+t.x,y:e.y+t.y}}function QD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xb(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,a=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=n==="top"?0:n==="bottom"?t.height:n;return Yd({x:a,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,a=n==="left"?0:n==="right"?t.width:n,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Yd({x:a,y:i},t)}return Yd({x:t.width/2,y:t.height/2},t)}const F_={static:tP,connected:rP},ZD=Re({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in F_},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function eP(e,t){const n=fe({}),r=fe();xt&&ju(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var o,s;Ge(()=>e.locationStrategy,i),Er(()=>{window.removeEventListener("resize",a),r.value=void 0}),window.addEventListener("resize",a,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(s=F_[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation});function a(i){var o;(o=r.value)==null||o.call(r,i)}return{contentStyles:n,updateLocation:r}}function tP(){}function nP(e,t){const n=Hw(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function rP(e,t,n){(Array.isArray(e.target.value)||HN(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:i}=Om(()=>{const m=op(t.location,e.isRtl.value),p=t.origin==="overlap"?m:t.origin==="auto"?Kd(m):op(t.origin,e.isRtl.value);return m.side===p.side&&m.align===qd(p).align?{preferredAnchor:jy(m),preferredOrigin:jy(p)}:{preferredAnchor:m,preferredOrigin:p}}),[o,s,u,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>q(()=>{const p=parseFloat(t[m]);return isNaN(p)?1/0:p})),c=q(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const m=t.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const d=new ResizeObserver(()=>{f&&h()});Ge([e.target,e.contentEl],(m,p)=>{let[v,g]=m,[x,y]=p;x&&!Array.isArray(x)&&d.unobserve(x),v&&!Array.isArray(v)&&d.observe(v),y&&d.unobserve(y),g&&d.observe(g)},{immediate:!0}),Er(()=>{d.disconnect()});function h(){if(f=!1,requestAnimationFrame(()=>f=!0),!e.target.value||!e.contentEl.value)return;const m=jw(e.target.value),p=nP(e.contentEl.value,e.isRtl.value),v=xc(e.contentEl.value),g=12;v.length||(v.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const x=v.reduce((T,A)=>{const I=A.getBoundingClientRect(),D=new Ki({x:A===document.documentElement?0:I.x,y:A===document.documentElement?0:I.y,width:A.clientWidth,height:A.clientHeight});return T?new Ki({x:Math.max(T.left,D.left),y:Math.max(T.top,D.top),width:Math.min(T.right,D.right)-Math.max(T.left,D.left),height:Math.min(T.bottom,D.bottom)-Math.max(T.top,D.top)}):D},void 0);x.x+=g,x.y+=g,x.width-=g*2,x.height-=g*2;let y={anchor:a.value,origin:i.value};function b(T){const A=new Ki(p),I=xb(T.anchor,m),D=xb(T.origin,A);let{x:M,y:L}=QD(I,D);switch(T.anchor.side){case"top":L-=c.value[0];break;case"bottom":L+=c.value[0];break;case"left":M-=c.value[0];break;case"right":M+=c.value[0];break}switch(T.anchor.align){case"top":L-=c.value[1];break;case"bottom":L+=c.value[1];break;case"left":M-=c.value[1];break;case"right":M+=c.value[1];break}return A.x+=M,A.y+=L,A.width=Math.min(A.width,u.value),A.height=Math.min(A.height,l.value),{overflows:zy(A,x),x:M,y:L}}let w=0,_=0;const S={x:0,y:0},C={x:!1,y:!1};let k=-1;for(;!(k++>10);){const{x:T,y:A,overflows:I}=b(y);w+=T,_+=A,p.x+=T,p.y+=A;{const D=Hy(y.anchor),M=I.x.before||I.x.after,L=I.y.before||I.y.after;let W=!1;if(["x","y"].forEach(V=>{if(V==="x"&&M&&!C.x||V==="y"&&L&&!C.y){const H={anchor:{...y.anchor},origin:{...y.origin}},X=V==="x"?D==="y"?qd:Kd:D==="y"?Kd:qd;H.anchor=X(H.anchor),H.origin=X(H.origin);const{overflows:ae}=b(H);(ae[V].before<=I[V].before&&ae[V].after<=I[V].after||ae[V].before+ae[V].after<(I[V].before+I[V].after)/2)&&(y=H,W=C[V]=!0)}}),W)continue}I.x.before&&(w+=I.x.before,p.x+=I.x.before),I.x.after&&(w-=I.x.after,p.x-=I.x.after),I.y.before&&(_+=I.y.before,p.y+=I.y.before),I.y.after&&(_-=I.y.after,p.y-=I.y.after);{const D=zy(p,x);S.x=x.width-D.x.before-D.x.after,S.y=x.height-D.y.before-D.y.after,w+=D.x.before,p.x+=D.x.before,_+=D.y.before,p.y+=D.y.before}break}const E=Hy(y.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${y.anchor.side} ${y.anchor.align}`,transformOrigin:`${y.origin.side} ${y.origin.align}`,top:ze(Jd(_)),left:e.isRtl.value?void 0:ze(Jd(w)),right:e.isRtl.value?ze(Jd(-w)):void 0,minWidth:ze(E==="y"?Math.min(o.value,m.width):o.value),maxWidth:ze(wb(ns(S.x,o.value===1/0?0:o.value,u.value))),maxHeight:ze(wb(ns(S.y,s.value===1/0?0:s.value,l.value)))}),{available:S,contentBox:p}}return Ge(()=>[a.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Jn(()=>{const m=h();if(!m)return;const{available:p,contentBox:v}=m;v.height>p.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Jd(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function wb(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let gp=!0;const Sc=[];function aP(e){!gp||Sc.length?(Sc.push(e),yp()):(gp=!1,e(),yp())}let _b=-1;function yp(){cancelAnimationFrame(_b),_b=requestAnimationFrame(()=>{const e=Sc.shift();e&&e(),Sc.length?yp():gp=!0})}const ql={none:null,close:sP,block:uP,reposition:lP},iP=Re({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ql}},"VOverlay-scroll-strategies");function oP(e,t){if(!xt)return;let n;oa(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=df(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=ql[e.scrollStrategy])==null||r.call(ql,t,e,n)}))}),Er(()=>{n==null||n.stop()})}function sP(e){function t(n){e.isActive.value=!1}M_(e.targetEl.value??e.contentEl.value,t)}function uP(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...xc(e.targetEl.value,t.contained?n:void 0),...xc(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,i=(s=>Fm(s)&&s)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,u)=>{s.style.setProperty("--v-body-scroll-x",ze(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",ze(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",ze(a)),s.classList.add("v-overlay-scroll-blocked")}),Er(()=>{r.forEach((s,u)=>{const l=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),f=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-l,s.scrollTop=-c,s.style.scrollBehavior=f}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function lP(e,t,n){let r=!1,a=-1,i=-1;function o(s){aP(()=>{var c,f;const u=performance.now();(f=(c=e.updateLocation).value)==null||f.call(c,s),r=(performance.now()-u)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{M_(e.targetEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),Er(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function M_(e,t){const n=[document,...xc(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Er(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const cP=Symbol.for("vuetify:v-menu"),fP=Re({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function dP(e,t){let n=()=>{};function r(o){n==null||n();const s=Number(o?e.openDelay:e.closeDelay);return new Promise(u=>{n=sN(s,()=>{t==null||t(o),u(o)})})}function a(){return r(!0)}function i(){return r(!1)}return{clearDelay:n,runOpenDelay:a,runCloseDelay:i}}const hP=Re({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...fP()},"VOverlay-activator");function pP(e,t){let{isActive:n,isTop:r,contentEl:a}=t;const i=sn("useActivator"),o=fe();let s=!1,u=!1,l=!0;const c=q(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=q(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:d,runCloseDelay:h}=dP(e,C=>{C===(e.openOnHover&&s||c.value&&u)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==C&&(l=!0),n.value=C)}),m=fe(),p={onClick:C=>{C.stopPropagation(),o.value=C.currentTarget||C.target,n.value||(m.value=[C.clientX,C.clientY]),n.value=!n.value},onMouseenter:C=>{var k;(k=C.sourceCapabilities)!=null&&k.firesTouchEvents||(s=!0,o.value=C.currentTarget||C.target,d())},onMouseleave:C=>{s=!1,h()},onFocus:C=>{oN(C.target,":focus-visible")!==!1&&(u=!0,C.stopPropagation(),o.value=C.currentTarget||C.target,d())},onBlur:C=>{u=!1,C.stopPropagation(),h()}},v=q(()=>{const C={};return f.value&&(C.onClick=p.onClick),e.openOnHover&&(C.onMouseenter=p.onMouseenter,C.onMouseleave=p.onMouseleave),c.value&&(C.onFocus=p.onFocus,C.onBlur=p.onBlur),C}),g=q(()=>{const C={};if(e.openOnHover&&(C.onMouseenter=()=>{s=!0,d()},C.onMouseleave=()=>{s=!1,h()}),c.value&&(C.onFocusin=()=>{u=!0,d()},C.onFocusout=()=>{u=!1,h()}),e.closeOnContentClick){const k=Et(cP,null);C.onClick=()=>{n.value=!1,k==null||k.closeParents()}}return C}),x=q(()=>{const C={};return e.openOnHover&&(C.onMouseenter=()=>{l&&(s=!0,l=!1,d())},C.onMouseleave=()=>{s=!1,h()}),C});Ge(r,C=>{var k;C&&(e.openOnHover&&!s&&(!c.value||!u)||c.value&&!u&&(!e.openOnHover||!s))&&!((k=a.value)!=null&&k.contains(document.activeElement))&&(n.value=!1)}),Ge(n,C=>{C||setTimeout(()=>{m.value=void 0})},{flush:"post"});const y=ip();oa(()=>{y.value&&Jn(()=>{o.value=y.el})});const b=ip(),w=q(()=>e.target==="cursor"&&m.value?m.value:b.value?b.el:L_(e.target,i)||o.value),_=q(()=>Array.isArray(w.value)?void 0:w.value);let S;return Ge(()=>!!e.activator,C=>{C&&xt?(S=df(),S.run(()=>{mP(e,i,{activatorEl:o,activatorEvents:v})})):S&&S.stop()},{flush:"post",immediate:!0}),Er(()=>{S==null||S.stop()}),{activatorEl:o,activatorRef:y,target:w,targetEl:_,targetRef:b,activatorEvents:v,contentEvents:g,scrimEvents:x}}function mP(e,t,n){let{activatorEl:r,activatorEvents:a}=n;Ge(()=>e.activator,(u,l)=>{if(l&&u!==l){const c=s(l);c&&o(c)}u&&Jn(()=>i())},{immediate:!0}),Ge(()=>e.activatorProps,()=>{i()}),Er(()=>{o()});function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&lN(u,Bt(a.value,l))}function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&cN(u,Bt(a.value,l))}function s(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const l=L_(u,t);return r.value=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:void 0,r.value}}function L_(e,t){var r,a;if(!e)return;let n;if(e==="parent"){let i=(a=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:a.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function vP(){if(!xt)return rt(!1);const{ssr:e}=QO();if(e){const t=rt(!1);return St(()=>{t.value=!0}),t}else return rt(!0)}const gP=Re({eager:Boolean},"lazy");function yP(e,t){const n=rt(!1),r=q(()=>n.value||e.eager||t.value);Ge(t,()=>n.value=!0);function a(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:a}}function B_(){const t=sn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const kb=Symbol.for("vuetify:stack"),Ns=Dt([]);function bP(e,t,n){const r=sn("useStack"),a=!n,i=Et(kb,void 0),o=Dt({activeChildren:new Set});zn(kb,o);const s=rt(+t.value);ju(e,()=>{var f;const c=(f=Ns.at(-1))==null?void 0:f[1];s.value=c?c+10:+t.value,a&&Ns.push([r.uid,s.value]),i==null||i.activeChildren.add(r.uid),Er(()=>{if(a){const d=Ze(Ns).findIndex(h=>h[0]===r.uid);Ns.splice(d,1)}i==null||i.activeChildren.delete(r.uid)})});const u=rt(!0);a&&oa(()=>{var f;const c=((f=Ns.at(-1))==null?void 0:f[0])===r.uid;setTimeout(()=>u.value=c)});const l=q(()=>!o.activeChildren.size);return{globalTop:vs(u),localTop:l,stackStyles:q(()=>({zIndex:s.value}))}}function xP(e){return{teleportTarget:q(()=>{const n=e();if(n===!0||!xt)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let a=[...r.children].find(i=>i.matches(".v-overlay-container"));return a||(a=document.createElement("div"),a.className="v-overlay-container",r.appendChild(a)),a})}}function wP(){return!0}function V_(e,t,n){if(!e||U_(e,n)===!1)return!1;const r=Yw(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const a=(typeof n.value=="object"&&n.value.include||(()=>[]))();return a.push(t),!a.some(i=>i==null?void 0:i.contains(e.target))}function U_(e,t){return(typeof t.value=="object"&&t.value.closeConditional||wP)(e)}function _P(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&V_(e,t,n)&&setTimeout(()=>{U_(e,n)&&r&&r(e)},0)}function Eb(e,t){const n=Yw(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const kP={mounted(e,t){const n=a=>_P(a,e,t),r=a=>{e._clickOutside.lastMousedownWasOutside=V_(a,e,t)};Eb(e,a=>{a.addEventListener("click",n,!0),a.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(Eb(e,n=>{var i;if(!n||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:r,onMousedown:a}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function EP(e){const{modelValue:t,color:n,...r}=e;return j(di,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&j("div",Bt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const W_=Re({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...hP(),...At(),...bs(),...gP(),...ZD(),...iP(),...sa(),...d_()},"VOverlay"),Cb=ut()({name:"VOverlay",directives:{ClickOutside:kP},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...W_()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:a}=t;const i=sn("VOverlay"),o=fe(),s=fe(),u=fe(),l=uo(e,"modelValue"),c=q({get:()=>l.value,set:de=>{de&&e.disabled||(l.value=de)}}),{themeClasses:f}=ua(e),{rtlClasses:d,isRtl:h}=ys(),{hasContent:m,onAfterLeave:p}=yP(e,c),v=Uo(q(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:g,localTop:x,stackStyles:y}=bP(c,tn(e,"zIndex"),e._disableGlobalStack),{activatorEl:b,activatorRef:w,target:_,targetEl:S,targetRef:C,activatorEvents:k,contentEvents:E,scrimEvents:T}=pP(e,{isActive:c,isTop:x,contentEl:u}),{teleportTarget:A}=xP(()=>{var ee,te,ce;const de=e.attach||e.contained;if(de)return de;const G=((ee=b==null?void 0:b.value)==null?void 0:ee.getRootNode())||((ce=(te=i.proxy)==null?void 0:te.$el)==null?void 0:ce.getRootNode());return G instanceof ShadowRoot?G:!1}),{dimensionStyles:I}=xs(e),D=vP(),{scopeId:M}=B_();Ge(()=>e.disabled,de=>{de&&(c.value=!1)});const{contentStyles:L,updateLocation:W}=eP(e,{isRtl:h,contentEl:u,target:_,isActive:c});oP(e,{root:o,contentEl:u,targetEl:S,isActive:c,updateLocation:W});function V(de){a("click:outside",de),e.persistent?me():c.value=!1}function H(de){return c.value&&g.value&&(!e.scrim||de.target===s.value||de instanceof MouseEvent&&de.shadowTarget===s.value)}xt&&Ge(c,de=>{de?window.addEventListener("keydown",X):window.removeEventListener("keydown",X)},{immediate:!0}),Fn(()=>{xt&&window.removeEventListener("keydown",X)});function X(de){var G,ee;de.key==="Escape"&&g.value&&(e.persistent?me():(c.value=!1,(G=u.value)!=null&&G.contains(document.activeElement)&&((ee=b.value)==null||ee.focus())))}const ae=VD();ju(()=>e.closeOnBack,()=>{UD(ae,de=>{g.value&&c.value?(de(!1),e.persistent?me():c.value=!1):de()})});const se=fe();Ge(()=>c.value&&(e.absolute||e.contained)&&A.value==null,de=>{if(de){const G=WN(o.value);G&&G!==document.scrollingElement&&(se.value=G.scrollTop)}});function me(){e.noClickAnimation||u.value&&Vs(u.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:up})}function Ne(){a("afterEnter")}function Ie(){p(),a("afterLeave")}return Tt(()=>{var de;return j(Ye,null,[(de=n.activator)==null?void 0:de.call(n,{isActive:c.value,targetRef:C,props:Bt({ref:w},k.value,e.activatorProps)}),D.value&&m.value&&j(ix,{disabled:!A.value,to:A.value},{default:()=>[j("div",Bt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},f.value,d.value,e.class],style:[y.value,{"--v-overlay-opacity":e.opacity,top:ze(se.value)},e.style],ref:o},M,r),[j(EP,Bt({color:v,modelValue:c.value&&!!e.scrim,ref:s},T.value),null),j(Us,{appear:!0,persisted:!0,transition:e.transition,target:_.value,onAfterEnter:Ne,onAfterLeave:Ie},{default:()=>{var G;return[zt(j("div",Bt({ref:u,class:["v-overlay__content",e.contentClass],style:[I.value,L.value]},E.value,e.contentProps),[(G=n.default)==null?void 0:G.call(n,{isActive:c})]),[[Ef,c.value],[wf("click-outside"),{handler:V,closeConditional:H,include:()=>[b.value]}]])]}})])]})])}),{activatorEl:b,scrimEl:s,target:_,animateClick:me,contentEl:u,globalTop:g,localTop:x,updateLocation:W}}}),Qd=Symbol("Forwarded refs");function Zd(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function j_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Qd]=n,new Proxy(e,{get(a,i){if(Reflect.has(a,i))return Reflect.get(a,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const s=Reflect.get(o.value,i);return typeof s=="function"?s.bind(o.value):s}}},has(a,i){if(Reflect.has(a,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(a,i,o){if(Reflect.has(a,i))return Reflect.set(a,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,o);return!1},getOwnPropertyDescriptor(a,i){var s;const o=Reflect.getOwnPropertyDescriptor(a,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const u of n){if(!u.value)continue;const l=Zd(u.value,i)??("_"in u.value?Zd((s=u.value._)==null?void 0:s.setupState,i):void 0);if(l)return l}for(const u of n){const l=u.value&&u.value[Qd];if(!l)continue;const c=l.slice();for(;c.length;){const f=c.shift(),d=Zd(f.value,i);if(d)return d;const h=f.value&&f.value[Qd];h&&c.push(...h)}}}}})}const CP=Re({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...W_({origin:"center center",scrollStrategy:"block",transition:{component:fD},zIndex:2400})},"VDialog"),SP=ut()({name:"VDialog",props:CP(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=uo(e,"modelValue"),{scopeId:i}=B_(),o=fe();function s(c){var h,m;const f=c.relatedTarget,d=c.target;if(f!==d&&((h=o.value)!=null&&h.contentEl)&&((m=o.value)!=null&&m.globalTop)&&![document,o.value.contentEl].includes(d)&&!o.value.contentEl.contains(d)){const p=iN(o.value.contentEl);if(!p.length)return;const v=p[0],g=p[p.length-1];f===v?g.focus():v.focus()}}Fn(()=>{document.removeEventListener("focusin",s)}),xt&&Ge(()=>a.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0});function u(){var c;n("afterEnter"),(c=o.value)!=null&&c.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function l(){n("afterLeave")}return Ge(a,async c=>{var f;c||(await Jn(),(f=o.value.activatorEl)==null||f.focus({preventScroll:!0}))}),Tt(()=>{const c=Cb.filterProps(e),f=Bt({"aria-haspopup":"dialog"},e.activatorProps),d=Bt({tabindex:-1},e.contentProps);return j(Cb,Bt({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,"aria-modal":"true",activatorProps:f,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:l},i),{activator:r.activator,default:function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return j(Pr,{root:"VDialog"},{default:()=>{var v;return[(v=r.default)==null?void 0:v.call(r,...m)]}})}})}),j_({},o)}}),AP=ut()({name:"VCardActions",props:At(),setup(e,t){let{slots:n}=t;return Nf({VBtn:{slim:!0,variant:"text"}}),Tt(()=>{var r;return j("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),TP=Re({opacity:[Number,String],...At(),...Mn()},"VCardSubtitle"),IP=ut()({name:"VCardSubtitle",props:TP(),setup(e,t){let{slots:n}=t;return Tt(()=>j(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),H_=BN("v-card-title"),RP=Re({appendAvatar:String,appendIcon:Fa,prependAvatar:String,prependIcon:Fa,subtitle:[String,Number],title:[String,Number],...At(),...Gu()},"VCardItem"),NP=ut()({name:"VCardItem",props:RP(),setup(e,t){let{slots:n}=t;return Tt(()=>{var l;const r=!!(e.prependAvatar||e.prependIcon),a=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),s=!!(e.title!=null||n.title),u=!!(e.subtitle!=null||n.subtitle);return j("div",{class:["v-card-item",e.class],style:e.style},[a&&j("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?j(Pr,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):j(Ye,null,[e.prependAvatar&&j(bb,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&j(Fr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),j("div",{class:"v-card-item__content"},[s&&j(H_,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),u&&j(IP,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(l=n.default)==null?void 0:l.call(n)]),o&&j("div",{key:"append",class:"v-card-item__append"},[n.append?j(Pr,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):j(Ye,null,[e.appendIcon&&j(Fr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&j(bb,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),OP=Re({opacity:[Number,String],...At(),...Mn()},"VCardText"),z_=ut()({name:"VCardText",props:OP(),setup(e,t){let{slots:n}=t;return Tt(()=>j(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),DP=Re({appendAvatar:String,appendIcon:Fa,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Fa,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Hu(),...At(),...Gu(),...bs(),...Ff(),...x_(),...Um(),...__(),...lo(),...C_(),...Mn(),...sa(),...Bf({variant:"elevated"})},"VCard"),jm=ut()({name:"VCard",directives:{Ripple:P_},props:DP(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=ua(e),{borderClasses:i}=zu(e),{colorClasses:o,colorStyles:s,variantClasses:u}=Vm(e),{densityClasses:l}=Lf(e),{dimensionStyles:c}=xs(e),{elevationClasses:f}=Mf(e),{loaderClasses:d}=w_(e),{locationStyles:h}=Wm(e),{positionClasses:m}=k_(e),{roundedClasses:p}=co(e),v=E_(e,n),g=q(()=>e.link!==!1&&v.isLink.value),x=q(()=>!e.disabled&&e.link!==!1&&(e.link||v.isClickable.value));return Tt(()=>{const y=g.value?"a":e.tag,b=!!(r.title||e.title!=null),w=!!(r.subtitle||e.subtitle!=null),_=b||w,S=!!(r.append||e.appendAvatar||e.appendIcon),C=!!(r.prepend||e.prependAvatar||e.prependIcon),k=!!(r.image||e.image),E=_||C||S,T=!!(r.text||e.text!=null);return zt(j(y,Bt({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":x.value},a.value,i.value,o.value,l.value,f.value,d.value,m.value,p.value,u.value,e.class],style:[s.value,c.value,h.value,e.style],onClick:x.value&&v.navigate,tabindex:e.disabled?-1:void 0},v.linkProps),{default:()=>{var A;return[k&&j("div",{key:"image",class:"v-card__image"},[r.image?j(Pr,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):j(pu,{key:"image-img",cover:!0,src:e.image},null)]),j(MD,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),E&&j(NP,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),T&&j(z_,{key:"text"},{default:()=>{var I;return[((I=r.text)==null?void 0:I.call(r))??e.text]}}),(A=r.default)==null?void 0:A.call(r),r.actions&&j(AP,null,{default:r.actions}),Bm(x.value,"v-card")]}}),[[wf("ripple"),x.value&&e.ripple]])}),{}}}),PP=Re({fluid:{type:Boolean,default:!1},...At(),...bs(),...Mn()},"VContainer"),Xs=ut()({name:"VContainer",props:PP(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=ys(),{dimensionStyles:a}=xs(e);return Tt(()=>j(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[a.value,e.style]},n)),{}}}),G_=Df.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),K_=Df.reduce((e,t)=>{const n="offset"+pr(t);return e[n]={type:[String,Number],default:null},e},{}),q_=Df.reduce((e,t)=>{const n="order"+pr(t);return e[n]={type:[String,Number],default:null},e},{}),Sb={col:Object.keys(G_),offset:Object.keys(K_),order:Object.keys(q_)};function FP(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const a=t.replace(e,"");r+=`-${a}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const MP=["auto","start","end","center","baseline","stretch"],LP=Re({cols:{type:[Boolean,String,Number],default:!1},...G_,offset:{type:[String,Number],default:null},...K_,order:{type:[String,Number],default:null},...q_,alignSelf:{type:String,default:null,validator:e=>MP.includes(e)},...At(),...Mn()},"VCol"),$l=ut()({name:"VCol",props:LP(),setup(e,t){let{slots:n}=t;const r=q(()=>{const a=[];let i;for(i in Sb)Sb[i].forEach(s=>{const u=e[s],l=FP(i,s,u);l&&a.push(l)});const o=a.some(s=>s.startsWith("v-col-"));return a.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return Br(e.tag,{class:[r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),Hm=["start","end","center"],$_=["space-between","space-around","space-evenly"];function zm(e,t){return Df.reduce((n,r)=>{const a=e+pr(r);return n[a]=t(),n},{})}const BP=[...Hm,"baseline","stretch"],X_=e=>BP.includes(e),Y_=zm("align",()=>({type:String,default:null,validator:X_})),VP=[...Hm,...$_],J_=e=>VP.includes(e),Q_=zm("justify",()=>({type:String,default:null,validator:J_})),UP=[...Hm,...$_,"stretch"],Z_=e=>UP.includes(e),ek=zm("alignContent",()=>({type:String,default:null,validator:Z_})),Ab={align:Object.keys(Y_),justify:Object.keys(Q_),alignContent:Object.keys(ek)},WP={align:"align",justify:"justify",alignContent:"align-content"};function jP(e,t,n){let r=WP[e];if(n!=null){if(t){const a=t.replace(e,"");r+=`-${a}`}return r+=`-${n}`,r.toLowerCase()}}const HP=Re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:X_},...Y_,justify:{type:String,default:null,validator:J_},...Q_,alignContent:{type:String,default:null,validator:Z_},...ek,...At(),...Mn()},"VRow"),tk=ut()({name:"VRow",props:HP(),setup(e,t){let{slots:n}=t;const r=q(()=>{const a=[];let i;for(i in Ab)Ab[i].forEach(o=>{const s=e[o],u=jP(i,o,s);u&&a.push(u)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>{var a;return Br(e.tag,{class:["v-row",r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),zP=Re({...At(),...YD()},"VForm"),GP=ut()({name:"VForm",props:zP(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=JD(e),i=fe();function o(u){u.preventDefault(),a.reset()}function s(u){const l=u,c=a.validate();l.then=c.then.bind(c),l.catch=c.catch.bind(c),l.finally=c.finally.bind(c),r("submit",l),l.defaultPrevented||c.then(f=>{var h;let{valid:d}=f;d&&((h=i.value)==null||h.submit())}),l.preventDefault()}return Tt(()=>{var u;return j("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:s},[(u=n.default)==null?void 0:u.call(n,a)])}),j_(a,i)}}),Vt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},KP=Xt({__name:"MainView",setup(e){const t=fe(""),n=mr();St(()=>{const o=localStorage.getItem("ticketNumber");t.value=o||"Not available"});const r=()=>{n.push("/my-photos")},a=()=>{n.push("/")},i=()=>{n.push("/capture")};return(o,s)=>(ge(),$n(ft(Xs),{class:"d-flex justify-center align-center",style:{height:"100vh","max-width":"480px",margin:"0 auto"}},{default:Le(()=>[j(ft(jm),{elevation:"3",outlined:""},{default:Le(()=>[j(ft(H_),{class:"text-h5 justify-center"},{default:Le(()=>[_t(" Hi, "+Ke(t.value),1)]),_:1}),j(ft(z_),null,{default:Le(()=>[j(GP,null,{default:Le(()=>[j(ft(tk),null,{default:Le(()=>[j(ft($l),{cols:"12"},{default:Le(()=>[j(ft(oi),{block:"",color:"primary",onClick:i,class:"mt-4"},{default:Le(()=>s[0]||(s[0]=[_t(" Capture Photo ")])),_:1})]),_:1}),j(ft($l),{cols:"12"},{default:Le(()=>[j(ft(oi),{block:"",color:"primary",onClick:r,class:"mt-4"},{default:Le(()=>s[1]||(s[1]=[_t(" Show My Photos ")])),_:1})]),_:1}),j(ft($l),{cols:"12"},{default:Le(()=>[j(ft(oi),{block:"",color:"primary",onClick:a,class:"mt-4"},{default:Le(()=>s[2]||(s[2]=[_t(" Logout ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),qP=Vt(KP,[["__scopeId","data-v-aae16e22"]]);function nk(e,t){return function(){return e.apply(t,arguments)}}const{toString:$P}=Object.prototype,{getPrototypeOf:Gm}=Object,Wf=(e=>t=>{const n=$P.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=e=>(e=e.toLowerCase(),t=>Wf(t)===e),jf=e=>t=>typeof t===e,{isArray:ws}=Array,gu=jf("undefined");function XP(e){return e!==null&&!gu(e)&&e.constructor!==null&&!gu(e.constructor)&&dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rk=Vr("ArrayBuffer");function YP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rk(e.buffer),t}const JP=jf("string"),dr=jf("function"),ak=jf("number"),Hf=e=>e!==null&&typeof e=="object",QP=e=>e===!0||e===!1,Xl=e=>{if(Wf(e)!=="object")return!1;const t=Gm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZP=Vr("Date"),e3=Vr("File"),t3=Vr("Blob"),n3=Vr("FileList"),r3=e=>Hf(e)&&dr(e.pipe),a3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dr(e.append)&&((t=Wf(e))==="formdata"||t==="object"&&dr(e.toString)&&e.toString()==="[object FormData]"))},i3=Vr("URLSearchParams"),[o3,s3,u3,l3]=["ReadableStream","Request","Response","Headers"].map(Vr),c3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ku(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),ws(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function ik(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ok=e=>!gu(e)&&e!==Pi;function bp(){const{caseless:e}=ok(this)&&this||{},t={},n=(r,a)=>{const i=e&&ik(t,a)||a;Xl(t[i])&&Xl(r)?t[i]=bp(t[i],r):Xl(r)?t[i]=bp({},r):ws(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ku(arguments[r],n);return t}const f3=(e,t,n,{allOwnKeys:r}={})=>(Ku(t,(a,i)=>{n&&dr(a)?e[i]=nk(a,n):e[i]=a},{allOwnKeys:r}),e),d3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),h3=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},p3=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&Gm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},m3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},v3=e=>{if(!e)return null;if(ws(e))return e;let t=e.length;if(!ak(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},g3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gm(Uint8Array)),y3=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},b3=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},x3=Vr("HTMLFormElement"),w3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Tb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_3=Vr("RegExp"),sk=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ku(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},k3=e=>{sk(e,(t,n)=>{if(dr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E3=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return ws(e)?r(e):r(String(e).split(t)),n},C3=()=>{},S3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function A3(e){return!!(e&&dr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const T3=e=>{const t=new Array(10),n=(r,a)=>{if(Hf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=ws(r)?[]:{};return Ku(r,(o,s)=>{const u=n(o,a+1);!gu(u)&&(i[s]=u)}),t[a]=void 0,i}}return r};return n(e,0)},I3=Vr("AsyncFunction"),R3=e=>e&&(Hf(e)||dr(e))&&dr(e.then)&&dr(e.catch),uk=((e,t)=>e?setImmediate:t?((n,r)=>(Pi.addEventListener("message",({source:a,data:i})=>{a===Pi&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Pi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dr(Pi.postMessage)),N3=typeof queueMicrotask<"u"?queueMicrotask.bind(Pi):typeof process<"u"&&process.nextTick||uk,Y={isArray:ws,isArrayBuffer:rk,isBuffer:XP,isFormData:a3,isArrayBufferView:YP,isString:JP,isNumber:ak,isBoolean:QP,isObject:Hf,isPlainObject:Xl,isReadableStream:o3,isRequest:s3,isResponse:u3,isHeaders:l3,isUndefined:gu,isDate:ZP,isFile:e3,isBlob:t3,isRegExp:_3,isFunction:dr,isStream:r3,isURLSearchParams:i3,isTypedArray:g3,isFileList:n3,forEach:Ku,merge:bp,extend:f3,trim:c3,stripBOM:d3,inherits:h3,toFlatObject:p3,kindOf:Wf,kindOfTest:Vr,endsWith:m3,toArray:v3,forEachEntry:y3,matchAll:b3,isHTMLForm:x3,hasOwnProperty:Tb,hasOwnProp:Tb,reduceDescriptors:sk,freezeMethods:k3,toObjectSet:E3,toCamelCase:w3,noop:C3,toFiniteNumber:S3,findKey:ik,global:Pi,isContextDefined:ok,isSpecCompliantForm:A3,toJSONObject:T3,isAsyncFn:I3,isThenable:R3,setImmediate:uk,asap:N3};function We(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const lk=We.prototype,ck={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ck[e]={value:e}});Object.defineProperties(We,ck);Object.defineProperty(lk,"isAxiosError",{value:!0});We.from=(e,t,n,r,a,i)=>{const o=Object.create(lk);return Y.toFlatObject(e,o,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),We.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const O3=null;function xp(e){return Y.isPlainObject(e)||Y.isArray(e)}function fk(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Ib(e,t,n){return e?e.concat(t).map(function(a,i){return a=fk(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function D3(e){return Y.isArray(e)&&!e.some(xp)}const P3=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function zf(e,t,n){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Y.isUndefined(v[p])});const r=n.metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(Y.isDate(m))return m.toISOString();if(!u&&Y.isBlob(m))throw new We("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(m)||Y.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,v){let g=m;if(m&&!v&&typeof m=="object"){if(Y.endsWith(p,"{}"))p=r?p:p.slice(0,-2),m=JSON.stringify(m);else if(Y.isArray(m)&&D3(m)||(Y.isFileList(m)||Y.endsWith(p,"[]"))&&(g=Y.toArray(m)))return p=fk(p),g.forEach(function(y,b){!(Y.isUndefined(y)||y===null)&&t.append(o===!0?Ib([p],b,i):o===null?p:p+"[]",l(y))}),!1}return xp(m)?!0:(t.append(Ib(v,p,i),l(m)),!1)}const f=[],d=Object.assign(P3,{defaultVisitor:c,convertValue:l,isVisitable:xp});function h(m,p){if(!Y.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(m),Y.forEach(m,function(g,x){(!(Y.isUndefined(g)||g===null)&&a.call(t,g,Y.isString(x)?x.trim():x,p,d))===!0&&h(g,p?p.concat(x):[x])}),f.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Rb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Km(e,t){this._pairs=[],e&&zf(e,this,t)}const dk=Km.prototype;dk.append=function(t,n){this._pairs.push([t,n])};dk.toString=function(t){const n=t?function(r){return t.call(this,r,Rb)}:Rb;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function F3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hk(e,t,n){if(!t)return e;const r=n&&n.encode||F3;Y.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Y.isURLSearchParams(t)?t.toString():new Km(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Nb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const pk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M3=typeof URLSearchParams<"u"?URLSearchParams:Km,L3=typeof FormData<"u"?FormData:null,B3=typeof Blob<"u"?Blob:null,V3={isBrowser:!0,classes:{URLSearchParams:M3,FormData:L3,Blob:B3},protocols:["http","https","file","blob","url","data"]},qm=typeof window<"u"&&typeof document<"u",wp=typeof navigator=="object"&&navigator||void 0,U3=qm&&(!wp||["ReactNative","NativeScript","NS"].indexOf(wp.product)<0),W3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j3=qm&&window.location.href||"http://localhost",H3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qm,hasStandardBrowserEnv:U3,hasStandardBrowserWebWorkerEnv:W3,navigator:wp,origin:j3},Symbol.toStringTag,{value:"Module"})),wn={...H3,...V3};function z3(e,t){return zf(e,new wn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return wn.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function G3(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function K3(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function mk(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),u=i>=n.length;return o=!o&&Y.isArray(a)?a.length:o,u?(Y.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!Y.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&Y.isArray(a[o])&&(a[o]=K3(a[o])),!s)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const n={};return Y.forEachEntry(e,(r,a)=>{t(G3(r),a,n,0)}),n}return null}function q3(e,t,n){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const qu={transitional:pk,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Y.isObject(t);if(i&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(mk(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z3(t,this.formSerializer).toString();if((s=Y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zf(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),q3(t)):t}],transformResponse:[function(t){const n=this.transitional||qu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?We.from(s,We.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{qu.headers[e]={}});const $3=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X3=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&$3[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ob=Symbol("internals");function Os(e){return e&&String(e).trim().toLowerCase()}function Yl(e){return e===!1||e==null?e:Y.isArray(e)?e.map(Yl):String(e)}function Y3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const J3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eh(e,t,n,r,a){if(Y.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Y.isString(t)){if(Y.isString(r))return t.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(t)}}function Q3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Z3(e,t){const n=Y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Kn=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,u,l){const c=Os(u);if(!c)throw new Error("header name must be a non-empty string");const f=Y.findKey(a,c);(!f||a[f]===void 0||l===!0||l===void 0&&a[f]!==!1)&&(a[f||u]=Yl(s))}const o=(s,u)=>Y.forEach(s,(l,c)=>i(l,c,u));if(Y.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Y.isString(t)&&(t=t.trim())&&!J3(t))o(X3(t),n);else if(Y.isHeaders(t))for(const[s,u]of t.entries())i(u,s,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Os(t),t){const r=Y.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Y3(a);if(Y.isFunction(n))return n.call(this,a,r);if(Y.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Os(t),t){const r=Y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||eh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Os(o),o){const s=Y.findKey(r,o);s&&(!n||eh(r,r[s],s,n))&&(delete r[s],a=!0)}}return Y.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||eh(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Y.forEach(this,(a,i)=>{const o=Y.findKey(r,i);if(o){n[o]=Yl(a),delete n[i];return}const s=t?Q3(i):String(i).trim();s!==i&&delete n[i],n[s]=Yl(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Y.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Ob]=this[Ob]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=Os(o);r[s]||(Z3(a,o),r[s]=!0)}return Y.isArray(t)?t.forEach(i):i(t),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Kn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Y.freezeMethods(Kn);function th(e,t){const n=this||qu,r=t||n,a=Kn.from(r.headers);let i=r.data;return Y.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function vk(e){return!!(e&&e.__CANCEL__)}function _s(e,t,n){We.call(this,e??"canceled",We.ERR_CANCELED,t,n),this.name="CanceledError"}Y.inherits(_s,We,{__CANCEL__:!0});function gk(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function eF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tF(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const l=Date.now(),c=r[i];o||(o=l),n[a]=u,r[a]=l;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(d*1e3/h):void 0}}function nF(e,t){let n=0,r=1e3/t,a,i;const o=(l,c=Date.now())=>{n=c,a=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),f=c-n;f>=r?o(l,c):(a=l,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const Ac=(e,t,n=3)=>{let r=0;const a=tF(50,250);return nF(i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,u=o-r,l=a(u),c=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:u,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:i,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},Db=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Pb=e=>(...t)=>Y.asap(()=>e(...t)),rF=wn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,wn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,aF=wn.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];Y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&o.push("path="+r),Y.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yk(e,t,n){let r=!iF(t);return e&&r||n==!1?oF(e,t):t}const Fb=e=>e instanceof Kn?{...e}:e;function Zi(e,t){t=t||{};const n={};function r(l,c,f,d){return Y.isPlainObject(l)&&Y.isPlainObject(c)?Y.merge.call({caseless:d},l,c):Y.isPlainObject(c)?Y.merge({},c):Y.isArray(c)?c.slice():c}function a(l,c,f,d){if(Y.isUndefined(c)){if(!Y.isUndefined(l))return r(void 0,l,f,d)}else return r(l,c,f,d)}function i(l,c){if(!Y.isUndefined(c))return r(void 0,c)}function o(l,c){if(Y.isUndefined(c)){if(!Y.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function s(l,c,f){if(f in t)return r(l,c);if(f in e)return r(void 0,l)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,c,f)=>a(Fb(l),Fb(c),f,!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=u[c]||a,d=f(e[c],t[c],c);Y.isUndefined(d)&&f!==s||(n[c]=d)}),n}const bk=e=>{const t=Zi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:s}=t;t.headers=o=Kn.from(o),t.url=hk(yk(t.baseURL,t.url),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(Y.isFormData(n)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...c]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...c].join("; "))}}if(wn.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(t)),r||r!==!1&&rF(t.url))){const l=a&&i&&aF.read(i);l&&o.set(a,l)}return t},sF=typeof XMLHttpRequest<"u",uF=sF&&function(e){return new Promise(function(n,r){const a=bk(e);let i=a.data;const o=Kn.from(a.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:l}=a,c,f,d,h,m;function p(){h&&h(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const y=Kn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:e,request:v};gk(function(S){n(S),p()},function(S){r(S),p()},w),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new We("Request aborted",We.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||pk;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),r(new We(b,w.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&Y.forEach(o.toJSON(),function(b,w){v.setRequestHeader(w,b)}),Y.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),s&&s!=="json"&&(v.responseType=a.responseType),l&&([d,m]=Ac(l,!0),v.addEventListener("progress",d)),u&&v.upload&&([f,h]=Ac(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(c=y=>{v&&(r(!y||y.type?new _s(null,e,v):y),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const x=eF(a.url);if(x&&wn.protocols.indexOf(x)===-1){r(new We("Unsupported protocol "+x+":",We.ERR_BAD_REQUEST,e));return}v.send(i||null)})},lF=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(l){if(!a){a=!0,s();const c=l instanceof Error?l:this.reason;r.abort(c instanceof We?c:new _s(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new We(`timeout ${t} of ms exceeded`,We.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>Y.asap(s),u}},cF=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},fF=async function*(e,t){for await(const n of dF(e))yield*cF(n,t)},dF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Mb=(e,t,n,r)=>{const a=fF(e,t);let i=0,o,s=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await a.next();if(l){s(),u.close();return}let f=c.byteLength;if(n){let d=i+=f;n(d)}u.enqueue(new Uint8Array(c))}catch(l){throw s(l),l}},cancel(u){return s(u),a.return()}},{highWaterMark:2})},Gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xk=Gf&&typeof ReadableStream=="function",hF=Gf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pF=xk&&wk(()=>{let e=!1;const t=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Lb=64*1024,_p=xk&&wk(()=>Y.isReadableStream(new Response("").body)),Tc={stream:_p&&(e=>e.body)};Gf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tc[t]&&(Tc[t]=Y.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new We(`Response type '${t}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const mF=async e=>{if(e==null)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e))return(await new Request(wn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(e)||Y.isArrayBuffer(e))return e.byteLength;if(Y.isURLSearchParams(e)&&(e=e+""),Y.isString(e))return(await hF(e)).byteLength},vF=async(e,t)=>{const n=Y.toFiniteNumber(e.getContentLength());return n??mF(t)},gF=Gf&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:s,onUploadProgress:u,responseType:l,headers:c,withCredentials:f="same-origin",fetchOptions:d}=bk(e);l=l?(l+"").toLowerCase():"text";let h=lF([a,i&&i.toAbortSignal()],o),m;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(u&&pF&&n!=="get"&&n!=="head"&&(v=await vF(c,r))!==0){let w=new Request(t,{method:"POST",body:r,duplex:"half"}),_;if(Y.isFormData(r)&&(_=w.headers.get("content-type"))&&c.setContentType(_),w.body){const[S,C]=Db(v,Ac(Pb(u)));r=Mb(w.body,Lb,S,C)}}Y.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;m=new Request(t,{...d,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let x=await fetch(m);const y=_p&&(l==="stream"||l==="response");if(_p&&(s||y&&p)){const w={};["status","statusText","headers"].forEach(k=>{w[k]=x[k]});const _=Y.toFiniteNumber(x.headers.get("content-length")),[S,C]=s&&Db(_,Ac(Pb(s),!0))||[];x=new Response(Mb(x.body,Lb,S,()=>{C&&C(),p&&p()}),w)}l=l||"text";let b=await Tc[Y.findKey(Tc,l)||"text"](x,e);return!y&&p&&p(),await new Promise((w,_)=>{gk(w,_,{data:b,headers:Kn.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:m})})}catch(g){throw p&&p(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,e,m),{cause:g.cause||g}):We.from(g,g&&g.code,e,m)}}),kp={http:O3,xhr:uF,fetch:gF};Y.forEach(kp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bb=e=>`- ${e}`,yF=e=>Y.isFunction(e)||e===null||e===!1,_k={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!yF(n)&&(r=kp[(o=String(n)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Bb).join(`
`):" "+Bb(i[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:kp};function nh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _s(null,e)}function Vb(e){return nh(e),e.headers=Kn.from(e.headers),e.data=th.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_k.getAdapter(e.adapter||qu.adapter)(e).then(function(r){return nh(e),r.data=th.call(e,e.transformResponse,r),r.headers=Kn.from(r.headers),r},function(r){return vk(r)||(nh(e),r&&r.response&&(r.response.data=th.call(e,e.transformResponse,r.response),r.response.headers=Kn.from(r.response.headers))),Promise.reject(r)})}const kk="1.8.1",Kf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ub={};Kf.transitional=function(t,n,r){function a(i,o){return"[Axios v"+kk+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new We(a(o," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!Ub[o]&&(Ub[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};Kf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function bF(e,t,n){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],u=s===void 0||o(s,i,e);if(u!==!0)throw new We("option "+i+" must be "+u,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+i,We.ERR_BAD_OPTION)}}const Jl={assertOptions:bF,validators:Kf},Hr=Jl.validators;let qi=class{constructor(t){this.defaults=t,this.interceptors={request:new Nb,response:new Nb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zi(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Jl.assertOptions(r,{silentJSONParsing:Hr.transitional(Hr.boolean),forcedJSONParsing:Hr.transitional(Hr.boolean),clarifyTimeoutError:Hr.transitional(Hr.boolean)},!1),a!=null&&(Y.isFunction(a)?n.paramsSerializer={serialize:a}:Jl.assertOptions(a,{encode:Hr.function,serialize:Hr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Jl.assertOptions(n,{baseUrl:Hr.spelling("baseURL"),withXsrfToken:Hr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Y.merge(i.common,i[n.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Kn.concat(o,i);const s=[];let u=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(u=u&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});const l=[];this.interceptors.response.forEach(function(p){l.push(p.fulfilled,p.rejected)});let c,f=0,d;if(!u){const m=[Vb.bind(this),void 0];for(m.unshift.apply(m,s),m.push.apply(m,l),d=m.length,c=Promise.resolve(n);f<d;)c=c.then(m[f++],m[f++]);return c}d=s.length;let h=n;for(f=0;f<d;){const m=s[f++],p=s[f++];try{h=m(h)}catch(v){p.call(this,v);break}}try{c=Vb.call(this,h)}catch(m){return Promise.reject(m)}for(f=0,d=l.length;f<d;)c=c.then(l[f++],l[f++]);return c}getUri(t){t=Zi(this.defaults,t);const n=yk(t.baseURL,t.url,t.allowAbsoluteUrls);return hk(n,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){qi.prototype[t]=function(n,r){return this.request(Zi(r||{},{method:t,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(Zi(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}qi.prototype[t]=n(),qi.prototype[t+"Form"]=n(!0)});let xF=class Ek{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new _s(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ek(function(a){t=a}),cancel:t}}};function wF(e){return function(n){return e.apply(null,n)}}function _F(e){return Y.isObject(e)&&e.isAxiosError===!0}const Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(([e,t])=>{Ep[t]=e});function Ck(e){const t=new qi(e),n=nk(qi.prototype.request,t);return Y.extend(n,qi.prototype,t,{allOwnKeys:!0}),Y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Ck(Zi(e,a))},n}const ht=Ck(qu);ht.Axios=qi;ht.CanceledError=_s;ht.CancelToken=xF;ht.isCancel=vk;ht.VERSION=kk;ht.toFormData=zf;ht.AxiosError=We;ht.Cancel=ht.CanceledError;ht.all=function(t){return Promise.all(t)};ht.spread=wF;ht.isAxiosError=_F;ht.mergeConfig=Zi;ht.AxiosHeaders=Kn;ht.formToJSON=e=>mk(Y.isHTMLForm(e)?new FormData(e):e);ht.getAdapter=_k.getAdapter;ht.HttpStatusCode=Ep;ht.default=ht;const{Axios:A9,AxiosError:T9,CanceledError:I9,isCancel:R9,CancelToken:N9,VERSION:O9,all:D9,Cancel:P9,isAxiosError:F9,spread:M9,toFormData:L9,AxiosHeaders:B9,HttpStatusCode:V9,formToJSON:U9,getAdapter:W9,mergeConfig:j9}=ht;var kF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var rh={exports:{}};const EF={},CF=Object.freeze(Object.defineProperty({__proto__:null,default:EF},Symbol.toStringTag,{value:"Module"})),Wb=qf(CF);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var jb;function SF(){return jb||(jb=1,function(e){(function(){var t="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",i=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;i?r=kF:a&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,s=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[-2147483648,8388608,32768,128],c=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=["hex","array","digest","arrayBuffer"],h=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_){return Object.prototype.toString.call(_)==="[object Array]"}),s&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_){return typeof _=="object"&&_.buffer&&_.buffer.constructor===ArrayBuffer});var m=function(_,S){return function(C){return new y(S,!0).update(C)[_]()}},p=function(_){var S=m("hex",_);i&&(S=v(S,_)),S.create=function(){return new y(_)},S.update=function(E){return S.create().update(E)};for(var C=0;C<d.length;++C){var k=d[C];S[k]=m(k,_)}return S},v=function(_,S){var C=Wb,k=Wb.Buffer,E=S?"sha224":"sha256",T;k.from&&!r.JS_SHA256_NO_BUFFER_FROM?T=k.from:T=function(I){return new k(I)};var A=function(I){if(typeof I=="string")return C.createHash(E).update(I,"utf8").digest("hex");if(I==null)throw new Error(t);return I.constructor===ArrayBuffer&&(I=new Uint8Array(I)),Array.isArray(I)||ArrayBuffer.isView(I)||I.constructor===k?C.createHash(E).update(T(I)).digest("hex"):_(I)};return A},g=function(_,S){return function(C,k){return new b(C,S,!0).update(k)[_]()}},x=function(_){var S=g("hex",_);S.create=function(E){return new b(E,_)},S.update=function(E,T){return S.create(E).update(T)};for(var C=0;C<d.length;++C){var k=d[C];S[k]=g(k,_)}return S};function y(_,S){S?(h[0]=h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0,this.blocks=h):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=_}y.prototype.update=function(_){if(!this.finalized){var S,C=typeof _;if(C!=="string"){if(C==="object"){if(_===null)throw new Error(t);if(s&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!s||!ArrayBuffer.isView(_)))throw new Error(t)}else throw new Error(t);S=!0}for(var k,E=0,T,A=_.length,I=this.blocks;E<A;){if(this.hashed&&(this.hashed=!1,I[0]=this.block,this.block=I[16]=I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[8]=I[9]=I[10]=I[11]=I[12]=I[13]=I[14]=I[15]=0),S)for(T=this.start;E<A&&T<64;++E)I[T>>>2]|=_[E]<<c[T++&3];else for(T=this.start;E<A&&T<64;++E)k=_.charCodeAt(E),k<128?I[T>>>2]|=k<<c[T++&3]:k<2048?(I[T>>>2]|=(192|k>>>6)<<c[T++&3],I[T>>>2]|=(128|k&63)<<c[T++&3]):k<55296||k>=57344?(I[T>>>2]|=(224|k>>>12)<<c[T++&3],I[T>>>2]|=(128|k>>>6&63)<<c[T++&3],I[T>>>2]|=(128|k&63)<<c[T++&3]):(k=65536+((k&1023)<<10|_.charCodeAt(++E)&1023),I[T>>>2]|=(240|k>>>18)<<c[T++&3],I[T>>>2]|=(128|k>>>12&63)<<c[T++&3],I[T>>>2]|=(128|k>>>6&63)<<c[T++&3],I[T>>>2]|=(128|k&63)<<c[T++&3]);this.lastByteIndex=T,this.bytes+=T-this.start,T>=64?(this.block=I[16],this.start=T-64,this.hash(),this.hashed=!0):this.start=T}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _=this.blocks,S=this.lastByteIndex;_[16]=this.block,_[S>>>2]|=l[S&3],this.block=_[16],S>=56&&(this.hashed||this.hash(),_[0]=this.block,_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0),_[14]=this.hBytes<<3|this.bytes>>>29,_[15]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var _=this.h0,S=this.h1,C=this.h2,k=this.h3,E=this.h4,T=this.h5,A=this.h6,I=this.h7,D=this.blocks,M,L,W,V,H,X,ae,se,me,Ne,Ie;for(M=16;M<64;++M)H=D[M-15],L=(H>>>7|H<<25)^(H>>>18|H<<14)^H>>>3,H=D[M-2],W=(H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10,D[M]=D[M-16]+L+D[M-7]+W<<0;for(Ie=S&C,M=0;M<64;M+=4)this.first?(this.is224?(se=300032,H=D[0]-1413257819,I=H-150054599<<0,k=H+24177077<<0):(se=704751109,H=D[0]-210244248,I=H-1521486534<<0,k=H+143694565<<0),this.first=!1):(L=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),W=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),se=_&S,V=se^_&C^Ie,ae=E&T^~E&A,H=I+W+ae+f[M]+D[M],X=L+V,I=k+H<<0,k=H+X<<0),L=(k>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),W=(I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7),me=k&_,V=me^k&S^se,ae=I&E^~I&T,H=A+W+ae+f[M+1]+D[M+1],X=L+V,A=C+H<<0,C=H+X<<0,L=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),W=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),Ne=C&k,V=Ne^C&_^me,ae=A&I^~A&E,H=T+W+ae+f[M+2]+D[M+2],X=L+V,T=S+H<<0,S=H+X<<0,L=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),W=(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7),Ie=S&C,V=Ie^S&k^Ne,ae=T&A^~T&I,H=E+W+ae+f[M+3]+D[M+3],X=L+V,E=_+H<<0,_=H+X<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+_<<0,this.h1=this.h1+S<<0,this.h2=this.h2+C<<0,this.h3=this.h3+k<<0,this.h4=this.h4+E<<0,this.h5=this.h5+T<<0,this.h6=this.h6+A<<0,this.h7=this.h7+I<<0},y.prototype.hex=function(){this.finalize();var _=this.h0,S=this.h1,C=this.h2,k=this.h3,E=this.h4,T=this.h5,A=this.h6,I=this.h7,D=u[_>>>28&15]+u[_>>>24&15]+u[_>>>20&15]+u[_>>>16&15]+u[_>>>12&15]+u[_>>>8&15]+u[_>>>4&15]+u[_&15]+u[S>>>28&15]+u[S>>>24&15]+u[S>>>20&15]+u[S>>>16&15]+u[S>>>12&15]+u[S>>>8&15]+u[S>>>4&15]+u[S&15]+u[C>>>28&15]+u[C>>>24&15]+u[C>>>20&15]+u[C>>>16&15]+u[C>>>12&15]+u[C>>>8&15]+u[C>>>4&15]+u[C&15]+u[k>>>28&15]+u[k>>>24&15]+u[k>>>20&15]+u[k>>>16&15]+u[k>>>12&15]+u[k>>>8&15]+u[k>>>4&15]+u[k&15]+u[E>>>28&15]+u[E>>>24&15]+u[E>>>20&15]+u[E>>>16&15]+u[E>>>12&15]+u[E>>>8&15]+u[E>>>4&15]+u[E&15]+u[T>>>28&15]+u[T>>>24&15]+u[T>>>20&15]+u[T>>>16&15]+u[T>>>12&15]+u[T>>>8&15]+u[T>>>4&15]+u[T&15]+u[A>>>28&15]+u[A>>>24&15]+u[A>>>20&15]+u[A>>>16&15]+u[A>>>12&15]+u[A>>>8&15]+u[A>>>4&15]+u[A&15];return this.is224||(D+=u[I>>>28&15]+u[I>>>24&15]+u[I>>>20&15]+u[I>>>16&15]+u[I>>>12&15]+u[I>>>8&15]+u[I>>>4&15]+u[I&15]),D},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var _=this.h0,S=this.h1,C=this.h2,k=this.h3,E=this.h4,T=this.h5,A=this.h6,I=this.h7,D=[_>>>24&255,_>>>16&255,_>>>8&255,_&255,S>>>24&255,S>>>16&255,S>>>8&255,S&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255,k>>>24&255,k>>>16&255,k>>>8&255,k&255,E>>>24&255,E>>>16&255,E>>>8&255,E&255,T>>>24&255,T>>>16&255,T>>>8&255,T&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255];return this.is224||D.push(I>>>24&255,I>>>16&255,I>>>8&255,I&255),D},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var _=new ArrayBuffer(this.is224?28:32),S=new DataView(_);return S.setUint32(0,this.h0),S.setUint32(4,this.h1),S.setUint32(8,this.h2),S.setUint32(12,this.h3),S.setUint32(16,this.h4),S.setUint32(20,this.h5),S.setUint32(24,this.h6),this.is224||S.setUint32(28,this.h7),_};function b(_,S,C){var k,E=typeof _;if(E==="string"){var T=[],A=_.length,I=0,D;for(k=0;k<A;++k)D=_.charCodeAt(k),D<128?T[I++]=D:D<2048?(T[I++]=192|D>>>6,T[I++]=128|D&63):D<55296||D>=57344?(T[I++]=224|D>>>12,T[I++]=128|D>>>6&63,T[I++]=128|D&63):(D=65536+((D&1023)<<10|_.charCodeAt(++k)&1023),T[I++]=240|D>>>18,T[I++]=128|D>>>12&63,T[I++]=128|D>>>6&63,T[I++]=128|D&63);_=T}else if(E==="object"){if(_===null)throw new Error(t);if(s&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!s||!ArrayBuffer.isView(_)))throw new Error(t)}else throw new Error(t);_.length>64&&(_=new y(S,!0).update(_).array());var M=[],L=[];for(k=0;k<64;++k){var W=_[k]||0;M[k]=92^W,L[k]=54^W}y.call(this,S,C),this.update(L),this.oKeyPad=M,this.inner=!0,this.sharedMemory=C}b.prototype=new y,b.prototype.finalize=function(){if(y.prototype.finalize.call(this),this.inner){this.inner=!1;var _=this.array();y.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(_),y.prototype.finalize.call(this)}};var w=p();w.sha256=w,w.sha224=p(!0),w.sha256.hmac=x(),w.sha224.hmac=x(!0),o?e.exports=w:(r.sha256=w.sha256,r.sha224=w.sha224)})()}(rh)),rh.exports}var AF=SF();function Sk(e,t){const{self:n=!1}=t.modifiers??{},r=t.value,a=typeof r=="object"&&r.options||{passive:!0},i=typeof r=="function"||"handleEvent"in r?r:r.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",i,a),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:i,options:a,target:n?void 0:o})}function Ak(e,t){var i;if(!((i=e._onScroll)!=null&&i[t.instance.$.uid]))return;const{handler:n,options:r,target:a=e}=e._onScroll[t.instance.$.uid];a.removeEventListener("scroll",n,r),delete e._onScroll[t.instance.$.uid]}function TF(e,t){t.value!==t.oldValue&&(Ak(e,t),Sk(e,t))}const IF={mounted:Sk,unmounted:Ak,updated:TF},RF={key:0,class:"refresh-indicator"},NF={class:"scrolling"},OF="https://krawd.id/api/v1/face-rekognition/people/events/hd",DF=Xt({__name:"MyPhotos",setup(e){const t=mr(),n=fe([]),r=fe(!1),a=fe(1),i=fe(0),o=fe(!1),s=fe(!1),u=fe(null),l=async()=>{if(r.value||i.value&&a.value>i.value)return;r.value=!0;const h={"X-Access-Token":`Bearer ${localStorage.getItem("access_token")}`};try{const m=await ht.get(OF,{params:{page:a.value,page_size:10},headers:h}),{data:p}=m.data;a.value===1?n.value=p.people_events:n.value.push(...p.people_events),i.value=Math.ceil(p.total/p.page_size),a.value++}catch(m){console.error("Error fetching images:",m)}finally{r.value=!1,o.value=!1}},c=d=>{u.value=d,s.value=!0},f=()=>{t.back()};return St(()=>{l()}),(d,h)=>(ge(),Te(Ye,null,[j(Xs,{class:"pa-0",fluid:""},{default:Le(()=>[j(pp,{color:"primary",dark:""},{default:Le(()=>[j(oi,{icon:"",onClick:f},{default:Le(()=>[j(Fr,null,{default:Le(()=>h[2]||(h[2]=[_t("mdi-arrow-left")])),_:1})]),_:1}),j(Mm,null,{default:Le(()=>h[3]||(h[3]=[_t("My Photos")])),_:1})]),_:1}),o.value?(ge(),Te("div",RF," Refreshing... ")):en("",!0),j(Xs,{class:"mt-4"},{default:Le(()=>[j(tk,null,{default:Le(()=>[(ge(!0),Te(Ye,null,Dr(n.value,(m,p)=>(ge(),$n($l,{key:p,cols:"6",sm:"4",md:"3"},{default:Le(()=>[j(pu,{src:m.pe_watermarked_image_url,"aspect-ratio":"1",class:"ma-2",onClick:v=>c(m.pe_watermarked_image_url)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),r.value?(ge(),$n(Xs,{key:1,class:"d-flex justify-center align-center"},{default:Le(()=>[j(b_,{indeterminate:"",color:"primary"})]),_:1})):en("",!0),j(SP,{modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=m=>s.value=m),fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:Le(()=>[j(jm,{class:"d-flex flex-column"},{default:Le(()=>[j(pp,{color:"primary",dark:"",flat:""},{default:Le(()=>[j(oi,{icon:"",onClick:h[0]||(h[0]=m=>s.value=!1)},{default:Le(()=>[j(Fr,null,{default:Le(()=>h[4]||(h[4]=[_t("mdi-close")])),_:1})]),_:1})]),_:1}),j(pu,{src:u.value,class:"fullscreen-image","aspect-ratio":"1"},null,8,["src"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),zt(F("div",NF,null,512),[[IF,l]])],64))}}),PF=Vt(DF,[["__scopeId","data-v-80164e89"]]),FF={key:0},MF=["src"],LF={class:"d-flex flex-column mt-4"},BF={key:0},VF={key:1},UF=Xt({__name:"CapturePhotoView",setup(e){const t=mr(),n=fe(null),r=fe(null),a=fe(!1);function i(){r.value&&r.value.click()}function o(l){var d;const c=l.target,f=(d=c==null?void 0:c.files)==null?void 0:d[0];if(f){const h=new FileReader;h.onload=()=>{n.value=h.result},h.readAsDataURL(f)}}async function s(){if(!n.value){console.error("No image selected"),alert("No image selected");return}a.value=!0;try{const l=localStorage.getItem("ticketNumber"),c=`${l}_${Date.now()}.jpg`,f=`{"content_type": "image/jpeg", "file_name": "images/${c}"}`,m={Authorization:`Bearer ${AF.sha256(f+"secret")}`},p=new FormData;p.append("content_type","image/jpeg"),p.append("file_name",`images/${c}`);const g=await(await fetch(n.value)).blob();p.append("file",g,c);const x=await fetch("https://krawd.id/api/v1/face-rekognition/upload-image",{method:"POST",headers:m,body:p});if(!x.ok){const C=await x.json();throw new Error(`Failed to upload image: ${C.message||x.statusText}`)}const b=(await x.json()).data.url_file,w={"X-Access-Token":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2Vyc19pZCI6MSwidXNlcnNfdXNlcm5hbWUiOiJwaG90b2RlayIsInVzZXJzX2Z1bGxuYW1lIjoiYWRtaW4iLCJleHAiOjE3NDA3MTI5MTN9.OMQT-e-Xyik2jUifDMtGh34q-aGLC6xF94RXOcDbJwk","Content-Type":"application/json"},_=JSON.stringify({image_url_hq:b,image_url_compressed:b,image_url_watermarked:b,event_name:"concert-2024",event_code:"concert-2024",index_type:"face",people_external_ref:l}),S=await fetch("https://krawd.id/api/v1/face-rekognition/index",{method:"POST",headers:w,body:_});if(!S.ok){const C=await S.json();throw new Error(`Failed to index image: ${C.message||S.statusText}`)}console.log("File successfully uploaded and indexed"),alert("File successfully uploaded and indexed"),t.push("/")}catch(l){console.error("Error uploading or indexing photo:",l),alert(`Error: ${l.message}`)}finally{a.value=!1}}function u(){t.back()}return(l,c)=>(ge(),$n(Xs,{class:"fill-height",justify:"center"},{default:Le(()=>[j(pp,{dense:"",flat:""},{default:Le(()=>[j(oi,{icon:"",onClick:u},{default:Le(()=>[j(Fr,null,{default:Le(()=>c[0]||(c[0]=[_t("mdi-arrow-left")])),_:1})]),_:1}),j(Mm,null,{default:Le(()=>c[1]||(c[1]=[_t("Capture Photo")])),_:1})]),_:1}),j(jm,{class:"mx-auto my-5 pa-4","max-width":"400"},{default:Le(()=>[n.value?(ge(),Te("div",FF,[c[2]||(c[2]=F("h3",{class:"text-h6"},"Photo Preview",-1)),j(hp,null,{default:Le(()=>[F("img",{src:n.value,alt:"Captured Photo",width:"100%"},null,8,MF)]),_:1})])):en("",!0),F("div",LF,[j(oi,{depressed:"",color:"primary",class:"mb-2",onClick:i},{default:Le(()=>[j(Fr,{left:""},{default:Le(()=>c[3]||(c[3]=[_t("mdi-camera")])),_:1}),c[4]||(c[4]=_t(" Capture Photo "))]),_:1}),F("input",{ref_key:"captureRef",ref:r,type:"file",accept:"image/*",capture:"user",style:{display:"none"},onChange:o},null,544),j(oi,{depressed:"",color:"success",disabled:!n.value||a.value,class:"mb-2",onClick:s},{default:Le(()=>[j(Fr,{left:""},{default:Le(()=>c[5]||(c[5]=[_t("mdi-cloud-upload")])),_:1}),a.value?(ge(),Te("span",BF,"Uploading...")):(ge(),Te("span",VF,"Upload"))]),_:1},8,["disabled"])])]),_:1})]),_:1}))}}),WF=Vt(UF,[["__scopeId","data-v-9528b841"]]),as="/assets/logo-dark-nbVWLku3.svg",Cp="/assets/banner_feast-DbQMAGFA.png",jF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5CAYAAAAd+o5JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA0PSURBVHgB7Z1/bBPnGcef98xPQZAZBBfSjQQSERGUGAkmYJNIUtGkkwZkm5AmYAV10miqjVTVmNaWAau2AltVmNTCH6OFDqSuUkWCqjWhKjHSNKoWCSctkGwJuNpgSeGP8BuS+d69z2tfap/v7Dv7zveefR8Jctjni/HXz/M+z/M+73sECoRgzfeCAHJQBuonFOrYQ372pzz+E2jsOBkCI+zcEfYzArGTIhTIlxKVwyBNiIQv/i0MBQABFxKsbi4HH9QzQeuYSPVMwCDYBPuAwuyvsAzkrG8ihMLhzgi4DNeIHFzSXC9Tuo6Jul7TKvNHhBAIEUKOhb/oDIELEFpkRVh2uIW5Uj+IhysEF07kYHC9Xx69vx0IaRNUWD0ilJA9Irp0YUQOBpvL5TG6HcS1WsMw6z5KJpI9oojtuMgoLh2juyhl4hYYoojtmMjolunYg9cLUVw1TovtAweoXfzkLir/713mlldAcRCkUdgSKF04ZfjG4FnIM3m1ZB4ty/RtcDYFcpqINIk05NOq82LJ6JrnzJr/KnPNhwHcHVRZgJ9ZdRuzasiXVdtuyTxqHqUnwcaqlIvJi1Xbasm1S5q2s2/tu1Dc7jkdfj5Wz658NHxz8BOwCdtErq1pep0FVrvZ4RTwSMcU5k+b7XTflrvreGp0ko2/9eBhCl4inTi1JRxuHwELsVTk+PjbDZ57zgXLx2nLRPYEthRLhbZEZE9gW7BM6JxF9gS2FUuEzklkT+C8kLPQWYscm/d9cAE8gfMBE3rq0myjbgmyBNMk8ATOF+XxzzsrsiqG4CwScwJbwCOflAfmVPpZwaQLTGJaZCxVAiV7wcMJVrAS6C2zJVBTY3K8ReeC29tzXM4IC8SWmgnETI3JPJL2BHYaP2Wzehj4Gn2BYZFj47AXaIkALiaQxx7sMnq+IXcdz4evgodQSBLLnw30exuy5HjBw0Mw4q1UGckYXcfTpfXgISL+QGkVGb4xEEp3Ulp37UXTroBF21Mr0lXDJqR7NTa9F4vAi6oXQnX1Apg7LzD+2D/7B+Hata+gv28QBIb3r7OfW/VO0LXkYgi2SmZMg02bW2DjphZ+rMf1a8Nw4vhJOPPxOX4sIix3rtDLnXXH5MCshfjtKNgOy2ef2wT7/vAifOe7y2Dy5Elpzy2ZMZ2f19i4Cu7cuccs+woIhwxY8uzQekrTkgvZiueVBeDAn37D3XO2nPhLO+zfexhEQ8+aNS25kK34vfffhIoF39R8Dq00cvU/ELnyb+6W8QuhRW1dNSz/di2cav8IRIJGgUXag53qx1MsuZCteNnyWjhydH/K4+c/7YVDbx6H85/1pjzX0LiSufbNzPIXpDwnoEVrRtopxZDoWOG20qrHUrTcZ7bsgGe27tAUGOk+cw42/LBVU8yNm9fDcvbFEQi/PPqwTf1girt+rHQhTk4XZNo0OjrK06GKBd/iLrl128uGg6jPe/vg+vVhaHxiVdLj6NIFc9tB5rL3JT6Q5K7jqw69EmYafvmrbbDpJ8kFwJ8yb/CZjidwAnVNO8ldU0qfhiIF82RMq/5+7n3oudjJArQ3YO36NSnnHWZj953b95Ie+77GeU7CDDXpW5jkrgOllQegCJeWosBH3t4PzU/Vj+fMs2d/g7vmMuaOcVxWQJc/iZ2D0bUCnvPWn98DgahOdNnjloyuGopwvlgRWC9vRmtWB1fqIK2kZLpuuuUQ/rienHGRi9FVZxJYoeGJlUn/xgAs9VrTQSQSXXaCyMW1CtGowMj0kmQB1WMyMmP6NBCMdcoBFxkLIFBErtqMwIjaPc8rm5Nyzu2790AwyvkepBCfasQCiCi7tvEot3UTc5GrYB6b9sMPuIPloVblomYFRtesFlnrtf2XxZuOjPq4dz7KRZaArqbgPBi8oACJQQyWIvEPinPinXbIBbMCY0Ws7ee/TZlebGxMHqP7+wWclWIQSvn8A3fXVJDJCLRgvSgVn0s355uJbATGkqe6YQDfX4Oq6tVx8jSICCGwGn/GAi8qhsgNjat0n8M0Ze267IoOVgmsXEdNYh4tEjSuqxSsWSOIwCszWmpJifk0xSqBkR2spKn2NBgviNotguCO/lJUIuUgAOrCvxZmxz4rBUZx1WVODMqwzCkyUZCDEolKQljyMgNTdmYa6qwUmD/PcmN1fqwVlIkGkamfBdbO58cocKayIFqx0Q/UaoFj59yFnS/9kVsvvo+2X+wRvYuTQwipm0AkOp86nD+tMzCLc/7THjCCHQIrYIAlapClBwU6M+udBqzEiKvu/jjzh2unwG6FpVHzJeqwuzbiqpFMk/KewNowfdmYTJydP06XGytgo106PIHTIzm9DKZRNY2nxZkz/9B9zhM4I+UTwEGwzdWIqz5//nPNxy3Ng9lkCHZ7YBTd13dF+NTIDI6KvHbdkxnPwZRFa4bHylLls62beXttIljkOPSG2IUOozgqcmKflB59fbkLjGDftF4tWus629iEyG1m1bnOfImAYykUummtVQlq1EFXNgIj/1W5XyPXwZmvQgBFjoADGImqkbKyx8aPsxWY/76E2rjR6wjYoJcNI465ayNRNYJjZUnJNB4Q4Rcj2w8dr4NtO32Xr/DfbXwsvwsuZ4TU1jRdyPd8Mgr14eljIDpYL9/wg1ZwM6x2HZIIzb+7XibWIjFd9r8q3hrkbGBlTXIL8syd2+K7wJ0vvqa70tFVMCOWmMxhyDM4kyPaAu5EUOBTHeK+PzOwCcYvJQrE0tvTGGXnS68JKXQhCYxIPhKWfBDNuyUriCZ0oQnMkUmE99TXLm5ytG3gld+9oLlMNJ9gRQy3h1CDOXX1oli61dc/qLlERmR6L3WRWJ5MIOxkWy5aNOKU0JgqaQmM65XVe3y5qaZNUFdQatcU8B6Bjjb0OSl0icZitVd+/4Jmn7eratqUcJFjKygIcWxcTsSpMRqLM2i1CFqtnsAKbqlpM0vmN/jkYzKufpMlcbZ1EmGMzsSGHz0n5CK3RCSZVIT7OiPckvEAHJqo0ELU9MpNMOuNxHVNmmrsAIEQWWi9RgaxICHlaFxkSSLCRRKiCu2G6JpIMD4DNL77z9BXA5HAnErczU2oO5djCbSMNxhkv+GplRxmAmulWyKBrrrnYtfzyr+TO0MoCDn/J4pFo8CHBF/gFuNrV40kiSyiy1ZwWmj3CJzsqpGkzdpEddkKTrluVwmsctWIT31SoLRqKvtRD4KSb6HdJDAiEfL80I2BpOJWSremNOnhAfZ1cGT60Sj5ct1uE5gThZD6oRRLHhqKPAyUVs5lhytAYOy2aDcKTIAc7bncmRI8+7ROnjurqo8SaAPBsUtoV1ow8DJmy9DNgRQvrCkynhiYXVXBvhrC34fCaqHdKrCeFSM+vRfNnV0ZdoM1I1YJ7VaBET0rRnRFdpM1I7kKjZ0hbx0Ras9qw6SzYsSX7sVzH388ROUJ20DQvFlNNkLjasfWn70MXR+eBTfC5oxHiEx+rGfFSFqRY5G22HmzGjNC4ypHvJOMkHdsMwzZx6w4baXS0Oa4dYubrlKXbZWcrvEArff4OyeF32gtE7y6damrItN5hha8EYlspS67y4xWz5giLt5c021dl1owN91g6DwwSO3iJrwJyXZwGRs3t8CiRQt4R+apjtMFIW4Msqf3UuduQ2eCQYLBej8dm9xNBdlRt5gx6qYVDO80EA6HRkiUtIhe1y504tG0ITet4DNzMobprEjyiBVJmsHDGSj8uqevq9PMS0yJjAzdHPyETWDMBMEnMAoTNg5f7toLJsn6/iJ1NU3dxXabISfBHQN6LnaactMKWe/+QyY+aiEC9WoXMvg5k3tTWiBLshaZB2IsAPCEthcuMPucw5H2rAPenG8HhUtsqES73VYRcwPjAsdXQuRwndzxhLYeqwSOX8saPKGtw0qB49ezDk/o3LFaYMTSvTXxjZFJj5ayqkwIPEyDaRK5P3WplQLz64JN1C5u3s3KM7vAwygHey912dJuZbriZZThGwMhVgK9RSVeGXNFZ4kTYC0aS5WskrUbbMI2S1bwxml92IcfZuNvi9XuWY1tlqyAkxrDNwYPBkqr8AtVDx4KB6X7U7eGBz4YApux3ZIT8aw6Hj1LZGv4i84Q5Im8iqzAgzJCtzt9J5t8gmMvpeSg0W4OK7HdXWvBg7JZVX+lQGa6pa87F7AvmqVGT/X86wNT88DW/X6H4dtLEUDLfhoKDC6uDHvsDqwyvw9BKBSxuVuW4ZhEyQGnxVUQRmQFFJsNIvWU0l1uCtCUMVe6P+VALtOCdiCcyIkElzTXy1HYQghdLaLg41brI+35jJbNIrTIiYgiOBtnI8zLdIgubCKuETkRxaXLMtQTidbZ2QuO2wkzaz0rSSSMWzWIMs6awZUiaxGsWRMEiZTLUSnI/lPz2f+snD+B94cm1E81cnK0ytgBxfoxOyYjzFP0AL9lQzQcvviRELsH58r/Ad+eGYoiA6suAAAAAElFTkSuQmCC",HF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5CAYAAAAd+o5JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAuTSURBVHgB7Z1dbBTXFcfPHRtqFJwu5cMFVLE0IBKM7EVKKtqXGCpitw8Bq1JfYhpQHkqpGlxVpaUfYBNVJUmjQKsQ8lAFApHSqhImilKTNNi8JKhBypgUMCpONg8gHHhYMN/uzu05d3fMfs16Znc+7l3fn2TvyB7vrvc/59xzzzn3DoMaIdH8/QSAlbCAxxiHVvxRDL/i2UfgmeN8GKTw3BQ+JiFzUpID+8LglglGfdI8864JNQADBUk83BGHOmhDQVtRpDYUMAEBgR+Qid9MC9iJumkwaJr9SVAMZUROrOhoszhfh6KuL2mV4ZFkDAYZYwfN//QPggJILbItLB5uRFcaA/lQQnDpRE4k1sese7e2AmPdkgrrRJIz1iujS5dG5ESiI26N860gr9W6Bq37AJvGemURO3KRSVw+zndyjuLWGLKIHZnI5Jb5+O2Xa1HcQqIWuw4ioGX5Ezu59b+30C2vgqlBgqdhY9PchxpGr4ycgJAJ1ZJFtGzx1yHaKVDUJI3pbHWYVh2KJZNrnjd70R/RNe8HUDuo8oEYWnU3WjWEZdWBW7KImu/xIxBgVkphQrHqQC25ZUX7Vrxq34Kp7Z7LERNj9Zwld0evjpyEgAhM5Jbm9pcxsOrBwwbQlKMB/WlHkO7bd3ednRodwfG3DTSeECnSaTM6TbMvBT7iq8jZ8XcAtHuuBt/Had9E1gL7iq9C+yKyFjgQfBO6apG1wIHii9BViawFDoWqha5Y5Ezd9/YnoAUOAxR6xspKo24DKoSmSaAFDot49vOuiIqSIVRFQiewETRhEm+atySGCZNj4BHPIlOqEjjbDZooWIUp0GteU6CexuRsi84nqrfnKE4KA7GVXgIxT2OyiKS1wFET41jVo8DX7R+4FjkzDutASwZoMYE1fnun2/NduevsfPhz0EiFYeD82UW/tytLziY8NJKRbaWalEmj6+x0aT1oZCTWNHcpG71yYbDcSWXdtY6mlQCj7RmLy2XD6sv9NTW9Rylw44MPQNeGTnhy/VpYsKAJguT88Ah+fQav7jsMly6OgkKI/nV83OR0gqMlRx1sLVjYBH99/QXxGCYkcPezu4ToKoFz58VOc2fHwEtYcUREJfDEax94HpY9/BCoRDm9Soos1idFuHzlJ1u6IhHYprFxpnJCk16kW6nflRQ5SismHn2sBaJGRaFxeO0u9fMikaO2YrLgKK04FwWFfrpUurNI5PS4bqXNRTGhY9a9O0XWXCQy49G6ahlRS2ixkD+PPJFp1SHoIkRJFBI6ltVxgjyROedPg8YRVYTGnHZeGrpAZD0eT4YiQucZ64TI2lW7RwGh81z2hMjaVXtDdqFzXXaOyNpVe0VyodfZB0LkbDosDhrPSCx0XOxBClmRdQKkOmQVOl2X0dXIfOOPg6YqSOg9f94hauCygIktsU+LEDnIrYSj4tS/T8PhQ0fg+AcfQVhQzr2rqxNkgTEQxpvpDOG1JfL+Vw6LDg+b1Wu+A3v+sgPC4NFvYQVtH0gBz+pqJJrX1pTAR/vezxOYGDj+ofh5GATdpuQV2tHfSBssDjXCpUujsL9AYJtTH5+GqUgarITB0kbNWHL3z3Y5NuE9JkEjQhQwi8fqcTyOq3QnCrLWw2/0wcAHH2IkOxM2b+mCNd/9thiHnZrvKCCijs9cxsZuogt/D8au3wS3rOtcK507ngzGWGs9M/giHKCV4ZmN2+5bKwr+82d7hdBObpqgpsBc6EL54Q+2eBKYoNd47g+/KLpgZIYDn1XxTgNRQNOiUu64nMCbf1rcFLjjNy95Ftjmhd2vgUrgNGqRwbk66czGr870dP5qdOPU+VnIxUuVN8+Pjd1Qqvke9Y0ZOB4rswRmwYJ5rpv86Lxtv9pc8ncLqxhXZWo0dIuh0jonL6nDcr3bu3BcrVQopwtHYuL1oBhUBKBA6plN2xzH1aey66ecsFdo0Nz5okvX+yBeWNQPrtrKCkI5kYlyQgs3/esfT/ocYlq1UJ0ouRqUiq5zsYXOdbu2hWryUdKSbUjov/9jH5w6NQTX0aLXYCFCplKfLJDISVC4K4REpSqTxpGU0pZcDlpQPnxuBBaiCxflv6kLiswgBQqlNd1QWE+mSJvSkVMRzF0nDcazdwGvESj1WVhPfhtryWHVk2UE05rsGtQIVHj4/e9eKvm7qVpPRi+dNFBmE2qEV19x3tRl2TL1khh+gCPxF/UcWIopNChTHfjwG0eEZTY2PgDbtm8WNd43Dx0RbrkUNH+mmnMuVHs+2vcvuIEFBzfMxJQqZbwKn0d2jDpm1tdB2rQUyons+O2f8jowT338qchFlysBPleQqyaBy6VFnaAL6ZeYu+76kUJ711kYeJln3lfGXZ8//1lRiy2V/qhxwAmqJxfuQfIiXhCV1pOpdl3p30aBeeZdM2PCDJQQeuyaO9dqQ9YbRD15bMzb+4gKltU1IzKH0G/cXAnLHvmm67QlneeUx65mdyGl6smc3ReZM6aEJYs1Ryicu3ryBkcxKt0njF6X6tmqgJYsjFekNevSMGgpEnu5qSdThuupDc7BEQn8z/cOiqb76x7GV+UKIKgrPQiRzeH+ZMvy9iQoUqiYrJ5cahwuRS0XNhgWnkhXOs6136OgELbQuZZlu1PVerCCgQ3aRxNVKMNgfZZVvAeUzNj1ZHK7xJPrntD15CzMgIP28YTIdC+Dlub2lGobmJPVUk+X5j7CVefcmyI/3OL31deozH1XTeSJTC4bNFUxdiP6bFiuqybyRBYmTk0EEUJVJJXShoVcvHgZoqTQVRPFs2PO9kLE0DYQqjIQ4vYVpWCMFSXyi0Q2pt/ZE7U1v3moTzQAqAZ1pbwddQdKNgGSS5HIpjmYijoAowKAWKKqkNAkcPfWXogSBuyAnQDJpeTNv+bPXjrMGXRDhFBzwMDxj3CM/hLmzPkafs0C2aD3+OnQsOgpe/H51+De3XGIEsNinZevXijywo57DLQ80nEAmN5vUxXIiofO9pe8N5RjWcLg0AMaZWAWOI4VjiIL386ZTo4ogNNYbFO2wGh85U531JG2pjxYM06Vs2KirMiZSDv6ebPGGY76lLNiwtXmTq3L2z/neqtk6aDs1tDZY4snO89VPwgz2CbQSAez2Go35016k2zi8pcXkk1zl9BEdRVoJIH1Dp3rd1VQciUyMX/hN06CVd+Bh18HTaSQmz599pjrIrrr9j0KwliadepoO1oy0bQ7N23j2pIJSpnNn7PkLqY8O0ATDRy2Dw0f6/fyJ55EJi5fHTmpx+eoYL2nzx3bDR6peH/c1ub2AX2bofDAOvHg0Jl+T27apuKWejbtbieD2tqlQFboc2Y3GyruVqxYZBGIYQCghQ4WITB+zmayr+KAt+rtzOkGU9zgAzoj5j8TAk+StnTxPNWjhfYfvwTOPpc/aKH9w0+Bs8/nH1ro6vFbYMLXBav0xtj0uysxKzMIGs/QNIndmrHST4HF80JAtCzv6MH0zE7QuGUv5qMDaZ70nPFyy+iVC4OYAr3GDZEZawBNSVhm28vtmMnqgYAIzJJt9DjtDH74Jo6/nX6750ICs2QbKmqMXhnZ2zR3KV1QbaCx2WvcmrHJvPBO4IunArfkXLRVZ6Nng20qXJQW8GuGjwjKGN+q2oL3aqCxl5ruTp/t74GQCdxdl0IEZbOX/o0Dm4WXWc3doLsQ6ovGqdH3hv77jqc6sH+vHzHkwi0GPbW4JEeIa0Fv0IHV5O9DEmpFbOGWLThocLYnanFtpBHZhsTGQaSNc75TpQDNHnONWw17qikLBoF0IueSWNHRZqVhI2P8cRkFn7DaOtYXZrTsFalFzkUWwXGcTaKXOSq7sLkoI3Iutku3LGhjBm/lPLgInbYTRms9YRjMpK0aZBlnvaCkyKVINK9NgMHiVtpI4D+1CP+zuPgF3R+a8RgvMScnq8wccMof4zFLoacYokeAtKnShu/l+D8lye3LoRqvdwAAAABJRU5ErkJggg==",zF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5CAYAAAAd+o5JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnjSURBVHgB7Z1fTFxZHcd/50BbiMtmmi6LLZpObcnW0sA0cU1jTJbVVNAHC4mPJgvxpYlRMCZVYwxgYlz/JC0PWl5ci9Zk9WWp2axgEzt9sokme6m2pRHc2QcbkD7Q0j/bsnPP/n537qUzw9yZe2fuv3N6PgnMzeXeAe53fn/O7/xjoAiZ7q9kAMyMCSLFBPTiqRR+pe1XEIXjUhis47Xr+JqDwkU5Aex9LkwDeHPOuP6OAQrAQEIyhwfS0AR9KGgvitSHAmYgJPABGfjNMIFdadoBWcOYy4FkSCNy5uhAnynESRR1sKJVRkeOMcgyxmaMf89lQQISLbIjLB4OoytNQfKQQvDEiZzJDKbMJw9HgbGxhArrRk4wNplEl54YkTOZgbS5KUYhuVbrGbTu82wHm0yK2LGLTOKKTTEuBIqrGEkROzaRyS2LzUdnVBS3nLjFboIY6DnypXFhfvgmuuXj8GyQEXkY7mg/2LK6tnwFIiZSS7ayZVP8FuJtAsVNju9kr0Zp1ZFYMrnmF/fs/ym65mkAuZOqAEihVY+hVUNUVh26JVtZ8xPxFoRYlZKYSKw6VEvuOdo/ip/aN+HZds/VSFmx+oVDj1fvLF+FkAhN5J7u/jOYWE3gYQtoqtGC/nQgTPcduLu2m0ZvYfztA40vrBLpjtYhw5hdhwAJVGQ7/l4G7Z4bIfA4HZjIWuBACVToQETWAodCYEI3LLIWOFQCEbohkbXAkdCw0HWLXOj3ffQuaIGjAIVuPVZv1s2hTqiZBFrgqEjbz7su6iqGUC8SOoFh0ERJuuPFQyksmMyDT3yLTKVKEOx10MTBcSyB3vVbAvUVk+0hOu/KPjxHctYxETvmJxHzFZOtTFoLHDcpgb16lPh6vcGzyIU4rBOtJECTCczNR+Ner/fkru328HugSRScY/vZw3hvT5ZsFzw0CcMeSlWTmtm13VwaBE0SSXW0d7HVtaVstYuqumudTUsBZtutB6pVw6q6axr0rgVOPNb49WoXuFpyUpKtffs6oLOzA2Tg3sYDuLW4DHGAbecDbm3nZrebLCuOka8OnoDT3zsFbc9/DGTi9v9W4dyvL8CfZy9BlNh6jVT6WcXEy5qflIfzEBOnvvl1OP39U7Br106Qjbbnn4MvfPFzNF4L/vmPaxAhmb2dXTMrK0vbYnNFkTv2HCQfH8s4acuCUWDZ+czLPbBx/z78a2ERogINEzPt5bny89tictyx+C9/nYF9ksTgWmxs3IfPH/8aREjFTHtbdp3fjG8o7UuHP6WMwERb23NR/z8p88kHY+Unt4nMRHwJFz0U1ejcF/WH1prIX0KJyDTrEHQnhOykbB23KBFZCPEaaKQHa9olZegykfXUFkUoMdYtkbWrVooSl70lsnbValHssotE1q5aMU46B5bIVAAB7apVI22tQQq2yHEWQDThkW8q6MoL38QroFEOLGxZ/Q+WyAL0oi0qgj1hlvEWEi+hRVYRYevKM90ntMAKQyv68zxnadAoSx7MDGd5ri1ZYZgpUphY6/axyjDGejnjYj9olEWA2F33SgMaOcBm1H4utLtWGtQXYzLTMyRUh+tpMMqT1jG5jG8Mn4aNew9AJbTIRUz/6oI16+FHP/wlqIQW2ebi7CVrDhNx+W9/hwu/mwVVUE7k27dXYexbk77vmbYFdvjFz6bh1uJ/QQVI5BwoAolFMdWvJdI9NBuxnLFvT6oQn9eVsuRzGFMdsbxa4nTRPeXQeQXi8zq1kwNdCj8uSKzyOcG1LLE4Drshe3zG2nWOMyG/uyY3XUmsapZYKQ67IXt8xrImuwsS48RhN9ws0S0OuyFtfEYj5iizARJzrkpMdSi3xGkP95Qja3wWAO9zAUzamFwpDrvhWKKXOOyGjPGZNzGjuQnyhilhc9ktDrtej5ZIQtN9jUBe4eXP9lgT5qXAxMTLuH5JOnddKw67QSVLv266EjLFZ+P6O0bBhBlIJfS5OmJqkMgSn5mta2EdLwG0R6AUA/poMTRazebk4AmIG0rmEu22BXsqsmDMYEKADLx0+CD8+CffBU1t0JKtDT4td92Uhyxo1MPW1RLZWLTWZMyBRhkwpOVsXUvaThdBoxAs6xxticw5U6eXXAOMw4xzvCWytZeBIj1SzzqWqy7am6K01CWeqh8HjVajksi9+3EUTZ66aqJE5LhdNhUZVBopSR/aWzejX+S82FUTJSInwWX/HGvDqkCVuagpd9XEtvWuO9q7WvGlD2LC6RKkTgCZoR6yP/w+esfIGfvOytpSSZl6m8h7Oz9hCLOZVhVvgZiwOhLQ1R3+9EHpVs7d2HgAU2fegDd+8yeIA2aiyHdKV6+vuNFIz5H+s/gyCgmAyphtbXLsQ0E5RZzJIwN2fuHG3Mj28xWgRb5Mrrftkw1usgNOlavkfKWLrQsFi7U5pfEHWXElgQnXISFcwARopIGZ4DptxFVkbc3yUM2KiaqDu/iuD8Z0qTPZYJ/xejUrJqqKbBjZdbTmKdAkFoH6VLNiwtMm2b1H+t8TeqnkxEHVrYUb8wdqXedpLC7jbAQ0iQMLH696ua7mJtnEyv+Xch3th3bj4XHQJAQ2uXBzzlPd1JPIxN7OT14Fs3kADz8OmlghN33txvyQ1+s9T52gJIzl2ZDOtuOlkE17c9MOni2ZoML33hcOPRYMBkATDwJ+sLA4P+fnFl8iEyt3lq/q+BwXbPLazfnXwSeemlCV6O3uv6y3GYoOxlh24fqcLzftUPd0Rrbj8RDTY7UjgZ4ze9DiOdEqp26RrUQMEwAtdLhYAuNzNnKzdSe8dbtrB+p7Flxc1hWx4NkSuEbZ0sP7NI4WOniCEth+r2DQQgdHkALb7xccWujGCVpgItDFQugPYzsfH8OqTBY0vqFmEnvYeixIga33hZDoOTIwgeWZcdB4ZQrr0WMQAr4rXl5ZXVvKYgn0ruBWZSy2MdxJh2rRVKrEStYEhERoluyg47Q7+PANjL9DQbvnckKzZAfq1FhdW57qaO+iD1QfaBym+MPWEWPp7RUImdAtuRht1Xb2zNlI+aS0kH9n9FhJGROjz9JONhR7adDdtRtzExAxobvrSlhJ2Z6uPwpgu/FjpvyGoDQuGptGX174z9u++oGD+/0xY827YkCW/RoohiWuCZNhJ1a1/46EoIrYlls2YYYLdjZucR0SI7IDiY1BpE8IMS5TgubEXP6w5Wwj3YJhkDiRi8kcHegz8zDMmHgliYJvWW0Tm40yW/ZLokUuJimCY5zNoZe5mHRhi5FG5GIcl26a0Me46BUivAydlhNGa73COTNorcqkxFk/SClyJTLdJzLAWdrM8wz+U/vxP0tbP6D9oZlIiQptcrLKwoGg+jEes3X0FAtgbdmQN2Rc8L0SHwGlQVcVgc8a5QAAAABJRU5ErkJggg==",GF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5CAYAAAAd+o5JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnTSURBVHgB7Z1dTBzXFcfPuWAXlBKtlTjUjSqva7tYJoJFSiSrL8GVXGgfavNcp8XKi+1IMU9uq6oF+tKoUhtcqUleqsS1I6XtgyGKLJDVev3QyFIjeaC1Aykkm4dYpljqutQfQHduzrm7S5Zld5ndnbnzsfcnwQ7D7MLMf865556591yEiJDo/G4CwE7YIGMooZt2xegrnnsFmd3eCEKajk3TawqyB6Uk4KdC2haI5pR187IFEQAhhCQO9MehCXpJ0G4SqZcETIBH0AWy6JtlA15r2gZJy5pMQcgIjciJZ/p7bSmPkqjHSlqlPlKIkETE89Y/J5MQAgItcl5Y2hwkVxqD4BEKwQMnciJxLGavPjgDiEMBFbYcKYk4GkSXHhiRE4n+uL0mz0BwrdYxZN1v4TYcDYrYvovM4so1OSwliRsxgiK2byKzW5ZrD1+NorjF+C12E/hA18FvD0v7/++QWz4EjUFCZmCwfefelsWlhWugGa2WrKJlW74J/naB/CYltuNhnVatxZLZNT/1xO5fkmt+AyDcQZULxMiqh8iqQZdVe27JKmpelZfAw6xUiNFi1Z5actczfWforn0HGts9VyKm2uon960s3l24Dh7hmchdnX2vUmA1QpstYKhEC/nTfi/dt+vuOtc1ukTtby8YqkKlSLe1DljWeBpcxFWRc+3vVTDuuR5cb6ddE9kI7CquCu2KyEZgT3BN6LpFNgJ7iitC1yWyEVgLdQtds8jZ574Pb4ARWAckdGtPrVG3gBrhbhIYgXURz13vmqgpGcJPkcgJDIJBJ/H2p/bFKGEyBVVStcicqgSJr4DBDw5RCvRetSnQqtrk3BCdG2EfnhNy0hSI9VQTiFXVJqtI2gjsNzFJT/U48HX6BsciZ9thE2gFAZ5MYK89HHZ6vCN3nesPfwKGQCEE9Z8djPd2ZMm5hIchYOSGUm3JltF1rrt0DAxBJNa+cz8uLs0nKx1U0V2baDoUULTduqdSNqyiu+ZB70bgwKPGr1c6oKwlm2ArXFDfeU+5vnNZS1ZWbAgNlfQqacnGisNJOWsuacnGisMJGeZQqf2bLNlvK257/DHo6NgLHQf2QlvbYxAGlpfvw0ezCzA7twDL/70PPlIy0m4uPiqzBr1+THV89rkuOPXScSUwCx1W3h2/Aq+/dhFuf7YIPhCzVx+xNY8U7tykZ9fBPrbiOGiCBT11+gX4/gvRyre8fWGcxL7gh2WnZ25N7SjcsUHk3KxDbSnMrz7dDmO//blyzVGErfnFE2e1W3VxTntD4CWl/CFogi3492/+KrICM/mbWHfzQ4a6wS0Wiaxvagu7aL4IUYdvYj5XzWww1nWR2VWDpraYxY1aG1wJPtfnKLDUSCynp2JdZJ2u+tTp49BonHxJ7zkXuuwCkfW46ra2L8P3jh2BRqPjwNd1t81H8xtKZE6AgCZXzSfbiPDNfaBDa5AZVzVIIScyJ0BAE1GOprfiG5pv8ExTVleR/SafB02EJVXpBWzNOkEpVZ0WJbKXpYQN/oEIynizgZc0IkcRmdMVE51HErYUN8AQSQQ29YiMwDgYIksG7ITAjDCuOsKgLWMUWJupL1EGEbubUcjd1EBrgwcHPKs3jxsYPvj7jPrSiQS5oxk0kx8B0oi8/ruL2kWmbtRuIY27jjSkL7XJaGZIRB1hpsFEnnjN1X8M4cGI3AAYkRsAI3IDwCKnwBBl0saSo0+a+8mulsI3BAvKXacESuOuow6lNfEeGKILGXEzyWzRhraB9WFgbnYBfvbT36hXJ/AMibM/PglBhB4wfiokoGmTixh6+ReOBWZ4mupf//I+BBHRhJZogowFhg0sL/8PqmVu9mMIJDYFXtbNK1pF5tILQafaaTw8/eWog/fUcvPUi3XzspUdNIBg6RqWW40b9IuzPzqpprR85mDy+OMk8OFvfdPRNNyPNFs7sq6QrxkigdcI1CTyx6rEQtDrgngxKY8Lx2hFohI5O4MCUZvLZpc1Nxd8a3abifEr2uuHkCWrBT6VyE0ZSIJGeKxTo/HGaz6cc05XJbI1q6q4pUATPJjt4h/GoVF4+8Il7cVhkPTM6brhUeMEaITv7MB2O1zk9u1FVddLP5jMb62LLARqNS1um4deHlUXIapwT+LFwbO+VOlDAefXtwt/0dXZ9x/dA/t4zu7J08fh+A+iVqztkrJgXwQmVz19a2pP/ucNyxO079y3i14OgUZWV1fh/b99AO9OXMmWXAhxJQJO9Pxjepby3r+GP//pMqyurIEfIOD44tL8xBc/F6C7Il8pwlpAlV3znP8FVBXFFfk219b0wWUb3KPYVTObh/9IPAeG0IKIo8X7Nokstj8aM0OCQkyJxNYmkS0rmSZ3fR4MoYMCrrfyCZBCSo7WFDaOgSF0oA2jpfaXFFndDRKNNYeIclbMlB13LeTGEveGYFPOipmyIhtrDg+VrJipOINCfOnRkIm0gw09M05XsmKmosjZSNv0m4OMJH0qWTHjaHWg7oN9n0izCnrgKJXdKoWjCW8o8AQYAgfaeNjJcVsuks3c+fd8ip5Q8VpDWp9QGSqBo9MfTjoaA+BIZGbX01+7DnZzP21+BQy+wm565tbUgNPjHc9P5iAMMzhgom1/yUbTztx0HseWzNy5O5/e9eS+FYnQDwZ/kPCT6dmpyWreUpXIzJ27C9dN++wXODrz4dQrUCU1L7Da3dl3VeeKcI0OPSdOTt+crMpN56m5ZghuWxlAU1RGC3yd8X6L40CrmJpFVoEYBQBGaG9RAtN1tlLjNQe8da+HzQtMSSGvmoyY+6wLvEXa0sHn1I8R2n3cEjj3We5ghHYPNwXOfZ57GKHrx22BGVcr8vE/httXeigrkwRD1XA3CR+09rgpsPpc8Iiug/0jlJ4ZBoNTzlE+egg8oOqMl1MWl+aTlAK9J4XKjLWAoSSci+ZUJWWyRsAjPLPkPKadLg9dfIva3wG33XMxnllyHn6osbi0cK59536+oXrBkOeceNB6wpp/7w54jOeWXIix6lz0LPBE4axDDX9TPyooQ3mmkWZPctvLg+5mbk2OgGY8d9elUEHZE/v/KAF30G0W+QVBeVw0dY2+M/2v96p6Duze3/cZduE2Alt25Cr1KnFtGPU6sNr6/wgIURFbuWUbzguJY36LmycwIudhsakR6ZVSDocpQMu3ueJBy1g9jwW9IHAiF6JqmGRgEFE+H0TB1622Ccd1RsvVEmiRCwmK4NTOpsjLTARd2EJCI3IheZdu29CLQnZLD8s4czlhstZrQqDFpRqC0s5WQyhFLkWi80gCBMbtjEjQSe2mM4urX/D60ChjskSfnK0yuyE5f0zbmCZPMQ1qyYaMpbvgu1d8DhOmGKZPjiszAAAAAElFTkSuQmCC",KF="/assets/banner_about-BDXlNUh_.png",$m="/assets/logo-BeE57ksF.svg";var $f=function(){return typeof document<"u"&&typeof window<"u"},qF=function(t,n){return new Promise(function(r,a){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=t,o.charset="utf-8",n){var s=document.createElement("link");s.href=n,s.rel="preconnect",i.appendChild(s)}i.appendChild(o),o.onload=r,o.onerror=a})},$F=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(r){t[r]=n[r]})},Tk=Dt({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),_i=function(){return Fu(Tk)},Ik=q(function(){var e=_i(),t=e.property;if(t.value)return Array.isArray(t.value)?t.value.find(function(n){return n.default===!0})||t.value[0]:t.value}),XF=q(function(){var e=_i(),t=e.property;return!!(t.value&&t.value.id!==null)}),yu=q(function(){var e=_i(),t=e.property;return Array.isArray(t.value)?t.value:[t.value]}),YF=q(function(){var e=_i(),t=e.isEnabled,n=Ik.value;return!!(n&&n.id&&t.value)}),$u=function(){var e;if($f()){for(var t=_i(),n=t.globalObjectName,r=t.useDebugger,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];r.value&&console.warn("[vue-gtag] Debugger:",i),(e=window)[n.value].apply(e,i)}},Xm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];yu.value.forEach(function(r){$u.apply(void 0,["config",r.id].concat(t))})},JF=function(e){Xm({custom_map:e})},QF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;$f()&&yu.value.forEach(function(t){window["ga-disable-".concat(t.id)]=e})},fo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Object.assign({},t);!n.send_to&&yu.value.length>1&&(n.send_to=yu.value.map(function(r){return r.id})),$u("event",e,n)},ZF=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fo.apply(void 0,["exception"].concat(t))},eM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Xm.apply(void 0,["linker"].concat(t))},tM=function(e){var t={};typeof e=="string"?t={page_path:e,page_location:window.location.href}:t=e,typeof t.send_page_view>"u"&&(t.send_page_view=!0),fo("page_view",t)},nM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fo.apply(void 0,["purchase"].concat(t))},rM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fo.apply(void 0,["refund"].concat(t))},aM=function(){for(var e=_i(),t=e.appName,n=e.appId,r=e.appVersion,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s=i[0],u={};typeof s=="string"?u={screen_name:s}:u=s,u.app_name==null&&t.value!=null&&(u.app_name=t.value),u.app_id==null&&n.value!=null&&(u.app_id=n.value),u.app_version==null&&r.value!=null&&(u.app_version=r.value),fo("screen_view",u)},iM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$u.apply(void 0,["set"].concat(t))},oM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fo.apply(void 0,["timing_complete"].concat(t))},Rk=Object.freeze({__proto__:null,config:Xm,customMap:JF,disable:QF,event:fo,exception:ZF,linker:eM,pageview:tM,purchase:nM,query:$u,refund:rM,screenview:aM,set:iM,time:oM}),Hb=fe(!1),zb=fe(!1),sM=function(){var t=_i(),n=t.disableScriptLoader,r=t.preconnectOrigin,a=t.resourceURL,i=t.dataLayerName;if(!(!$f()||!XF.value||zb.value)){if(zb.value=!0,yu.value.forEach(function(s){var u=Object.assign({send_page_view:!1},s.params);$u("config",s.id,u)}),n.value){Hb.value=!0;return}var o="".concat(a.value,"?id=").concat(Ik.value.id,"&l=").concat(i.value);qF(o,r.value).then(function(){Hb.value=!0})}},uM=function(){Ge(function(){return YF.value},function(t){return t&&sM()},{immediate:!0})},lM=function(){if($f()){var e=_i(),t=e.globalObjectName,n=e.dataLayerName;window[t.value]==null&&(window[n.value]=window[n.value]||[],window[t.value]=function(){window[n.value].push(arguments)}),window[t.value]("js",new Date)}},cM=function(){return Rk};Dt({template:null,useScreenview:!1,skipSamePath:!0});var fM={install:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$F(Tk,n),lM(),uM(),t.config.globalProperties.$gtag=Rk}};function Cr(){const{event:e}=cM();return{track:(n,r)=>{typeof window.gtag=="function"?e(n,r):console.warn("Gtag not initialized")}}}const dM={class:"home-wrapper"},hM={class:"event-catalog"},pM={class:"event-list"},mM=Xt({__name:"LandingView",setup(e){const t=mr();function n(){t.push("/event")}const{track:r}=Cr();return St(()=>{r("landing_view",{page:"landing"})}),(a,i)=>(ge(),Te("div",dM,[F("div",{class:"top-banner"},[i[0]||(i[0]=F("img",{src:as,alt:"Krawd Logo",class:"logo"},null,-1)),F("div",{class:"icons"},[F("button",{class:"login-btn",onClick:n},"Masuk")])]),F("div",{class:"carousel",onClick:n,style:{cursor:"pointer"}},i[1]||(i[1]=[F("img",{src:Cp,alt:"Event Carousel"},null,-1)])),F("section",hM,[i[3]||(i[3]=F("h2",null,"KATALOG EVENT",-1)),F("div",pM,[(ge(),Te(Ye,null,Dr(1,o=>F("div",{class:"event-card",key:o,onClick:n,style:{cursor:"pointer"}},i[2]||(i[2]=[F("img",{src:Cp,alt:"Event Image"},null,-1),F("div",{class:"event-info"},[F("h3",null,"PERTUNJUKAN MEMBANGUN & MENGHANCURKAN .FEAST"),F("p",null,"31 Mei 2025"),F("div",{class:"promotor"},[F("div",{class:"avatar"},"AS"),F("span",null,"Antara Suara")])],-1)]))),64))])]),i[5]||(i[5]=Ji('<section class="info-section" data-v-9c5608be><h2 data-v-9c5608be> SEBUAH MOMEN BERHARGA UNTUK CERITA SEPANJANG MASA.<br data-v-9c5608be> TEMUKAN FOTOMU DI KRAWD! </h2><p data-v-9c5608be> Krawd menjaga memori terbaik dari event favoritmu, langsung dari lensa fotografer profesional. Privasi foto terjaga, momenmu terabadikan sempurna. </p><h4 data-v-9c5608be><strong data-v-9c5608be>Bagaimana Caranya?</strong></h4><div class="steps" data-v-9c5608be><div class="step" data-v-9c5608be><img src="'+jF+'" alt="Step 1" data-v-9c5608be><p data-v-9c5608be>Pilih event yang kamu hadiri</p></div><div class="step" data-v-9c5608be><img src="'+HF+'" alt="Step 2" data-v-9c5608be><p data-v-9c5608be>Lengkapi data diri dan Facial Recognition</p></div><div class="step" data-v-9c5608be><img src="'+zF+'" alt="Step 3" data-v-9c5608be><p data-v-9c5608be>Lihat seluruh koleksi fotomu, pilih yang kamu suka</p></div><div class="step" data-v-9c5608be><img src="'+GF+'" alt="Step 4" data-v-9c5608be><p data-v-9c5608be>Bayar dan unduh fotomu dalam kualitas terbaik</p></div></div></section>',1)),F("div",{class:"cta-banner",onClick:n,style:{cursor:"pointer"}},i[4]||(i[4]=[F("img",{src:KF,alt:"CTA Banner"},null,-1)])),i[6]||(i[6]=Ji('<footer class="footer" data-v-9c5608be><img src="'+$m+'" alt="Krawd Logo" class="footer-logo" data-v-9c5608be><div class="footer-links" data-v-9c5608be><a href="/contact" data-v-9c5608be>Contact Us</a><a href="/landing-privacy-policy" data-v-9c5608be>Privacy Policy</a></div><div class="social-icons" data-v-9c5608be><i class="icon-instagram" data-v-9c5608be></i><i class="icon-x" data-v-9c5608be></i><i class="icon-facebook" data-v-9c5608be></i><i class="icon-tiktok" data-v-9c5608be></i><i class="icon-youtube" data-v-9c5608be></i></div><p data-v-9c5608be>2025 KRAWD</p></footer>',1))]))}}),vM=Vt(mM,[["__scopeId","data-v-9c5608be"]]),gM={class:"event-landing-wrapper"},yM=Xt({__name:"LandingEventView",setup(e){const t=mr();function n(){t.push("/privacy-policy")}function r(){t.push("/")}const{track:a}=Cr();return St(()=>{a("landing_view",{page:"landing"}),t.replace("/photo-match")}),(i,o)=>(ge(),Te("div",gM,[F("div",{class:"top-banner"},[F("img",{src:as,alt:"Krawd Logo",class:"logo",onClick:r,style:{cursor:"pointer"}}),F("button",{class:"login-btn",onClick:n},"Masuk")]),o[5]||(o[5]=F("div",{class:"event-image"},[F("img",{src:Cp,alt:"Event Banner"})],-1)),F("section",{class:"event-info"},[o[2]||(o[2]=F("div",{class:"breadcrumb"},"Konser Musik",-1)),o[3]||(o[3]=F("h1",{class:"title"},"PERTUNJUKAN MEMBANGUN & MENGHANCURKAN .FEAST",-1)),F("div",{class:"meta"},[o[0]||(o[0]=F("div",{class:"meta-item"},[F("i",{class:"icon-calendar"}),F("span",null,"31 Mei 2025")],-1)),o[1]||(o[1]=F("div",{class:"meta-item organizer"},[F("div",{class:"avatar"},"AS"),F("span",null,[_t("Diselenggarakan Oleh"),F("br"),F("strong",null,"Antara Suara")])],-1)),F("button",{class:"cta-btn",onClick:n},"DAPATKAN SEKARANG")]),o[4]||(o[4]=F("p",{class:"description"}," Krawd menjaga memori terbaik dari event favoritmu, langsung dari lensa fotografer profesional. Privasi foto terjaga, momenmu terabadikan sempurna. ",-1))]),o[6]||(o[6]=Ji('<footer class="footer" data-v-7c679a42><img src="'+$m+'" alt="Krawd Logo" class="footer-logo" data-v-7c679a42><div class="footer-links" data-v-7c679a42><a href="/contact" data-v-7c679a42>Contact Us</a><a href="/landing-privacy-policy" data-v-7c679a42>Privacy Policy</a></div><div class="social-icons" data-v-7c679a42><i class="icon-instagram" data-v-7c679a42></i><i class="icon-x" data-v-7c679a42></i><i class="icon-facebook" data-v-7c679a42></i><i class="icon-tiktok" data-v-7c679a42></i><i class="icon-youtube" data-v-7c679a42></i></div><p data-v-7c679a42>2025 KRAWD</p></footer>',1))]))}}),bM=Vt(yM,[["__scopeId","data-v-7c679a42"]]),{track:xM}=Cr(),wM={name:"PrivacyPolicyPage",data(){return{agreed:!1,scrolledToBottom:!1,acceptMarketing:!0}},mounted(){xM("tnc_view",{page:"tnc_view"})},methods:{checkScroll(){const e=this.$refs.scrollBox;e.scrollTop+e.clientHeight>=e.scrollHeight-10&&(this.scrolledToBottom=!0)},handleLabelClick(e){this.scrolledToBottom||(e.preventDefault(),alert("Silakan scroll seluruh halaman kebijakan privasi sebelum mencentang kotak ini."))},proceed(){localStorage.setItem("receive_marketing",this.acceptMarketing?"true":"false"),this.$router.push("/ticket-data")},goBack(){this.$router.push("/event")}}},_M={class:"wrapper"},kM={class:"header"},EM={class:"policy-container"},CM=["checked","readonly"],SM={class:"checkbox"},AM=["disabled"];function TM(e,t,n,r,a,i){return ge(),Te("div",_M,[F("header",kM,[F("button",{class:"back-btn",onClick:t[0]||(t[0]=(...o)=>i.goBack&&i.goBack(...o))},"  ")]),F("div",EM,[t[9]||(t[9]=F("h2",null,"Persetujuan Kebijakan Privasi",-1)),F("div",{class:"policy-content",onScroll:t[1]||(t[1]=(...o)=>i.checkScroll&&i.checkScroll(...o)),ref:"scrollBox"},t[6]||(t[6]=[Ji('<div class="policy-section" data-v-3e73d982><h3 data-v-3e73d982>KEBIJAKAN DATA PRIBADI</h3><p data-v-3e73d982>Kebijakan Data Pribadi ini berisi informasi terkait dengan pemrosesan data Pribadi Anda pengguna platform Krawd dan kami PT Ruang Antara Suara.</p><p data-v-3e73d982>Dengan menyetujui Kebijakan Data Pribadi ini, mengakses situs kami, menggunakan setiap jenis layanan yang kami sediakan, menyetujui setiap produk dan layanan yang kami sediakan, menyerahkan setiap informasi apa pun kepada kami, atau sebaliknya menunjukan persetujuan Anda kepada kami, Anda akan dianggap telah membaca dan menyetujui ketentuan dalam Kebijakan Data Pribadi ini. Kebijakan Data Pribadi menambah tapi tidak menggantikan atau mengganti setiap persetujuan lainnya yang telah Anda berikan sebelumnya kepada kami terkait dengan data pribadi Anda.</p><p data-v-3e73d982>Kami dapat merubah Kebijakan Data Pribadi ini untuk mematuhi dengan perubahan dalam hukum dan peraturan, untuk memastikan perlindungan data pribadi Anda lebih aman, atau untuk alasan-alasan lain. Kami akan memberikan informasi kepada Anda sebelum memperbaharui.</p><h3 data-v-3e73d982>1. Pengumpulan Data Pribadi</h3><p data-v-3e73d982>Selama Anda bertransaksi dengan kami, kami akan meminta Anda untuk memberikan data pribadi tertentu untuk membuat kami dapat bertransaksi dengan Anda atau untuk mengirimkan barang, layanan yang diperlukan dan/atau komunikasi yang berkaitan dengan transaksi tersebut. Hal-hal tersebut penting untuk proses kegiatan usaha kami, termasuk pengiriman pemberitahuan, layanan dan/atau produk, pengelolaan hubungan dengan pelanggan, peluncuran produk baru dan acara, tujuan perencanaan dalam kaitannya dengan produk baru di masa yang akan datang.</p><h3 data-v-3e73d982>2. Apa Saja Data Pribadi Yang Diperlukan</h3><p data-v-3e73d982>Untuk kami dapat memenuhi transaksi Platform, kami perlu memperoleh data pribadi Anda yang relevan. Data pribadi yang kami perlukan termasuk (namun tidak terbatas) pada hal-hal sebagai berikut:</p><p data-v-3e73d982>email</p><p data-v-3e73d982>nomor telepon</p><p data-v-3e73d982>nama</p><p data-v-3e73d982>rekening bank</p><p data-v-3e73d982>KTP</p><p data-v-3e73d982>foto/gambar muka</p><p data-v-3e73d982>data biometrik dari muka</p><h3 data-v-3e73d982>3. Kapan dan Bagaimana Kami Meminta Data Pribadi Anda</h3><p data-v-3e73d982>Kami akan meminta data pribadi Anda secara melalui:</p><p data-v-3e73d982>Anda berikan melalui Platform;</p><p data-v-3e73d982>Ketika Anda mendaftarkan minat atau keinginan Anda berlangganan terhadap informasi produk dan/atau layanan kami atau publikasi kami (misalnya newsletter);</p><p data-v-3e73d982>Berpartisipasi dalam setiap survey kami, kompetisi, kontes, undian berhadiah atau acara promosi atau penawaran;</p><p data-v-3e73d982>Memberikan tanggapan terhadap setiap materi pemasaran yang kami kirimkan;</p><p data-v-3e73d982>Mengunjungi kantor kami;</p><p data-v-3e73d982>Menyampaikan saran kepada kami (melalui situs kami atau dalam bentuk dokumen tertulis); dan/atau</p><p data-v-3e73d982>Ketika Anda menyerahkan data pribadi Anda kepada kami untuk setiap alasan lainnya.</p><p data-v-3e73d982>Selain data pribadi yang kami peroleh langsung dari Anda (sebagaimana diuraikan di atas), kami juga dapat memperoleh data pribadi Anda dari pihak ketiga dimana kami bertransaksi dengan atau yang terkait dengan Anda dan dari sumber lain di mana Anda telah memberikan persetujuan untuk mengungkapkan informasi yang berhubungan dengan Anda, dan/atau dimana secara hukum diizinkan.</p><p data-v-3e73d982>Jika Anda menyediakan setiap data pribadi Anda yang terkait dengan pihak ketiga (seperti informasi mengenai pasangan, anak, orangtua, dan/atau rekan kerja), dengan mencantumkan beberapa informasi kepada kami, Anda menyatakan kepada kami bahwa Anda telah memperoleh persetujuan dari pihak ketiga tersebut untuk menyediakan data pribadi tersebut kepada kami untuk maksud dan tujuan tersebut.</p><p data-v-3e73d982>Mohon agar Anda berhati-hati ketika menyerahkan informasi kepada kami, khususnya pada saat mengisi kolom teks atau mengunggah dokumen dan materi lainnya. Beberapa layanan kami dilakukan secara otomatis dan kami mungkin tidak dapat mengetahui bahwa Anda secara tidak sengaja memberikan informasi yang salah atau sensitif kepada kami. Anda harus memastikan bahwa semua data pribadi yang Anda berikan kepada kami sudah lengkap, akurat, tepat dan benar.</p><p data-v-3e73d982>Dalam meningkatkan layanan kami kepada Anda, kami sesekali menggunakan perangkat pelacakan otomatis seperti cookie. Cookie adalah bagian kecil dari data yang dikirimkan oleh server situs kami kepada situs internet Anda ketika anda mengunjungi bagian tertentu situs kami dan penggunaan hal tersebut dimaksud untuk dapat membantu pemahaman kami mengenai ketertarikan Anda pada situs web kami.</p><p data-v-3e73d982>Kami dapat menggunakan cookies untuk mempersonalisasi konten, rekomendasi, iklan dan komunikasi yang diberikan kepada Anda agar lebih relevan dengan ketertarikan Anda. Seperti contoh, Anda dapat melihat iklan dari produk yang baru Anda lihat dalam situs kami. Mohon dicatat bahwa cookie tidak mengidentifikasi pengguna secara pribadi meskipun cookie mengidentifikasikan internet pengguna.</p><p data-v-3e73d982>Anda selalu dapat memilih untuk tidak mengaktifkan penyimpanan cookie dari komputer Anda dengan mengubah pengaturan internet Anda Akan tetapi, tidak mengaktifkan cookies, dapat mengakibatkan hasil berupa keterbatasan pengalaman fungsionalitas dan layanan kami dan dalam beberapa peristiwa dapat berarti bahwa kami tidak dapat menyediakan layanan kepada Anda atau bagian dari layanan, seperti yang anda minta.</p><p data-v-3e73d982>Beberapa mitra bisnis kami yang kontennya dicantumkan ke dalam atau ditautkan dari situs kami dapat juga menggunakan cookies. Namun, kami tidak memiliki akses atau pengendalian penuh atas cookies dan situs-situs tersebut.</p><h3 data-v-3e73d982>4. Tujuan Permintaan Data Pribadi</h3><p data-v-3e73d982>Penyediaan data pribadi Anda akan diproses oleh kami untuk, diantaranya, tujuan berikut sebagaimana berlaku:</p><p data-v-3e73d982>Memproses transaksi dalam Platform;</p><p data-v-3e73d982>Pengiriman pemberitahuan, layanan, atau produk-produk dan pemasaran seperti layanan atau produk-produk kepada anda;</p><p data-v-3e73d982>Tujuan yang utamanya untuk menyediakan setiap layanan dalam Platform;</p><p data-v-3e73d982>Melakukan pemasaran dan memahami aktivitas pelanggan sehubungan dengan layanan dan produk-produk kami terkait;</p><p data-v-3e73d982>Mengatur administrasi dan kegiatan operasional usaha kami dan mematuhi dengan kebijakan internal, prosedur, dan pencatatannya;</p><p data-v-3e73d982>Memungkinkan kami untuk mengirimkan informasi melalui surel, peralatan telekomunikasi (seperti telepon atau pesan teks) atau media sosial tentang produk-produk dan layanan yang kami tawarkan melalui Afiliasi kami, yang kami harapkan sesuai kebutuhan Anda.</p><p data-v-3e73d982>Untuk menciptakan dan mengelola setiap hubungan bisnis lebih baik dengan Anda, termasuk melalui pelatihan pegawai dan tujuan jaminan kualitas, khususnya dalam hubungan dengan staf hubungan pelanggan melalui telepon, surel, dan pusat dukungan kami lainnya, dan untuk menganalisa, menyelidiki, menangani, atau menyelesaikan permasalahan keamanan atau setiap kerentanan apapun;</p><p data-v-3e73d982>Untuk memproses setiap komunikasi yang anda kirimkan kepada kami (misalnya menjawab setiap pertanyaan dan menangani setiap keluhan pelanggan dan memberikan saran);</p><p data-v-3e73d982>Menanggapi pertanyaan anda;</p><p data-v-3e73d982>Menyediakan kepada anda produk-produk dan/atau layanan yang anda minta;</p><p data-v-3e73d982>Memberitahukan kepada anda tentang manfaat dan perubahan fitur pada produk-produk dan/atau layanan kami;</p><p data-v-3e73d982>mencegah, mendeteksi, dan menyelidiki kejahatan dan menganalisa dan mengelolan risiko komersial; dan</p><p data-v-3e73d982>Setiap tujuan yang wajar terkait dengan hal-hal tersebut diatas.</p><h3 data-v-3e73d982>5. Kegagalan Pemberian Data Pribadi</h3><p data-v-3e73d982>Kegagalan untuk menyediakan data pribadi yang diperlukan dapat:</p><p data-v-3e73d982>Mengakibatkan kami tidak dapat memproses transaksi dalam Platform;</p><p data-v-3e73d982>Mengakibatkan kami tidak dapat memberikan pemberitahuan, layanan, dan/atau produk-produk yang diminta;</p><p data-v-3e73d982>Mempengaruhi kemampuan kami untuk memproses yang berkaitan dengan penyediaan produk-produk dan/atau layanan;</p><p data-v-3e73d982>Mengakibatkan kami tidak dapat memberikan informasi terbaru terkait produk-produk, layanan, promosi, acara-acara, dan/atau peluncuran produk; dan/atau</p><p data-v-3e73d982>Mengakibatkan Anda tidak dapat berpartisipasi dalam kontes, promosi, atau aktivitas penukaran pada kegiatan-kegiatan yang dilakukan oleh kami.</p><h3 data-v-3e73d982>6. Pengungkapan Data Pribadi Anda</h3><p data-v-3e73d982>Data pribadi yang Anda berikan kepada kami akan kami rahasiakan tetapi dengan ini Anda menyetujui dan mengizinkan kami untuk memberikan atau mengungkapkan data pribadi Anda sesuai dengan kategori para pihak sebagai berikut:</p><p data-v-3e73d982>Penyedia Produk dalam Platform;</p><p data-v-3e73d982>Perusahaan-perusahaan dan/atau organisasi-organisasi yang menjadi agen, kontraktor, dan/atau penyedia layanan kami;</p><p data-v-3e73d982>Afiliasi kami untuk tujuan yang terkait dengan tujuan untuk mengumpulkan dan menggunakan informasi pribadi anda;</p><p data-v-3e73d982>Pihak lain yang mengetahui kepada siapa anda sebelumnya telah memberikan persetujuan anda secara tertulis;</p><p data-v-3e73d982>Auditor, konsultan, akuntan, pengacara atau penasihat keuangan atau penasihat professional lainnya;</p><p data-v-3e73d982>Perusahaanperusahaan dan/atau organisasiorganisasi yang membantu kami dalam memproses dan/atau sebaliknya memenuhi transaksi dan memberi anda produk-produk dan/atau layanan yang telah anda pesan atau untuk berlangganan;</p><p data-v-3e73d982>Pemasaran dan komunikasi dengan anda terkait dengan produk-produk dan layanan yang kami tawarkan, Afiliasi kami, dan juga agen resmi kami, dan/atau</p><p data-v-3e73d982>Pemerintah yang relevan, badan hukum atau otoritas berwenang atau lembaga penegak hukum, untuk memenuhi setiap ketentuan hukum, peraturan, pedoman, dan peraturan atau skema yang diberlakukan oleh pemerintah untuk keselamatan, keamanan, dan kepatuhan hukum.</p><h3 data-v-3e73d982>7. Pemasaran Langsung</h3><p data-v-3e73d982>Ketika anda telah memberikan persetujuan kepada kami, kami dapat menggunakan data pribadi anda untuk memberi informasi kepada anda tentang layanan afiliasi kami dan/atau produk-produk kami, yang mungkin menarik atau memberikan manfaat bagi anda, kecuali anda kemudian menarik persetujuan anda. Mohon dicatat bahwa kami hanya akan mengungkapkan data pribadi anda jika anda telah berlangganan layanan produk tertentu yang memerlukan pengungkapan tersebut dan/atau jika persetujuan anda telah diperoleh.</p><h3 data-v-3e73d982>8. Integritas Data Pribadi</h3><p data-v-3e73d982>Kami akan mengambil seluruh tindakan yang wajar untuk memastikan bahwa data pribadi yang diperoleh, digunakan atau diungkapkan adalah akurat, lengkap, dan tidak menyesatkan. Anda harus memberikan informasi kepada Kami mengenai perubahan terhadap data pribadi Anda yang telah Anda berikan.</p><h3 data-v-3e73d982>9. Keamanan Data Pribadi</h3><p data-v-3e73d982>Kami melakukan tindakan keamanan dan proteksi data pribadi anda dengan sangat serius. Kami akan mengambil semua tindakan yang wajar untuk melindungi data pribadi anda agar tidak terjadi kehilangan, penyalahgunaan, perubahan, akses atau pengungkapan yang tidak sah atau tidak disengaja, perubahan atau penghancuran data. Kami tidak akan menahan data pribadi anda lebih lama dari waktu yang diperlukan yang wajar dan akan mengambil langkah-langkah yang tepat untuk menghancurkan atau menghapus data identitas secara permanen.</p><h3 data-v-3e73d982>10. Pengiriman dan Pembagian Data</h3><p data-v-3e73d982>Jika kami menganggap perlu atau sesuai untuk tujuan penyimpanan data atau memproses atau menyediakan setiap layanan atau produk-produk apa pun atas nama kami kepada Anda, kami dapat mengirimkan data pribadi Anda kepada Afiliasi, atau penyedia jasa lain yang berlokasi di negara berbeda dari Anda. Kami berjanji untuk menangani data pribadi Anda di negara yang dimana dikirimkan dengan syarat kerahasiaan dan tingkat keamanan yang tingkatnya sama dengan negara dari dimana dikumpulkan. Anda menyetujui dan setuju untuk pengiriman, penyimpanan atau pemrosesan tersebut untuk tujuan apa pun yang tercantum diatas.</p><h3 data-v-3e73d982>11. Cara menghubungi kami  Akses dan Koreksi, Penarikan Persetujuan</h3><p data-v-3e73d982>Kami dapat berdasarkan permintaan tertulis dari Anda untuk memberikan akses data pribadi Anda dan mempertimbangkan permintaan untuk melakukan koreksi dan pelaksanaan hak Anda berdasarkan hukum dan peraturan yang berlaku. Dalam keadaan seperti itu dapat mengirimkan permintaan anda ke:</p><p data-v-3e73d982>email: contact@krawd.id</p><p data-v-3e73d982>Dengan mencantumkan permintaan tersebut, anda memberikan konfirmasi bahwa hal tersebut sesuai dengan data pribadi dan menjamin bahwa jika anda mengajukan permintaan ini atas nama orang lain, anda diberi wewenang oleh orang tersebut untuk mengajukan permintaan tersebut dan memberikan informasinya sesuai dengan tujuan tersebut. Anda bersedia mengganti kerugian yang dialami Kami sehubungan dengan pengenaan denda, kewajiban, klaim, tuntutan, kerugian, dan kerusakan akibat dari pelanggaran jaminan tersebut. Anda menyatakan bahwa informasi yang diberikan di dalamnya dan dengan permintaan tersebut adalah benar dalam segala hal, dan setuju bahwa informasi yang diserahkan, digunakan, dan diungkapkan oleh kami, dan afiliasinya, dan/atau penyedia layanan dari pihak ketiga sesuai dengan Kebijakan Perlindungan Data ini.</p><p data-v-3e73d982>Kami akan melakukan upaya yang wajar untuk memenuhi permintaan Anda sebagaimana diizinkan dalam hukum dan peraturan.</p><p data-v-3e73d982>Mohon dicatat bahwa dalam situasi tertentu kami mungkin akan menahan akses data pribadi Anda. Namun demikian, kami akan menyampaikan informasi kepada Anda mengenai alasan mengapa kami tidak dapat menyetujui permintaan Anda.</p><p data-v-3e73d982>Jika Anda menarik persetujuan Anda untuk setiap atau seluruh penggunaan data pribadi Anda, kami mungkin tidak dalam posisi untuk dapat melanjutkan menyediakan produk dan layanan kami kepada Anda. Hal tersebut dapat membutuhkan waktu untuk penarikan Anda dalam database kami.</p><p data-v-3e73d982>Mohon dicatat bahwa meskipun anda menarik persetujuan anda untuk menerima informasi pemasaran dan promosi, kami masih dapat menghubungi anda untuk tujuan lain sehubungan dengan produk-produk dan layanan kami yang mungkin sesuai dengan anda.</p><p data-v-3e73d982>Anda telah setuju bahwa pemrosesan data pribadi Anda tidak dapat ditunda dan/atau dibatasi.</p></div>',1)]),544),F("label",{class:"checkbox",onClick:t[3]||(t[3]=(...o)=>i.handleLabelClick&&i.handleLabelClick(...o))},[zt(F("input",{type:"checkbox",checked:a.agreed,readonly:!a.scrolledToBottom,"onUpdate:modelValue":t[2]||(t[2]=o=>a.agreed=o)},null,8,CM),[[cu,a.agreed]]),t[7]||(t[7]=_t(" Saya telah membaca dan menyetujui Kebijakan Privasi Krawd "))]),F("label",SM,[zt(F("input",{type:"checkbox",id:"marketing","onUpdate:modelValue":t[4]||(t[4]=o=>a.acceptMarketing=o)},null,512),[[cu,a.acceptMarketing]]),t[8]||(t[8]=_t(" Saya ingin menerima konten promosi dan informasi menarik dari Krawd "))]),F("button",{class:"continue-btn",disabled:!a.agreed,onClick:t[5]||(t[5]=(...o)=>i.proceed&&i.proceed(...o))},"Lanjutkan",8,AM)])])}const IM=Vt(wM,[["render",TM],["__scopeId","data-v-3e73d982"]]),Ym="access_token",Jm="refresh_token",Qm="access_token_expiration",RM="users_username";function Nk({access_token:e,refresh_token:t,access_token_expiration:n}){localStorage.setItem(Ym,e),localStorage.setItem(Jm,t),localStorage.setItem(Qm,n)}function NM(){return localStorage.getItem(Ym)}function OM(){return localStorage.getItem(Jm)}function DM(){return localStorage.getItem(Qm)}function Sp(){localStorage.removeItem(Ym),localStorage.removeItem(Jm),localStorage.removeItem(Qm),localStorage.removeItem(RM)}function PM(){const e=DM();if(!e)return!0;const t=new Date().getTime(),n=new Date(e).getTime();return t>=n}const aa=ht.create({baseURL:"https://krawd.id/api/v1"});aa.interceptors.request.use(async e=>{PM()&&await FM();const t=NM();return t&&(e.headers["X-Access-Token"]=`Bearer ${t}`),e});async function FM(){const e=OM();if(!e){Sp(),Gb();return}try{const t=await ht.post("https://krawd.id/api/v1/refresh-token",{token:e}),{access_token:n,access_token_expiration:r}=t.data.data;Nk({access_token:n,refresh_token:e,access_token_expiration:r})}catch(t){console.error("Token refresh failed:",t),Sp(),Gb()}}function Gb(){alert("Sesi kamu telah habis. Silakan masuk kembali.");const e=window.location.pathname;localStorage.setItem("redirect_after_login",e),window.location.href="/privacy-policy"}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ok=function(e,t){return(Ok=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(e,t)};function Ur(e,t){function n(){this.constructor=e}Ok(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function we(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(l){try{u(r.next(l))}catch(c){i(c)}}function s(l){try{u(r.throw(l))}catch(c){i(c)}}function u(l){l.done?a(l.value):new n(function(c){c(l.value)}).then(o,s)}u((r=r.apply(e,[])).next())})}function _e(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(c[0]===6&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(f){c=[6,f],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var MM=function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},e.prototype.registerFlag=function(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){var a=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+a+"."),this.set(t,a)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,a=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return LM(r,o[0],o[1]),o.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(i){var o=i.split(":"),s=o[0],u=o[1];t.urlFlags[s]=function(l,c){if((c=c.toLowerCase())==="true"||c==="false")return c==="true";if(""+ +c===c)return+c;throw new Error("Could not parse value flag value "+c+" for flag "+l+".")}(s,u)})}},e}();function LM(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function Q(){return Dk}var Dk=null,Ic=new Map,Ap=new Map;function Pk(e,t){var n=Mk(e,t);return Ic.get(n)}function BM(e){return Ap.get(e)}function Kb(e){for(var t=Ic.entries(),n=[];;){var r=t.next(),a=r.done,i=r.value;if(a)break;var o=i[0],s=i[1];o.split("_")[0]===e&&n.push(s)}return n}function Fk(e){var t=e.kernelName,n=e.backendName,r=Mk(t,n);if(Ic.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");Ic.set(r,e)}function VM(e){var t=e.kernelName;Ap.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Ap.set(t,e)}function Mk(e,t){return t+"_"+e}function Tp(e,t,n){return Math.max(e,Math.min(t,n))}function Lk(e){return e%2==0?e:e+1}function UM(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function O(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function ct(e,t,n){n===void 0&&(n=""),O(rn(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function ks(e){O(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function is(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=!1),t==null&&(t=[]),Array.isArray(e)||ea(e)&&!n)for(var r=0;r<e.length;++r)is(e[r],t,n);else t.push(e);return t}function ke(e){if(e.length===0)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function rn(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Pt(e){return e%1==0}function WM(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function Ip(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Wo(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function qb(e,t,n){return t===void 0&&(t=function(r){return 0}),new Promise(function(r,a){var i=0,o=function(){if(e())r();else{i++;var s=t(i);n!=null&&i>=n?a():setTimeout(o,s)}};o()})}function jM(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(e[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(n===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function Yt(e,t){var n=t.length;return O((e=e==null?t.map(function(r,a){return a}):[].concat(e)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),O(e.every(function(r){return Pt(r)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(r){return r<0?n+r:r})}function Di(e,t){for(var n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:Yt(t,e).sort(),o=0,s=0;s<e.length;++s){if(i!=null){if(i[o]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(i[o]==null||i[o]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function bu(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function Rc(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);n=new Array(t)}return n}function HM(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function zM(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function GM(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function ea(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function Bk(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function KM(e){if(e==null)return 0;var t=0;return e.forEach(function(n){return t+=n.length}),t}function Zm(e){return typeof e=="string"||e instanceof String}function qM(e){return typeof e=="boolean"}function $M(e){return typeof e=="number"}function Xu(e){return Array.isArray(e)?Xu(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":$M(e)?"float32":Zm(e)?"string":qM(e)?"bool":"float32"}function Rp(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Np(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function ta(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Vk(e,t,n){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=is(e)),n&&HM(e,t),function(i,o){return i instanceof Float32Array&&o==="float32"||i instanceof Int32Array&&o==="int32"||i instanceof Uint8Array&&o==="bool"}(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var r=new Uint8Array(e.length),a=0;a<r.length;++a)Math.round(e[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+t)}function $b(e,t){if(e.length===0)return t[0];var n=e.reduce(function(r,a){return r*a});if(n===0)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function r(a,i,o){var s=new Array;if(i.length===1)for(var u=i[0],l=0;l<u;l++)s[l]=o[a+l];else{u=i[0];var c=i.slice(1),f=c.reduce(function(d,h){return d*h});for(l=0;l<u;l++)s[l]=r(a+l*f,c,o)}return s}(0,e,t)}function Uk(e,t){for(var n=Yu(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Yu(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function Xr(){return Q().platform.now()}function Wk(e){e.forEach(function(t){O(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function XM(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Q().platform.encode(e,t)}function Nc(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Q().platform.decode(e,t)}function Xb(e,t,n){if(t===0)return 0;if(t===1)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function YM(e,t,n){if(t===0)return[];if(t===1)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}var JM=function(){function e(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new QM)}return e.prototype.profileKernel=function(t,n,r){var a,i=this,o=this.backendTimer.time(function(){a=r()});return a.forEach(function(s){s.data().then(function(u){(function(l,c,f){if(c!=="float32")return!1;for(var d=0;d<l.length;d++){var h=l[d];if(isNaN(h)||!isFinite(h))return console.warn("Found "+h+" in the result of '"+f+"'"),!0}})(u,s.dtype,t),o.then(function(l){var c="";l.getExtraProfileInfo!=null&&(c=l.getExtraProfileInfo()),i.logger.logKernelProfile(t,s,u,l.kernelMs,n,c)})})}),a},e}(),QM=function(){function e(){}return e.prototype.logKernelProfile=function(t,n,r,a,i,o){var s=typeof a=="number"?Wo(a+"ms",9):a.error,u=Wo(t,25),l=n.rank,c=n.size,f=Wo(n.shape.toString(),14),d="";for(var h in i){var m=i[h].shape||n.shape,p=m.length;d+=h+": "+p+"D "+(p>0?m:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+l+"D "+f+"	%c"+c+"	%c"+d+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),Yb=20,Ds=3,ah=7;function ZM(e,t,n,r){var a=ta(t),i=function(l,c,f,d){var h=ke(c),m=d[d.length-1],p=new Array(m).fill(0),v=c.length,g=f==="complex64"?Fs(l):l;if(v>1)for(var x=0;x<h/m;x++)for(var y=x*m,b=0;b<m;b++)p[b]=Math.max(p[b],Ps(g[y+b],0,f).length);return p}(e,t,n,a),o=t.length,s=function l(c,f,d,h,m,p){p===void 0&&(p=!0);var v=d==="complex64"?2:1,g=f[0],x=f.length;if(x===0)return d==="complex64"?[Ps(Fs(c)[0],0,d)]:d==="bool"?[jk(c[0])]:[c[0].toString()];if(x===1){if(g>Yb){var y=Ds*v,b=Array.from(c.slice(0,y)),w=Array.from(c.slice((g-Ds)*v,g*v));return d==="complex64"&&(b=Fs(b),w=Fs(w)),["["+b.map(function(M,L){return Ps(M,m[L],d)}).join(", ")+", ..., "+w.map(function(M,L){return Ps(M,m[g-Ds+L],d)}).join(", ")+"]"]}return["["+(d==="complex64"?Fs(c):Array.from(c)).map(function(M,L){return Ps(M,m[L],d)}).join(", ")+"]"]}var _=f.slice(1),S=h.slice(1),C=h[0]*v,k=[];if(g>Yb){for(var E=0;E<Ds;E++){var T=(A=E*C)+C;k.push.apply(k,l(c.slice(A,T),_,d,S,m,!1))}for(k.push("..."),E=g-Ds;E<g;E++)T=(A=E*C)+C,k.push.apply(k,l(c.slice(A,T),_,d,S,m,E===g-1))}else for(E=0;E<g;E++){var A;T=(A=E*C)+C,k.push.apply(k,l(c.slice(A,T),_,d,S,m,E===g-1))}var I=x===2?",":"";for(k[0]="["+k[0]+I,E=1;E<k.length-1;E++)k[E]=" "+k[E]+I;var D=`,
`;for(E=2;E<x;E++)D+=`
`;return k[k.length-1]=" "+k[k.length-1]+"]"+(p?"":D),k}(e,t,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+o),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map(function(l){return"    "+l}).join(`
`)),u.join(`
`)}function Ps(e,t,n){return Wo(Array.isArray(e)?parseFloat(e[0].toFixed(ah))+" + "+parseFloat(e[1].toFixed(ah))+"j":Zm(e)?"'"+e+"'":n==="bool"?jk(e):parseFloat(e.toFixed(ah)).toString(),t)}function jk(e){return e===0?"false":"true"}function Fs(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var xu=function(){function e(t,n,r){var a=this;if(this.dtype=n,this.shape=t.slice(),this.size=ke(t),r!=null){var i=r.length;O(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+a.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Rc(n,this.size),this.strides=ta(t)}return e.prototype.set=function(t){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),O(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var i=this.locToIndex(r);this.values[i]=t},e.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.length===0&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var u=t[t.length-1],l=0;l<t.length-1;++l)u+=this.strides[l]*t[l];return this.values[u]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Yr().makeTensor(this.values,this.shape,this.dtype)},e}(),Yr=null,$=null,Hk=null,wt=function(){function e(t,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ke(t),this.strides=ta(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),O(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,n){return this.throwIfDisposed(),this.reshape([t,n])},e.prototype.as3D=function(t,n,r){return this.throwIfDisposed(),this.reshape([t,n,r])},e.prototype.as4D=function(t,n,r,a){return this.throwIfDisposed(),this.reshape([t,n,r,a])},e.prototype.as5D=function(t,n,r,a,i){return this.throwIfDisposed(),this.reshape([t,n,r,a,i])},e.prototype.asType=function(t){return this.throwIfDisposed(),$.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return we(this,void 0,void 0,function(){var t;return _e(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,$.buffer(this.shape,this.dtype,t)]}})})},e.prototype.bufferSync=function(){return $.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return we(this,void 0,void 0,function(){var t;return _e(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,$b(this.shape,t)]}})})},e.prototype.arraySync=function(){return $b(this.shape,this.dataSync())},e.prototype.data=function(){return we(this,void 0,void 0,function(){var t,n;return _e(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),t=Yr().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:n=r.sent();try{return[2,n.map(function(a){return Nc(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,t]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var t=Yr().readSync(this.dataId);if(this.dtype==="string")try{return t.map(function(n){return Nc(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return we(this,void 0,void 0,function(){var t;return _e(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Yr().read(this.dataId)];case 1:return t=n.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(Yr().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),$.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),$.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),$.expandDims(this,t)},e.prototype.cumsum=function(t,n,r){return t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1),$.cumsum(this,t,n,r)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),$.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),$.clone(this)},e.prototype.oneHot=function(t,n,r){return this.throwIfDisposed(),$.oneHot(this,t,n,r)},e.prototype.toString=function(t){return t===void 0&&(t=!1),ZM(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),$.tile(this,t)},e.prototype.gather=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),$.gather(this,t,n)},e.prototype.matMul=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),$.matMul(this,t,n,r)},e.prototype.dot=function(t){return this.throwIfDisposed(),$.dot(this,t)},e.prototype.norm=function(t,n,r){return t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),$.norm(this,t,n,r)},e.prototype.slice=function(t,n){return this.throwIfDisposed(),$.slice(this,t,n)},e.prototype.reverse=function(t){return this.throwIfDisposed(),$.reverse(this,t)},e.prototype.concat=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),$.concat([this].concat(t),n)},e.prototype.split=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),$.split(this,t,n)},e.prototype.stack=function(t,n){return n===void 0&&(n=0),$.stack([this,t],n)},e.prototype.unstack=function(t){return t===void 0&&(t=0),$.unstack(this,t)},e.prototype.pad=function(t,n){return n===void 0&&(n=0),$.pad(this,t,n)},e.prototype.batchNormalization=function(t,n,r,a,i){return r===void 0&&(r=.001),Hk("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,n,i,a,r)},e.prototype.batchNorm=function(t,n,r,a,i){return i===void 0&&(i=.001),this.throwIfDisposed(),$.batchNorm(this,t,n,r,a,i)},e.prototype.all=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.all(this,t,n)},e.prototype.any=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.any(this,t,n)},e.prototype.logSumExp=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.logSumExp(this,t,n)},e.prototype.sum=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.sum(this,t,n)},e.prototype.prod=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.prod(this,t,n)},e.prototype.mean=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.mean(this,t,n)},e.prototype.min=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.min(this,t,n)},e.prototype.max=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),$.max(this,t,n)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),$.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),$.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),$.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),$.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),$.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),$.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),$.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),$.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),$.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),$.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),$.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),$.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),$.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),$.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),$.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),$.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),$.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),$.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),$.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),$.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),$.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),$.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),$.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),$.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),$.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),$.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),$.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),$.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),$.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),$.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),$.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),$.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),$.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),$.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),$.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),$.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),$.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),$.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),$.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),$.logicalXor(this,t)},e.prototype.where=function(t,n){return this.throwIfDisposed(),$.where(t,this,n)},e.prototype.neg=function(){return this.throwIfDisposed(),$.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),$.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),$.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),$.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),$.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),$.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),$.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),$.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),$.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),$.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),$.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),$.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),$.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),$.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),$.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),$.abs(this)},e.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),$.clipByValue(this,t,n)},e.prototype.relu=function(){return this.throwIfDisposed(),$.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),$.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),$.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),$.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),$.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),$.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),$.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),$.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),$.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),$.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),$.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),$.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),$.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),$.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),$.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),$.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),$.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),$.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),$.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),$.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),$.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),$.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),$.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),$.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),$.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),$.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),$.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),$.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),$.image.resizeBilinear(this,t,n)},e.prototype.resizeNearestNeighbor=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),$.image.resizeNearestNeighbor(this,t,n)},e.prototype.conv1d=function(t,n,r,a,i,o){return a===void 0&&(a="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),$.conv1d(this,t,n,r,a,i,o)},e.prototype.conv2d=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),$.conv2d(this,t,n,r,a,i,o)},e.prototype.conv2dTranspose=function(t,n,r,a,i){return this.throwIfDisposed(),$.conv2dTranspose(this,t,n,r,a,i)},e.prototype.depthwiseConv2D=function(t,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),$.depthwiseConv2d(this,t,n,r,a,i,o)},e.prototype.separableConv2d=function(t,n,r,a,i,o){return i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC"),this.throwIfDisposed(),$.separableConv2d(this,t,n,r,a,i,o)},e.prototype.avgPool=function(t,n,r,a){return this.throwIfDisposed(),$.avgPool(this,t,n,r,a)},e.prototype.maxPool=function(t,n,r,a){return this.throwIfDisposed(),$.maxPool(this,t,n,r,a)},e.prototype.localResponseNormalization=function(t,n,r,a){return t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5),$.localResponseNormalization(this,t,n,r,a)},e.prototype.pool=function(t,n,r,a,i){return this.throwIfDisposed(),$.pool(this,t,n,r,a,i)},e.prototype.variable=function(t,n,r){return t===void 0&&(t=!0),this.throwIfDisposed(),Yr().makeVariable(this,t,n,r)},e.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),$.unsortedSegmentSum(this,t,n)},e.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),$.batchToSpaceND(this,t,n)},e.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),$.spaceToBatchND(this,t,n)},e.prototype.topk=function(t,n){return t===void 0&&(t=1),n===void 0&&(n=!0),this.throwIfDisposed(),$.topk(this,t,n)},e.prototype.stridedSlice=function(t,n,r,a,i,o,s,u){return a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),$.stridedSlice(this,t,n,r,a,i,o,s,u)},e.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),$.depthToSpace(this,t,n)},e.prototype.fft=function(){return this.throwIfDisposed(),$.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),$.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),$.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),$.spectral.irfft(this)},e}();Object.defineProperty(wt,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var Jb,Op,Dp,Pp,Fp,os=function(e){function t(n,r,a,i){var o=e.call(this,n.shape,n.dtype,n.dataId,i)||this;return o.trainable=r,o.name=a,o}return Ur(t,e),t.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!rn(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Yr().disposeTensor(this),this.dataId=n.dataId,Yr().incRef(this,null)},t.prototype.dispose=function(){Yr().disposeVariable(this),this.isDisposedInternal=!0},t}(wt);Object.defineProperty(os,Symbol.hasInstance,{value:function(e){return e instanceof wt&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Jb||(Jb={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Op||(Op={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Dp||(Dp={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Pp||(Pp={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Fp||(Fp={}));var e4={float32:Pp,int32:Op,bool:Dp,complex64:Fp};function fn(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return e4[e][t]}function ih(e){return fn(e,"int32")}function Ct(e,t){if(e.dtype===t.dtype)return[e,t];var n=fn(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function t4(e,t){O(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function zk(e){var t=[];return function n(r,a,i){if(r!=null){if(r instanceof wt)return void a.push(r);if(o=r,!(!Array.isArray(o)&&typeof o!="object")){var o,s=r;for(var u in s){var l=s[u];i.has(l)||(i.add(l),n(l,a,i))}}}}(e,t,new Set),t}var oh,Qb=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e}(),n4=function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Qb}return e.prototype.ready=function(){return we(this,void 0,void 0,function(){var t,n,r;return _e(this,function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),n=0,a.label=1;case 1:return n<t.length?(r=t[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,n,r){return r===void 0&&(r=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:r},!0)},e.prototype.setBackend=function(t){return we(this,void 0,void 0,function(){var n,r,a;return _e(this,function(i){switch(i.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return a=i.sent(),[3,3];case 2:a=r,i.label=3;case 3:if(!a)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new JM(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var t=this;Kb(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(t.backendInstance)})},e.prototype.disposeRegisteredKernels=function(t){var n=this;Kb(t).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[t])})},e.prototype.initializeBackend=function(t){var n=this,r=this.registryFactory[t];if(r==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var i=++this.pendingBackendInitId,o=a.then(function(s){return!(i<n.pendingBackendInitId)&&(n.registry[t]=s,n.pendingBackendInit=null,!0)}).catch(function(s){return!(i<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[t]=a,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return t.registryFactory[r].priority-t.registryFactory[n].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var r=t[n],a=this.initializeBackend(r),i=a.success,o=a.asyncInit;if(o||i)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,n){var r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n);a.disposeData(n),r.backend=t,t.move(n,i,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,n){var r,a=this,i=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return a.startScope(i)},function(){return a.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},e.prototype.scopedRun=function(t,n,r){t();try{var a=r();return n(),a}catch(i){throw n(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),r={x:t};return this.addTapeNode(this.state.activeScope.name,r,[n],function(a){return{x:function(){return a.toFloat()}}},[]),n},e.prototype.runKernel=function(t,n,r,a,i){return this.runKernelFunc(null,n,null,t,r,a,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,n,r){var a=this.backend.numDataIds(),i=0;r.forEach(function(u){i+=u.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-i-o;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,n,r,a,i,o,s){var u,l=this;o===void 0&&(o=[]),s===void 0&&(s=[]);var c=[],f=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var d,h=function(x){f&&(c=x.map(function(y){return l.keep(l.clone(y))}))},m=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,g=Pk(a,this.backendName);return d=g!=null?function(){var x=l.backend.numDataIds();v=g.kernelFunc({inputs:n,attrs:i,backend:l.backend});var y=Array.isArray(v)?v:[v];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,x,y);var b=y.map(function(_){var S=_.dataId,C=_.shape,k=_.dtype;return l.makeTensorFromDataId(S,C,k)}),w=b.filter(function(_,S){return s[S]});return h((o||[]).slice().concat(w)),b}:function(){var x=l.backend.numDataIds();v=l.tidy(function(){return t(l.backend,h)});var y=Array.isArray(v)?v:[v];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,x,y),y},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){u=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(a,n,function(){return d()}):d()}),f&&this.addTapeNode(a,n,u,r,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-m,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(x){return n[x].shape}),outputShapes:u.map(function(x){return x.shape})}),Array.isArray(v)?u:u[0]},e.prototype.makeTensor=function(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var i=t;r==="string"&&Zm(t[0])&&(i=t.map(function(c){return XM(c)}));var o=a.write(i,n,r),s=new wt(n,r,o,this.nextTensorId());if(this.incRef(s,a),r==="string"){var u=this.state.tensorInfo.get(o),l=KM(i);this.state.numBytes+=l-u.bytes,u.bytes=l}return s},e.prototype.makeTensorFromDataId=function(t,n,r,a){var i=new wt(n,r=r||"float32",t,this.nextTensorId());return this.incRef(i,a),i},e.prototype.makeVariable=function(t,n,r,a){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.asType(a));var i=new os(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(t,n){var r=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(a=t.size*Bk(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof os||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return we(this,void 0,void 0,function(){var n,r;return _e(this,function(a){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},u=BM(t);u!=null&&(a=u.gradFunc),a!=null&&(s.gradient=function(l){return l=l.map(function(c,f){if(c==null){var d=r[f],h=Yu(d.size,d.dtype);return o.makeTensor(h,d.shape,d.dtype)}return c}),a(l.length>1?l:l[0],i)}),this.state.activeTape.push(s)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},e.prototype.endScope=function(t){for(var n=this,r=zk(t),a=new Set(r.map(function(u){return u.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||a.has(o.id)||o.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(u){u.kept||u.scopeId!==s.id||n.track(u)})},e.prototype.gradients=function(t,n,r,a){var i=this;if(a===void 0&&(a=!1),O(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});O(o instanceof wt,function(){return"The result y returned by f() must be a tensor."});var s=function(u,l,c){for(var f={},d={},h=0;h<l.length;h++)f[l[h].id]=!0;for(h=0;h<u.length;h++){var m=(_=u[h]).inputs;for(var p in m){for(var v=m[p],g=!1,x=0;x<l.length;x++)if(f[v.id]){_.outputs.forEach(function(E){return f[E.id]=!0}),g=!0,d[_.id]=!0;break}if(g)break}}var y={};y[c.id]=!0;var b={};for(h=u.length-1;h>=0;h--)for(m=(_=u[h]).inputs,x=0;x<_.outputs.length;x++)if(y[_.outputs[x].id]){for(var p in m)y[m[p].id]=!0,b[_.id]=!0;break}var w=[];for(h=0;h<u.length;h++){var _;if(d[(_=u[h]).id]&&b[_.id]){var S={};for(var p in _.inputs){var C=_.inputs[p];f[C.id]&&(S[p]=C)}var k=Object.assign({},_);k.inputs=S,k.outputs=_.outputs,w.push(k)}}return w}(this.state.activeTape,n,o);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var u,l,c={};c[o.id]=r??(u=o.shape,l=Uk(ke(u),"float32"),U.makeTensor(l,u,"float32")),function(d,h,m){for(var p=function(g){var x=h[g],y=[];if(x.outputs.forEach(function(S){var C=d[S.id];C!=null?y.push(C):y.push(null)}),x.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+x.kernelName+".");var b=x.gradient(y),w=function(S){if(!(S in b))throw new Error("Cannot backprop through input "+S+". Available gradients found: "+Object.keys(b)+".");var C=m(function(){return b[S]()});if(C.dtype!=="float32")throw new Error("Error in gradient for op "+x.kernelName+". The gradient of input "+S+" must have 'float32' dtype, but has '"+C.dtype+"'");var k=x.inputs[S];if(!rn(C.shape,k.shape))throw new Error("Error in gradient for op "+x.kernelName+". The gradient of input '"+S+"' has shape '"+C.shape+"', which does not match the shape of the input '"+k.shape+"'");if(d[k.id]==null)d[k.id]=C;else{var E=d[k.id];d[k.id]=E.add(C),E.dispose()}};for(var _ in x.inputs)w(_)},v=h.length-1;v>=0;v--)p(v)}(c,s,function(d){return i.tidy(d)});var f=n.map(function(d){return c[d.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(d){for(var h=0,m=d.saved;h<m.length;h++)m[h].dispose()}),i.state.activeTape=null),{value:o,grads:f}})},e.prototype.customGrad=function(t){var n=this;return O(Rp(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];O(a.every(function(s){return s instanceof wt}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return a.forEach(function(s,u){o[u]=s}),n.runKernelFunc(function(s,u){return O((r=t.apply(void 0,a.concat([u]))).value instanceof wt,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),O(Rp(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},o,function(s,u){var l=r.gradFunc(s,u),c=Array.isArray(l)?l:[l];O(c.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),O(c.every(function(d){return d instanceof wt}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var f={};return c.forEach(function(d,h){f[h]=function(){return d}}),f})}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return we(this,void 0,void 0,function(){var n,r;return _e(this,function(a){switch(a.label){case 0:return n=Xr(),[4,this.backend.time(t)];case 1:return(r=a.sent()).wallMs=Xr()-n,[2,r]}})})},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Qb,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),U=function(){var e=function(){if(oh==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}oh=n}return oh}();if(e._tfengine==null){var t=new MM(e);e._tfengine=new n4(t)}return function(n){Dk=n}(e._tfengine.ENV),Yr=function(){return e._tfengine},e._tfengine}();function Gk(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var va=Q();va.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),va.registerFlag("IS_BROWSER",function(){return Gk()}),va.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),va.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),va.registerFlag("PROD",function(){return!1}),va.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return va.getBool("DEBUG")}),va.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),va.registerFlag("IS_TEST",function(){return!1});var wu,sr,rr,Ri={},sh={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function r4(e,t){Ri[e]=t}function la(e){e in Ri||(Ri[e]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete Ri[n]},!1),n===1?r.getContext("webgl",sh)||r.getContext("experimental-webgl",sh):r.getContext("webgl2",sh)}(e));var t=Ri[e];return t.isContextLost()?(delete Ri[e],la(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Ri[e])}function Xf(e,t){return[t,e]}function Ys(e){var t=ke(e);return Ip(Math.ceil(t/4))}function Ju(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function ev(e,t){var n,r,a,i,o,s,u,l,c,f=e;return Q().getNumber("WEBGL_VERSION")===2?(n=f.R32F,r=f.R16F,a=f.RGBA16F,i=f.RGBA32F,o=f.RED,s=4,u=1,l=f.HALF_FLOAT,c=f.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=f.RGBA,o=e.RGBA,s=4,u=4,l=t!=null?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function Ee(e,t,n){var r=n();return t&&function(a){var i=a.getError();if(i!==a.NO_ERROR)throw new Error("WebGL Error: "+s4(a,i))}(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(wu||(wu={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(sr||(sr={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(rr||(rr={}));var a4=596e-10,i4=65504;function o4(e){return!!(Q().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||a4<Math.abs(e)&&Math.abs(e)<i4)}function s4(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function El(e,t,n){return La(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function u4(e,t,n){var r=La(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Ee(e,t,function(){return e.shaderSource(r,n)}),Ee(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function l4(e,t,n){var r=La(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Ee(e,t,function(){return e.shaderSource(r,n)}),Ee(e,t,function(){return e.compileShader(r)}),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw function(a,i){var o=c4.exec(i);if(o==null)return console.log("Couldn't parse line number in error: "+i),void console.log(a);for(var s=+o[1],u=a.split(`
`),l=u.length.toString().length+2,c=u.map(function(v,g){return Wo((g+1).toString(),l)+v}),f=0,d=0;d<c.length;d++)f=Math.max(c[d].length,f);var h=c.slice(0,s-1),m=c.slice(s-1,s),p=c.slice(s);console.log(h.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+Wo(m[0],f),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join(`
`))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var uh,lh,c4=/ERROR: [0-9]+:([0-9]+):/g;function f4(e,t){return La(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function d4(e,t,n){if(Ee(e,t,function(){return e.linkProgram(n)}),e.getProgramParameter(n,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function ch(e,t,n){if(Ee(e,t,function(){return e.validateProgram(n)}),e.getProgramParameter(n,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function h4(e,t,n){var r=La(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Ee(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Ee(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function p4(e,t,n){var r=La(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Ee(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),Ee(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function m4(e,t){return La(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function v4(e,t){var n=Q().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function g4(e,t){return La(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function Zb(e,t,n,r,a,i,o,s){var u=e.getAttribLocation(n,r);return u!==-1&&(Ee(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,a)}),Ee(e,t,function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,o,s)}),Ee(e,t,function(){return e.enableVertexAttribArray(u)}),!0)}function y4(e,t,n,r){k4(e,r),Ee(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function b4(e,t,n,r){return La(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function x4(e,t,n){return e.getUniformLocation(t,n)}function w4(e,t,n,r,a,i){Ee(e,t,function(){return y4(e,t,r,i)}),Ee(e,t,function(){return e.uniform1i(a,i)})}function fh(e,t,n,r){Ee(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),Ee(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function e0(e,t,n){Ee(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),Ee(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function Cl(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+_4(e,t))}function _4(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function La(e,t,n,r){var a=Ee(e,t,function(){return n()});if(a==null)throw new Error(r);return a}function k4(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function Oc(e,t){return t===void 0&&(t=2),ke(e.slice(0,e.length-t))}function Dc(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function dh(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[Oc(e)].concat(Dc(e))),t}function E4(e,t){var n;t===void 0&&(t=!1);var r=Q().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,(e=e.map(function(l,c){return c>=e.length-2?Lk(e[c]):e[c]})).length===1&&(e=[2,e[0]])),e.length!==2){var a=Di(e);e=a.newShape}var i=ke(e);if(e.length<=1&&i<=r)return[1,i];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=Oc(e),s=2,u=2;return e.length&&(s=(n=Dc(e))[0],u=n[1]),Ip(i=o*(s/2)*(u/2)).map(function(l){return 2*l})}return Ip(i)}function Sl(e){return e%2==0}function Al(e,t){if(rn(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||Sl(n)&&Sl(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&Sl(e[0])&&Sl(t[0])}function C4(e){if(uh==null){var t=la(e);uh=t.getParameter(t.MAX_TEXTURE_SIZE)}return uh}function S4(e){if(lh==null){var t=la(e);lh=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,lh)}function A4(e){if(e===0)return 0;var t=la(e);return xr(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:xr(t,"EXT_disjoint_timer_query")?1:0}function xr(e,t){return e.getExtension(t)!=null}function t0(e){try{if(la(e)!=null)return!0}catch{return!1}return!1}function T4(e){if(e===0)return!1;var t=la(e);if(e===1){if(!xr(t,"OES_texture_float"))return!1}else if(!xr(t,"EXT_color_buffer_float"))return!1;return Mp(t)}function I4(e){if(e===0)return!1;var t=la(e);if(e!==1){if(xr(t,"EXT_color_buffer_float"))return Mp(t);if(xr(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(r,a){var i=ev(r,a),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texImage2D(r.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);var u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(s),u}(t,n)}return!1}return!!xr(t,"OES_texture_float")&&!!xr(t,"WEBGL_color_buffer_float")&&Mp(t)}function Mp(e){var t=ev(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function R4(e){return e===2&&la(e).fenceSync!=null}var Me=Q();function Kk(e){Q().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function ye(e,t){return U.tidy(e,t)}function qn(e){zk(e).forEach(function(t){return t.dispose()})}function N4(e){return U.keep(e)}function Pc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Q().getBool("IS_TEST")||console.warn.apply(console,e)}function ki(e,t){var n=e;if(ea(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||ea(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&Q().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(i,o,s){if(s=s||[],!Array.isArray(i)&&!ea(i))return void O(o.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+o[0]+" elements"});O(o.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),O(i.length===o[0],function(){return"Element arr["+s.join("][")+"] should have "+o[0]+" elements, but has "+i.length+" elements"});for(var u=o.slice(1),l=0;l<i.length;++l)a(i[l],u,s.concat(l))}(e,r,[]),r}function n0(e,t,n,r){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function R(e,t,n,r){if(r===void 0&&(r="numeric"),e instanceof wt)return n0(r,e.dtype,t,n),e;var a=Xu(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),n0(r,a,t,n),e==null||!ea(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var o=ki(e,a);ea(e)||Array.isArray(e)||(e=[e]);var s=a!=="string"?Vk(e,a,Q().getBool("DEBUG")):is(e,[],!0);return U.makeTensor(s,o,a)}function Fc(e,t,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(a,i){return R(a,t+"["+i+"]",n)},r)}function qk(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function O4(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)n.indexOf(s)===-1?a.push(e[i++]):a.push(t[o++]);return a}function mn(e,t){for(var n=[],r=e.length,a=0;a<r;a++)t.indexOf(a)===-1&&n.push(e[a]);return[n,t.map(function(i){return e[i]})]}function Xn(e,t){return O4(e,t.map(function(n){return 1}),t)}function nr(e,t,n){O(qk(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function ca(e,t){if(qk(e,t))return null;for(var n=[],r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(function(a){return n.push(a)}),n}function tv(e){return e.map(function(t,n){return[n,t]}).sort(function(t,n){return t[1]-n[1]}).map(function(t){return t[0]})}function fa(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function D4(e,t){var n=e[0].length;e.forEach(function(a,i){O(a.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+n+")"})}),O(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(a,i){for(var o=0;o<n;o++)O(o===t||a[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function ss(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function B(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];U.startScope(n);try{var s=r.apply(void 0,i);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),U.endScope(s),s}catch(u){throw U.endScope(null),u}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Me.registerFlag("HAS_WEBGL",function(){return Me.getNumber("WEBGL_VERSION")>0}),Me.registerFlag("WEBGL_VERSION",function(){return t0(2)?2:t0(1)?1:0}),Me.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return Me.get("WEBGL_VERSION")===2}),Me.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Me.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Me.registerFlag("WEBGL_PACK",function(){return Me.getBool("HAS_WEBGL")}),Me.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_CLIP",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Me.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_PACK_REDUCE",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_CONV_IM2COL",function(){return Me.getBool("WEBGL_PACK")}),Me.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return C4(Me.getNumber("WEBGL_VERSION"))}),Me.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return S4(Me.getNumber("WEBGL_VERSION"))}),Me.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=Me.getNumber("WEBGL_VERSION");return e===0?0:A4(e)}),Me.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Me.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),Me.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return T4(Me.getNumber("WEBGL_VERSION"))}),Me.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Me.getBool("WEBGL_FORCE_F16_TEXTURES")&&Me.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Me.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return I4(Me.getNumber("WEBGL_VERSION"))}),Me.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return R4(Me.getNumber("WEBGL_VERSION"))}),Me.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Me.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),Hk=Kk;var cn=B({complex_:function(e,t){var n=R(e,"real","complex"),r=R(t,"imag","complex");return ct(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),U.runKernelFunc(function(a){return a.complex(n,r)},{$real:n,$imag:r})}}),br=B({real_:function(e){var t=R(e,"input","real");return U.runKernelFunc(function(n){return n.real(t)},{$input:t})}}),Jr=B({imag_:function(e){var t=R(e,"input","imag");return U.runKernelFunc(function(n){return n.imag(t)},{$input:t})}});function dn(e,t,n){return Ei(e,t,ki(e,n),n)}function Ei(e,t,n,r){if(r==null&&(r=Xu(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ea(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){Wk(t);var a=ke(t),i=ke(n);O(a===i,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+i});for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==ke(t.slice(o));O(n[o]===t[o]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return ea(e)||Array.isArray(e)||(e=[e]),t=t||n,e=r!=="string"?Vk(e,r,Q().getBool("DEBUG")):is(e,[],!0),U.makeTensor(e,t,r)}function pe(e,t){if((ea(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&ea(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ei(e,[],[],t)}function Lt(e,t){ks(e);var n=ki(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ei(e,null,n,t)}function si(e,t,n){if(ks(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=ki(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ei(e,t,r,n)}function nv(e,t,n){if(ks(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=ki(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ei(e,t,r,n)}function Un(e,t,n){if(ks(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=ki(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ei(e,t,r,n)}function P4(e,t,n){if(ks(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=ki(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ei(e,t,r,n)}function F4(e,t,n){if(ks(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=ki(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ei(e,t=t||r,r,n)}function M4(e,t,n,r){return t===void 0&&(t=!0),U.makeVariable(e,t,n,r)}function Es(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=Es(e,"float32"),r=vt(e,"float32");return cn(n,r)}var a=Uk(ke(e),t);return U.makeTensor(a,e,t)}function vt(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=vt(e,"float32"),r=vt(e,"float32");return cn(n,r)}var a=Yu(ke(e),t);return U.makeTensor(a,e,t)}function na(e,t,n){return U.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function L4(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return U.runKernelFunc(function(r){return r.linspace(e,t,n)},{})}function Mc(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return vt([0],r);var a=Yu(Math.abs(Math.ceil((t-e)/n)),r);t<e&&n===1&&(n=-1),a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return Lt(a,r)}var $k=B({onesLike_:function(e){var t=R(e,"x","onesLike");if(t.dtype==="complex64"){var n=$k(br(t)),r=tt(Jr(t));return cn(n,r)}return U.runKernelFunc(function(a){return a.onesLike(t)},{$x:t},function(a,i){return{$x:function(){return tt(a)}}})}}),tt=B({zerosLike_:function(e){var t=R(e,"x","zerosLike");return U.runKernelFunc(function(n){return n.zerosLike(t)},{$x:t},function(n,r){return{$x:function(){return tt(n)}}})}}),Gt=B({concat_:function(e,t){t===void 0&&(t=0),O(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Fc(e,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),t=Yt(t,n[0].shape)[0];var r=ss(n.map(function(s){return s.shape}),t);if(ke(r)===0)return dn([],r);if((n=n.filter(function(s){return s.size>0})).length===1)return n[0];var a=n.map(function(s){return s.shape});D4(a,t);var i=n,o={axis:t};return U.runKernelFunc(function(s){return s.concat(n,t)},i,function(s){var u=a.map(function(l){return l[t]});return rv(s,u,t).map(function(l){return function(){return l}})},"Concat",o)}}),B4=B({concat1d_:function(e){return Gt(e,0)}}),V4=B({concat2d_:function(e,t){return Gt(e,t)}}),U4=B({concat3d_:function(e,t){return Gt(e,t)}}),W4=B({concat4d_:function(e,t){return Gt(e,t)}}),rv=B({split_:function(e,t,n){n===void 0&&(n=0);var r,a=R(e,"x","split");return n=Yt(n,a.shape)[0],typeof t=="number"?(O(a.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(a.shape[n]/t)):(O(a.shape[n]===t.reduce(function(i,o){return i+o}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),U.runKernelFunc(function(i){return i.split(a,r,n)},{$x:a},function(i){return{$x:function(){return Gt(i,n)}}})}});function ho(e,t){return e(t={exports:{}},t.exports),t.exports}var j4=ho(function(e){(function(t,n,r){function a(s){var u,l=this,c=(u=4022871197,function(f){f=f.toString();for(var d=0;d<f.length;d++){var h=.02519603282416938*(u+=f.charCodeAt(d));h-=u=h>>>0,u=(h*=u)>>>0,u+=4294967296*(h-=u)}return 23283064365386963e-26*(u>>>0)});l.next=function(){var f=2091639*l.s0+23283064365386963e-26*l.c;return l.s0=l.s1,l.s1=l.s2,l.s2=f-(l.c=0|f)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(s),l.s0<0&&(l.s0+=1),l.s1-=c(s),l.s1<0&&(l.s1+=1),l.s2-=c(s),l.s2<0&&(l.s2+=1),c=null}function i(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function o(s,u){var l=new a(s),c=u&&u.state,f=l.next;return f.int32=function(){return 4294967296*l.next()|0},f.double=function(){return f()+11102230246251565e-32*(2097152*f()|0)},f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.alea=o})(0,e)}),H4=ho(function(e){(function(t,n,r){function a(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var f=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^f^f>>>8},s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var l=new a(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.xor128=o})(0,e)}),z4=ho(function(e){(function(t,n,r){function a(s){var u=this,l="";u.next=function(){var f=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^f^f<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var l=new a(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.xorwow=o})(0,e)}),G4=ho(function(e){(function(t,n,r){function a(s){var u=this;u.next=function(){var l,c,f=u.x,d=u.i;return l=f[d],c=(l^=l>>>7)^l<<24,c^=(l=f[d+1&7])^l>>>10,c^=(l=f[d+3&7])^l>>>3,c^=(l=f[d+4&7])^l<<7,l=f[d+7&7],c^=(l^=l<<13)^l<<9,f[d]=c,u.i=d+1&7,c},function(l,c){var f,d=[];if(c===(0|c))d[0]=c;else for(c=""+c,f=0;f<c.length;++f)d[7&f]=d[7&f]<<15^c.charCodeAt(f)+d[f+1&7]<<13;for(;d.length<8;)d.push(0);for(f=0;f<8&&d[f]===0;++f);for(f==8?d[7]=-1:d[f],l.x=d,l.i=0,f=256;f>0;--f)l.next()}(u,s)}function i(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(c.x&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.xorshift7=o})(0,e)}),K4=ho(function(e){(function(t,n,r){function a(s){var u=this;u.next=function(){var l,c,f=u.w,d=u.X,h=u.i;return u.w=f=f+1640531527|0,c=d[h+34&127],l=d[h=h+1&127],c^=c<<13,l^=l<<17,c^=c>>>15,l^=l>>>12,c=d[h]=c^l,u.i=h,c+(f^f>>>16)|0},function(l,c){var f,d,h,m,p,v=[],g=128;for(c===(0|c)?(d=c,c=null):(c+="\0",d=0,g=Math.max(g,c.length)),h=0,m=-32;m<g;++m)c&&(d^=c.charCodeAt((m+32)%c.length)),m===0&&(p=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,m>=0&&(p=p+1640531527|0,h=(f=v[127&m]^=d+p)==0?h+1:0);for(h>=128&&(v[127&(c&&c.length||0)]=-1),h=127,m=512;m>0;--m)d=v[h+34&127],f=v[h=h+1&127],d^=d<<13,f^=f<<17,d^=d>>>15,f^=f>>>12,v[h]=d^f;l.w=p,l.X=v,l.i=h}(u,s)}function i(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var l=new a(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(c.X&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.xor4096=o})(0,e)}),q4=ho(function(e){(function(t,n,r){function a(s){var u=this,l="";u.next=function(){var f=u.b,d=u.c,h=u.d,m=u.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^m,m=m-f|0,u.b=f=f<<20^f>>>12^d,u.c=d=d-h|0,u.d=h<<16^d>>>16^m,u.a=m-f|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):l+=s;for(var c=0;c<l.length+20;c++)u.b^=0|l.charCodeAt(c),u.next()}function i(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var l=new a(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}n&&n.exports?n.exports=o:this.tychei=o})(0,e)}),Ni=ho(function(e){(function(t,n){var r,a=this,i=256,o=6,s="random",u=n.pow(i,o),l=n.pow(2,52),c=2*l,f=i-1;function d(g,x,y){var b=[],w=p(function C(k,E){var T,A=[],I=typeof k;if(E&&I=="object")for(T in k)try{A.push(C(k[T],E-1))}catch{}return A.length?A:I=="string"?k:k+"\0"}((x=x==1?{entropy:!0}:x||{}).entropy?[g,v(t)]:g??function(){try{var C;return r&&(C=r.randomBytes)?C=C(i):(C=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(C)),v(C)}catch{var k=a.navigator,E=k&&k.plugins;return[+new Date,a,E,a.screen,v(t)]}}(),3),b),_=new h(b),S=function(){for(var C=_.g(o),k=u,E=0;C<l;)C=(C+E)*i,k*=i,E=_.g(1);for(;C>=c;)C/=2,k/=2,E>>>=1;return(C+E)/k};return S.int32=function(){return 0|_.g(4)},S.quick=function(){return _.g(4)/4294967296},S.double=S,p(v(_.S),t),(x.pass||y||function(C,k,E,T){return T&&(T.S&&m(T,_),C.state=function(){return m(_,{})}),E?(n[s]=C,k):C})(S,w,"global"in x?x.global:this==n,x.state)}function h(g){var x,y=g.length,b=this,w=0,_=b.i=b.j=0,S=b.S=[];for(y||(g=[y++]);w<i;)S[w]=w++;for(w=0;w<i;w++)S[w]=S[_=f&_+g[w%y]+(x=S[w])],S[_]=x;(b.g=function(C){for(var k,E=0,T=b.i,A=b.j,I=b.S;C--;)k=I[T=f&T+1],E=E*i+I[f&(I[T]=I[A=f&A+k])+(I[A]=k)];return b.i=T,b.j=A,E})(i)}function m(g,x){return x.i=g.i,x.j=g.j,x.S=g.S.slice(),x}function p(g,x){for(var y,b=g+"",w=0;w<b.length;)x[f&w]=f&(y^=19*x[f&w])+b.charCodeAt(w++);return v(x)}function v(g){return String.fromCharCode.apply(0,g)}if(n["seed"+s]=d,p(n.random(),t),e.exports){e.exports=d;try{r=require("crypto")}catch{}}})([],Math)});Ni.alea=j4,Ni.xor128=H4,Ni.xorwow=z4,Ni.xorshift7=G4,Ni.xor4096=K4,Ni.tychei=q4;var Yf=Ni.alea,av=function(){function e(t,n,r,a,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Yf(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,r,a=!1;!a;){var i=void 0,o=void 0,s=void 0;do s=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);n=this.mean+this.stdDev*i*u,r=this.mean+this.stdDev*o*u,this.truncated&&!this.isValidTruncated(n)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e}(),$4=function(){function e(t,n,r,a){this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=Yf(i.toString()),this.randn=new av(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,n,r,a,i,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,n=1-.331*(t=a*a)*t,r=.5*t+this.d*(1-o+Math.log(o)),(i=this.randu())<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e}(),X4=function(){function e(t,n,r,a){var i=this;if(t===void 0&&(t=0),n===void 0&&(n=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=t,this.range=n-t,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=Yf(a)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Ve(e,t,n){return t===void 0&&(t="float32"),t=t||"float32",Wk(e),new xu(e,t,n)}function Y4(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var Xk=B({batchToSpaceND_:function(e,t,n){var r=R(e,"x","batchToSpaceND"),a=t.reduce(function(i,o){return i*o});return O(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),O(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),O(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a}),U.runKernelFunc(function(i){return i.batchToSpaceND(r,t,n)},{$x:r},function(i){return{$x:function(){return i.spaceToBatchND(t,n)}}})}}),J4=B({broadcastTo_:function(e,t){var n=R(e,"broadcastTo","x"),r=n.shape;if(t.some(function(u){return!(u>0)||u%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=n.reshape(a)}for(var i=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])i[o]=1;else if(n.shape[o]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map(function(u,l){return u>1?l:-1}).filter(function(u){return u>=0});return s.length===0?n.clone():U.runKernelFunc(function(u){return u.tile(n,i)},{input:n},function(u){return{input:function(){return u.sum(s,!0)}}})}}),Q4=B({cast_:function(e,t){var n=R(e,"x","cast");if(!zM(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:t};return U.runKernelFunc(function(a){return a.cast(n,t)},{x:n},function(a){return{x:function(){return a.clone()}}},"Cast",r)}}),Z4=B({clone_:function(e){var t=R(e,"x","clone",null);return U.runKernelFunc(function(){return U.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(n){return{$x:function(){return n.toFloat()}}})}}),eL=B({cumsum_:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var a=R(e,"x","cumsum"),i=ca([t|=0],a.rank),o=a;i!=null&&(o=a.transpose(i));var s=fa(1,a.rank)[0],u=U.runKernelFunc(function(l){return l.cumsum(o,s,n,r)},{permutedX:o},function(l){return{permutedX:function(){return l.cumsum(t,n,!r)}}});return i!=null&&(u=u.transpose(i)),u}}),tL=B({depthToSpace_:function(e,t,n){n===void 0&&(n="NHWC");var r=R(e,"x","depthToSpace"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];return O(a*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+`  for depthToSpace with input shape
      `+r.shape}),O(i*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+` for depthToSpace with input shape
          `+r.shape}),O(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape}),U.runKernelFunc(function(s){return s.depthToSpace(r,t,n)},{$x:r})}}),yr=B({expandDims_:function(e,t){t===void 0&&(t=0);var n=R(e,"x","expandDims",null);O(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(O(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),Nr(n,r)}}),Yk=B({eye_:function(e,t,n,r){r===void 0&&(r="float32"),t==null&&(t=e);for(var a=Ve([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=a.toTensor().as2D(e,t);if(n==null)return s;if(n.length===1)return jo(yr(s,0),[n[0],1,1]);if(n.length===2)return jo(yr(yr(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return jo(yr(yr(yr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),nL=B({multinomial_:function(e,t,n,r){r===void 0&&(r=!1);var a=R(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=o===1?a.as2D(1,-1):a,u=U.runKernelFunc(function(l){return l.multinomial(s,r,t,n)},{logits2D:s});return o===1?u.as1D():u}}),Lp=B({oneHot_:function(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=R(e,"indices","oneHot","int32"),i=a.shape.concat([t]);return a=a.flatten(),U.runKernelFunc(function(o){return o.oneHot(a,t,n,r)},{$indices:a},function(o){return{$indices:function(){return vt(a.shape,"float32")}}}).reshape(i)}}),po=B({pad_:function(e,t,n){n===void 0&&(n=0);var r=R(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n};return U.runKernelFunc(function(i){return i.pad(r,t,n)},{x:r},function(i){var o=t.map(function(s){return s[0]});return{x:function(){return i.slice(o,r.shape)}}},"PadV2",a)}}),rL=B({pad1d_:function(e,t,n){return n===void 0&&(n=0),O(t.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),po(e,[t],n)}}),aL=B({pad2d_:function(e,t,n){return n===void 0&&(n=0),O(t.length===2&&t[0].length===2&&t[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),po(e,t,n)}}),iL=B({pad3d_:function(e,t,n){return n===void 0&&(n=0),O(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),po(e,t,n)}}),oL=B({pad4d_:function(e,t,n){return n===void 0&&(n=0),O(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),po(e,t,n)}}),sL=B({rand_:function(e,t,n){var r=ke(e),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return U.makeTensor(a,e,n)}}),uL=B({randomNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new av(t,n,r,!1,a),o=Ve(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),lL=B({randomGamma_:function(e,t,n,r,a){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var i=new $4(t,n,r,a),o=Ve(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Jk=B({randomUniform_:function(e,t,n,r,a){t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var i=Ve(e,r),o=new X4(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),Nr=B({reshape_:function(e,t){var n=R(e,"x","reshape",null);t=jM(t,n.size),O(n.size===ke(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return U.runKernelFunc(function(a){return a.reshape(n,t)},{x:n},function(a){return{x:function(){return a.reshape(n.shape)}}},"Reshape",r)}}),Qk=B({spaceToBatchND_:function(e,t,n){var r=R(e,"x","spaceToBatchND");return O(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),O(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),O(r.shape.reduce(function(a,i,o){return o>0&&o<=t.length?a&&(i+n[o-1][0]+n[o-1][1])%t[o-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),U.runKernelFunc(function(a){return a.spaceToBatchND(r,t,n)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(t,n)}}})}}),Zk=B({squeeze_:function(e,t){var n=R(e,"x","squeeze");return Nr(n,Di(n.shape,t).newShape)}}),hr=B({stack_:function(e,t){t===void 0&&(t=0);var n=Fc(e,"tensors","stack");if(O(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(t);var r=n[0].rank,a=n[0].shape,i=n[0].dtype;O(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(s){ct(a,s.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(s){O(i===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(s){return s.expandDims(t)});return Gt(o,t)}}),jo=B({tile_:function(e,t){var n=R(e,"x","tile",null);O(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],a={reps:t};return U.runKernelFunc(function(i,o){var s=i.tile(n,t);return o([n]),s},{x:n},function(i,o){var s=o[0];return{x:function(){var u=tt(s);if(s.rank===1)for(var l=0;l<t[0];++l)u=u.add(i.slice([l*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(l=0;l<t[0];++l)for(var c=0;c<t[1];++c)u=u.add(i.slice([l*s.shape[0],c*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(l=0;l<t[0];++l)for(c=0;c<t[1];++c)for(var f=0;f<t[2];++f)u=u.add(i.slice([l*s.shape[0],c*s.shape[1],f*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(l=0;l<t[0];++l)for(c=0;c<t[1];++c)for(f=0;f<t[2];++f)for(var d=0;d<t[3];++d)u=u.add(i.slice([l*s.shape[0],c*s.shape[1],f*s.shape[2],d*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}},"Tile",a,r)}}),cL=B({truncatedNormal_:function(e,t,n,r,a){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new av(t,n,r,!0,a),o=Ve(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Kt=B({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var n=R(e,"x","unstack");O(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return U.runKernelFunc(function(a){return a.unstack(n,t)},{x:n},function(a){return{x:function(){return hr(a,t)}}},"Unpack",r)}}),fL=function(e,t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,c,f;return _e(this,function(d){switch(d.label){case 0:return n=R(e,"x","setdiff1d"),r=R(t,"y","setdiff1d"),O(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),O(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),O(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return a=d.sent(),[4,r.data()];case 2:for(i=d.sent(),o=new Set(i),s=0,c=0;c<a.length;c++)o.has(a[c])||s++;for(u=new xu([s],n.dtype),l=new xu([s],"int32"),c=0,f=0;c<a.length;c++)o.has(a[c])||(u.values[f]=a[c],l.values[f]=c,f++);return[2,[u.toTensor(),l.toTensor()]]}})})};function Lc(e,t,n,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function Bc(e,t,n){n===void 0&&(n=!0);var r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{var i=[],o=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?o.push(a):i.push(a);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function Vc(e,t,n,r){r===void 0&&(r=!0);var a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function eE(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function tE(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function nE(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],a=1,i=0;i<n.length-1;++i)a*=n[i];var o=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=o[i],s.push(o[i]);var l=ta(e.shape).map(function(c){return c/u}).concat([1]).slice(0,r);return[s,a,u,l]}var rE=30;function hh(e){return e<=rE?e:Np(e,Math.floor(Math.sqrt(e)))}function dL(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(i+" update.rank < "+a+". ");if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(i+" updates.shape["+(o+a)+"] ("+n.shape[o+a]+") != shape["+(o+a)+"] ("+e[o+a]+")")}function hL(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}dL(n,t,e)}function Uc(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:ke(t.shape)/u,sliceSize:o,strides:ta(n.slice(0,a)).concat([1]),outputSize:ke(n)}}function pL(e,t,n){O(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),O(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(i){O(t[i]+n[i]<=e.shape[i],function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(t[i]+n[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"})},a=0;a<e.rank;++a)r(a)}function r0(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function iv(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function mL(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=Tp(0,i,s-1)}function vL(e,t,n,r,a){var i=t[a],o=n[a]||1;(e&1<<a||i==null)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=o>0?Tp(0,i,s):Tp(-1,i,s-1)}function aE(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function iE(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function gL(e,t){O(Rp(e),function(){return"The f passed in variableGrads(f) must be a function"}),O(t==null||Array.isArray(t)&&t.every(function(c){return c instanceof os}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=t!=null;if(!n)for(var r in t=[],U.registeredVariables)t.push(U.registeredVariables[r]);var a=n?t.filter(function(c){return!c.trainable}):null,i=t.length;O((t=t.filter(function(c){return c.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var o=U.gradients(e,t,null,!0),s=o.value,u=o.grads;O(u.some(function(c){return c!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),O(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var l={};return t.forEach(function(c,f){u[f]!=null&&(l[c.name]=u[f])}),a!=null&&a.forEach(function(c){return l[c.name]=null}),{value:s,grads:l}}function Jf(e){return U.customGrad(e)}var Ba=B({softmax_:function(e,t){t===void 0&&(t=-1);var n=R(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return U.runKernelFunc(function(r,a){var i=r.softmax(n,t);return a([i]),i},{logits:n},function(r,a){var i=a[0],o=r.mul(i);return{logits:function(){return o.sub(o.sum([t],!0).mul(i))}}},"Softmax",{dim:t},[],[!0])}}),yL=B({logSoftmax_:function(e,t){t===void 0&&(t=-1);var n=R(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Jf(function(r,a){var i=r.max(t,!0),o=r.sub(i),s=o.toFloat().sub(o.exp().sum(t,!0).log());return a([s]),{value:s,gradFunc:function(u,l){var c=l[0].exp();return u.sub(u.sum(t,!0).mul(c))}}})(n)}}),oE=function(){function e(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),sE=function(){function e(){}return e.prototype.time=function(t){return K("time")},e.prototype.read=function(t){return K("read")},e.prototype.readSync=function(t){return K("readSync")},e.prototype.numDataIds=function(){return K("numDataIds")},e.prototype.disposeData=function(t){return K("disposeData")},e.prototype.write=function(t,n,r){return K("write")},e.prototype.move=function(t,n,r,a){return K("move")},e.prototype.memory=function(){return K("memory")},e.prototype.floatPrecision=function(){return K("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,n,r,a){return K("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,K("fusedBatchMatMul")},e.prototype.slice=function(t,n,r){return K("slice")},e.prototype.stridedSlice=function(t,n,r,a){return K("stridedSlice")},e.prototype.unstack=function(t,n){return K("unstack")},e.prototype.reverse=function(t,n){return K("reverse")},e.prototype.concat=function(t,n){return K("concat")},e.prototype.neg=function(t){return K("neg")},e.prototype.add=function(t,n){return K("add")},e.prototype.addN=function(t){return K("addN")},e.prototype.subtract=function(t,n){return K("subtract")},e.prototype.multiply=function(t,n){return K("multiply")},e.prototype.realDivide=function(t,n){return K("realDivide")},e.prototype.floorDiv=function(t,n){return K("floorDiv")},e.prototype.sum=function(t,n){return K("sum")},e.prototype.prod=function(t,n){return K("prod")},e.prototype.unsortedSegmentSum=function(t,n,r){return K("unsortedSegmentSum")},e.prototype.argMin=function(t,n){return K("argMin")},e.prototype.argMax=function(t,n){return K("argMax")},e.prototype.equal=function(t,n){return K("equal")},e.prototype.notEqual=function(t,n){return K("notEqual")},e.prototype.less=function(t,n){return K("less")},e.prototype.lessEqual=function(t,n){return K("lessEqual")},e.prototype.greater=function(t,n){return K("greater")},e.prototype.greaterEqual=function(t,n){return K("greaterEqual")},e.prototype.logicalNot=function(t){return K("logicalNot")},e.prototype.logicalAnd=function(t,n){return K("logicalAnd")},e.prototype.logicalOr=function(t,n){return K("logicalOr")},e.prototype.where=function(t){return K("where")},e.prototype.select=function(t,n,r){return K("select")},e.prototype.topk=function(t,n,r){return K("topk")},e.prototype.min=function(t,n){return K("min")},e.prototype.minimum=function(t,n){return K("minimum")},e.prototype.mod=function(t,n){return K("mod")},e.prototype.max=function(t,n){return K("max")},e.prototype.maximum=function(t,n){return K("maximum")},e.prototype.all=function(t,n){return K("all")},e.prototype.any=function(t,n){return K("any")},e.prototype.squaredDifference=function(t,n){return K("squaredDifference")},e.prototype.ceil=function(t){return K("ceil")},e.prototype.floor=function(t){return K("floor")},e.prototype.round=function(t){return K("round")},e.prototype.sign=function(t){return K("sign")},e.prototype.isNaN=function(t){return K("isNaN")},e.prototype.isInf=function(t){return K("isInf")},e.prototype.isFinite=function(t){return K("isFinite")},e.prototype.pow=function(t,n){return K("pow")},e.prototype.exp=function(t){return K("exp")},e.prototype.expm1=function(t){return K("expm1")},e.prototype.softmax=function(t,n){return K("softmax")},e.prototype.log=function(t){return K("log")},e.prototype.log1p=function(t){return K("log1p")},e.prototype.sqrt=function(t){return K("sqrt")},e.prototype.rsqrt=function(t){return K("rsqrt")},e.prototype.square=function(t){return K("square")},e.prototype.reciprocal=function(t){return K("reciprocal")},e.prototype.relu=function(t){return K("relu")},e.prototype.relu6=function(t){return K("relu6")},e.prototype.prelu=function(t,n){return K("prelu")},e.prototype.elu=function(t){return K("elu")},e.prototype.eluDer=function(t,n){return K("eluDer")},e.prototype.selu=function(t){return K("selu")},e.prototype.int=function(t){return K("int")},e.prototype.clip=function(t,n,r){return K("clip")},e.prototype.abs=function(t){return K("abs")},e.prototype.complexAbs=function(t){return K("complexAbs")},e.prototype.sigmoid=function(t){return K("sigmoid")},e.prototype.softplus=function(t){return K("softplus")},e.prototype.sin=function(t){return K("sin")},e.prototype.cos=function(t){return K("cos")},e.prototype.tan=function(t){return K("tan")},e.prototype.asin=function(t){return K("asin")},e.prototype.acos=function(t){return K("acos")},e.prototype.atan=function(t){return K("atan")},e.prototype.atan2=function(t,n){return K("atan2")},e.prototype.sinh=function(t){return K("sinh")},e.prototype.cosh=function(t){return K("cosh")},e.prototype.tanh=function(t){return K("tanh")},e.prototype.asinh=function(t){return K("asinh")},e.prototype.acosh=function(t){return K("acosh")},e.prototype.atanh=function(t){return K("atanh")},e.prototype.erf=function(t){return K("erf")},e.prototype.step=function(t,n){return K("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,K("fusedConv2d")},e.prototype.conv2d=function(t,n,r){return K("conv2d")},e.prototype.conv2dDerInput=function(t,n,r){return K("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,n,r){return K("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,K("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,n,r){return K("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,n,r){return K("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,n,r){return K("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,n,r){return K("conv3d")},e.prototype.conv3dDerInput=function(t,n,r){return K("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,n,r){return K("conv3dDerFilter")},e.prototype.maxPool=function(t,n){return K("maxPool")},e.prototype.maxPoolBackprop=function(t,n,r,a){return K("maxPoolBackprop")},e.prototype.avgPool=function(t,n){return K("avgPool")},e.prototype.avgPoolBackprop=function(t,n,r){return K("avgPoolBackprop")},e.prototype.avgPool3d=function(t,n){return K("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,n,r){return K("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,n){return K("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,n,r,a){return K("maxPool3dBackprop")},e.prototype.reshape=function(t,n){return K("reshape")},e.prototype.cast=function(t,n){return K("cast")},e.prototype.tile=function(t,n){return K("tile")},e.prototype.pad=function(t,n,r){return K("pad")},e.prototype.transpose=function(t,n){return K("transpose")},e.prototype.gather=function(t,n,r){return K("gather")},e.prototype.gatherND=function(t,n){return K("gatherND")},e.prototype.scatterND=function(t,n,r){return K("scatterND")},e.prototype.batchToSpaceND=function(t,n,r){return K("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,n,r){return K("spaceToBatchND")},e.prototype.resizeBilinear=function(t,n,r,a){return K("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,n,r){return K("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,n,r,a){return K("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,n,r){return K("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,n,r,a,i,o){return K("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,n,r,a,i){return K("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,n,r,a,i,o,s){return K("LRNGrad")},e.prototype.multinomial=function(t,n,r,a){return K("multinomial")},e.prototype.oneHot=function(t,n,r,a){return K("oneHot")},e.prototype.cumsum=function(t,n,r,a){return K("cumsum")},e.prototype.nonMaxSuppression=function(t,n,r,a,i){return K("nonMaxSuppression")},e.prototype.fft=function(t){return K("fft")},e.prototype.ifft=function(t){return K("ifft")},e.prototype.complex=function(t,n){return K("complex")},e.prototype.real=function(t){return K("real")},e.prototype.imag=function(t){return K("imag")},e.prototype.cropAndResize=function(t,n,r,a,i,o){return K("cropAndResize")},e.prototype.depthToSpace=function(t,n,r){return K("depthToSpace")},e.prototype.split=function(t,n,r){return K("split")},e.prototype.sparseToDense=function(t,n,r,a){return K("sparseToDense")},e.prototype.diag=function(t){return K("diag")},e.prototype.fill=function(t,n,r){return K("fill")},e.prototype.onesLike=function(t){return K("onesLike")},e.prototype.zerosLike=function(t){return K("zerosLike")},e.prototype.linspace=function(t,n,r){return K("linspace")},e.prototype.dispose=function(){return K("dispose")},e}();function K(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function ti(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function qt(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function Je(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];i==null&&(i=1);var o=t[t.length-a-1];if(o==null&&(o=1),i===1)n.unshift(o);else if(o===1)n.unshift(i);else{if(i!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function _u(e,t,n,r,a,i,o){o===void 0&&(o="channelsLast");var s,u=Hc(t),l=u[0],c=u[1];if(o==="channelsLast")s=[l,c,e[3],e[3]];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);s=[l,c,e[1],e[1]]}return mo(e,s,n,r,a,i,!1,o)}function Wc(e,t,n,r,a,i,o){o===void 0&&(o="NDHWC");var s,u,l=Bp(t),c=l[0],f=l[1],d=l[2];if(o==="NDHWC")u="channelsLast",s=[c,f,d,e[4],e[4]];else{if(o!=="NCDHW")throw new Error("Unknown dataFormat "+o);u="channelsFirst",s=[c,f,d,e[1],e[1]]}return jc(e,s,n,r,a,!1,u,i)}function mo(e,t,n,r,a,i,o,s){o===void 0&&(o=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3];if(s==="channelsLast")l=e[0],c=e[1],f=e[2],d=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);l=e[0],d=e[1],c=e[2],f=e[3]}var h,m=t[0],p=t[1],v=t[3],g=Hc(n),x=g[0],y=g[1],b=Hc(r),w=b[0],_=b[1],S=Ho(m,w),C=Ho(p,_),k=function(D,M,L,W,V,H,X,ae){var se,me,Ne;if(typeof D=="number"){se={top:D,bottom:D,left:D,right:D,type:D===0?"VALID":"NUMBER"};var Ie=function(be,Oe,N,P,z){P==null&&(P=uE(be,Oe,N));var Z=be[0],J=be[1],re=Js((Z-Oe+2*P)/N+1,z);O(Pt(re),function(){return"The output # of rows ("+re+") must be an integer. Change the stride and/or zero pad parameters"});var ue=Js((J-Oe+2*P)/N+1,z);return O(Pt(ue),function(){return"The output # of columns ("+ue+") must be an integer. Change the stride and/or zero pad parameters"}),[re,ue]}([M,L],H,W,D,ae);me=Ie[0],Ne=Ie[1]}else if(D==="same"){me=Math.ceil(M/W),Ne=Math.ceil(L/V);var de=Math.max(0,(me-1)*W+H-M),G=Math.max(0,(Ne-1)*V+X-L),ee=Math.floor(de/2),te=de-ee,ce=Math.floor(G/2);se={top:ee,bottom:te,left:ce,right:G-ce,type:"SAME"}}else{if(D!=="valid")throw Error("Unknown padding parameter: "+D);se={top:0,bottom:0,left:0,right:0,type:"VALID"},me=Math.ceil((M-H+1)/W),Ne=Math.ceil((L-X+1)/V)}return{padInfo:se,outHeight:me,outWidth:Ne}}(a,c,f,x,y,S,C,i),E=k.padInfo,T=k.outHeight,A=k.outWidth,I=o?v*d:v;return s==="channelsFirst"?h=[l,I,T,A]:s==="channelsLast"&&(h=[l,T,A,I]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:d,outHeight:T,outWidth:A,outChannels:I,padInfo:E,strideHeight:x,strideWidth:y,filterHeight:m,filterWidth:p,effectiveFilterHeight:S,effectiveFilterWidth:C,dilationHeight:w,dilationWidth:_,inShape:e,outShape:h,filterShape:t}}function jc(e,t,n,r,a,i,o,s){i===void 0&&(i=!1),o===void 0&&(o="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3],h=u[4];if(o==="channelsLast")l=e[0],c=e[1],f=e[2],d=e[3],h=e[4];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);l=e[0],h=e[1],c=e[2],f=e[3],d=e[4]}var m,p=t[0],v=t[1],g=t[2],x=t[4],y=Bp(n),b=y[0],w=y[1],_=y[2],S=Bp(r),C=S[0],k=S[1],E=S[2],T=Ho(p,C),A=Ho(v,k),I=Ho(g,E),D=function(X,ae,se,me,Ne,Ie,de,G,ee,te,ce){var be,Oe,N,P;if(typeof X=="number"){be={top:X,bottom:X,left:X,right:X,front:X,back:X,type:X===0?"VALID":"NUMBER"};var z=function(he,xe,Pe,je,$e,nt){$e==null&&($e=uE(he,xe,je));var Tn=he[0],Qt=he[1],Zn=he[2],un=Js((Tn-xe+2*$e)/je+1,nt);O(Pt(un),function(){return"The output # of depths ("+un+") must be an integer. Change the stride and/or zero pad parameters"});var ha=Js((Qt-xe+2*$e)/je+1,nt);O(Pt(ha),function(){return"The output # of rows ("+ha+") must be an integer. Change the stride and/or zero pad parameters"});var yo=Js((Zn-xe+2*$e)/je+1,nt);return O(Pt(yo),function(){return"The output # of columns ("+yo+") must be an integer. Change the stride and/or zero pad parameters"}),[un,ha,yo,Pe]}([ae,se,me,1],G,1,Ne,X,ce);Oe=z[0],N=z[1],P=z[2]}else if(X==="same"){Oe=Math.ceil(ae/Ne),N=Math.ceil(se/Ie),P=Math.ceil(me/de);var Z=(Oe-1)*Ne+G-ae,J=(N-1)*Ie+ee-se,re=(P-1)*de+te-me,ue=Math.floor(Z/2),le=Z-ue,oe=Math.floor(J/2),ie=J-oe,Ae=Math.floor(re/2);be={top:oe,bottom:ie,left:Ae,right:re-Ae,front:ue,back:le,type:"SAME"}}else{if(X!=="valid")throw Error("Unknown padding parameter: "+X);be={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Oe=Math.ceil((ae-G+1)/Ne),N=Math.ceil((se-ee+1)/Ie),P=Math.ceil((me-te+1)/de)}return{padInfo:be,outDepth:Oe,outHeight:N,outWidth:P}}(a,c,f,d,b,w,_,T,A,I,s),M=D.padInfo,L=D.outDepth,W=D.outHeight,V=D.outWidth,H=i?x*h:x;return o==="channelsFirst"?m=[l,H,L,W,V]:o==="channelsLast"&&(m=[l,L,W,V,H]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:f,inWidth:d,inChannels:h,outDepth:L,outHeight:W,outWidth:V,outChannels:H,padInfo:M,strideDepth:b,strideHeight:w,strideWidth:_,filterDepth:p,filterHeight:v,filterWidth:g,effectiveFilterDepth:T,effectiveFilterHeight:A,effectiveFilterWidth:I,dilationDepth:C,dilationHeight:k,dilationWidth:E,inShape:e,outShape:m,filterShape:t}}function uE(e,t,n,r){r===void 0&&(r=1);var a=Ho(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function Hc(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function Bp(e){return typeof e=="number"?[e,e,e]:e}function Ho(e,t){return t<=1?e:e+(e-1)*(t-1)}function Js(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function us(e){var t=Hc(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function Yn(e,t){return us(e)||us(t)}function ov(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function lE(e,t,n){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var r=vt(e.shape),a=e.toFloat(),i=n.complex(a,r);return r.dispose(),a.dispose(),i}if(!GM(e.dtype,t))return U.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var o=n.real(e);return i=o.cast(t),o.dispose(),i}if(t==="int32")return n.int(e);if(t==="bool"){var s=pe(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Vp(e,t){return U.makeTensorFromDataId(e.dataId,t,e.dtype)}function cE(e,t,n){var r=(t-e)/(n-1),a=Yu(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return Lt(a,"float32")}function Up(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function a0(e,t){return{real:e[2*t],imag:e[2*t+1]}}function bL(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function xL(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function wL(e,t,n){var r=function(i,o,s){return function(u,l,c){for(var f=0,d=u.length,h=0,m=!1;f<d;){var p=c(l,u[h=f+(d-f>>>1)]);p>0?f=h+1:(d=h,m=!p)}return m?f:-f-1}(i,o,s||_L)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function _L(e,t){return e>t?1:e<t?-1:0}function sv(e,t,n,r,a){return fE(e,t,n,r,a,0).selectedIndices}function uv(e,t,n,r,a,i){var o=fE(e,t,n,r,a,i);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function fE(e,t,n,r,a,i,o,s){s===void 0&&(s=!1);for(var u=Array.from(t).map(function(b,w){return{score:b,boxIndex:w,suppressBeginIndex:0}}).filter(function(b){return b.score>a}).sort(i0),l=i>0?-.5/i:0,c=[],f=[];c.length<n&&u.length>0;){var d=u.pop(),h=d.score,m=d.boxIndex,p=d.suppressBeginIndex;if(h<a)break;for(var v=!1,g=c.length-1;g>=p;--g){var x=kL(e,m,c[g]);if(x>=r){v=!0;break}if(d.score=d.score*EL(r,l,x),d.score<=a)break}d.suppressBeginIndex=c.length,v||(d.score===h?(c.push(m),f.push(d.score)):d.score>a&&wL(u,d,i0))}var y=c.length;return s&&(c.fill(0,y),f.fill(0,y)),{selectedIndices:Lt(c,"int32"),selectedScores:Lt(f,"float32"),numValidOutputs:pe(y,"int32")}}function kL(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(s-i)*(u-o),m=(f-l)*(d-c);if(h<=0||m<=0)return 0;var p=Math.max(i,l),v=Math.max(o,c),g=Math.min(s,f),x=Math.min(u,d),y=Math.max(g-p,0)*Math.max(x-v,0);return y/(h+m-y)}function EL(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function i0(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function dE(e,t,n){var r=new Array(e.rank).fill(0),a=e.shape.slice();return t.map(function(i){a[n]=i;var o=e.slice(r,a);return r[n]+=i,o})}function hE(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var a=Ve(n,e.dtype);for(r=0;r<a.values.length;++r){for(var i=a.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=i[s]%e.shape[s];var u=e.locToIndex(o);a.values[r]=e.values[u]}return a.toTensor()}function pE(e,t,n,r,a){for(var i=t[t.length-1],o=[e.length/i,i],s=o[0],u=o[1],l=bu(n,s*r),c=bu("int32",s*r),f=0;f<s;f++){for(var d=f*u,h=e.subarray(d,d+u),m=[],p=0;p<h.length;p++)m.push({value:h[p],index:p});m.sort(function(b,w){return w.value-b.value});var v=f*r,g=l.subarray(v,v+r),x=c.subarray(v,v+r);for(p=0;p<r;p++)g[p]=m[p].value,x[p]=m[p].index}var y=t.slice();return y[y.length-1]=r,[dn(l,y,n),dn(c,y,"int32")]}function lv(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var a=Ve(e,"int32"),i=Ve([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=a.indexToLoc(n[r]),s=r*e.length;i.values.set(o,s)}return i.toTensor()}var CL=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},SL=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},AL=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s=t==="max"?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function mE(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(n){return e+"."+n})}function Wn(e,t){return t===1?[e]:mE(e,t)}function _n(){var e,t,n,r,a,i,o,s,u,l;return Q().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function Fi(e,t,n){n===void 0&&(n="index");var r=ta(t);return r.map(function(a,i){return"int "+e[i]+" = "+n+" / "+a+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+a:"index -= "+e[i]+" * "+a)+";"}).join("")}function cv(e){var t=ta(e).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var vE=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function TL(e,t,n,r){var a=[];e.forEach(function(h){var m=ke(h.shapeInfo.logicalShape);h.shapeInfo.isUniform?a.push("uniform float "+h.name+(m>1?"["+m+"]":"")+";"):(a.push("uniform sampler2D "+h.name+";"),a.push("uniform int offset"+h.name+";"))});var i,o,s=a.join(`
`),u=e.map(function(h){return function(m,p,v){v===void 0&&(v=!1);var g="";g+=v?gE(m):No(m);var x=m.shapeInfo.logicalShape,y=p.logicalShape;return x.length<=y.length&&(g+=v?function(b,w){var _,S=b.name,C=S.charAt(0).toUpperCase()+S.slice(1),k="get"+C+"AtOutCoords",E=b.shapeInfo.logicalShape.length,T=w.logicalShape.length,A=ti(b.shapeInfo.logicalShape,w.logicalShape),I=mt(T),D=T-E,M=["x","y","z","w","u","v"];_=E===0?"":T<2&&A.length>=1?"coords = 0;":A.map(function(se){return"coords."+M[se+D]+" = 0;"}).join(`
`);var L="";L=T<2&&E>0?"coords":b.shapeInfo.logicalShape.map(function(se,me){return"coords."+M[me+D]}).join(", ");var W="return outputValue;",V=ke(b.shapeInfo.logicalShape)===1,H=ke(w.logicalShape)===1;if(E!==1||V||H){if(V&&!H)W=T===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(A.length){var X=E-2,ae=E-1;A.indexOf(X)>-1&&A.indexOf(ae)>-1?W="return vec4(outputValue.x);":A.indexOf(X)>-1?W="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":A.indexOf(ae)>-1&&(W="return vec4(outputValue.xx, outputValue.zz);")}}else W=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+k+`() {
      `+I+` coords = getOutputCoords();
      `+_+`
      vec4 outputValue = get`+C+"("+L+`);
      `+W+`
    }
  `}(m,p):function(b,w){var _=b.name,S=_.charAt(0).toUpperCase()+_.slice(1),C="get"+S+"AtOutCoords",k=w.texShape,E=b.shapeInfo.texShape,T=b.shapeInfo.logicalShape.length,A=w.logicalShape.length;if(!b.shapeInfo.isUniform&&T===A&&b.shapeInfo.flatOffset==null&&rn(E,k))return`
      float `+C+`() {
        return sampleTexture(`+_+`, resultUV);
      }
    `;var I,D=mt(A),M=ti(b.shapeInfo.logicalShape,w.logicalShape),L=A-T,W=["x","y","z","w","u","v"];I=T===0?"":A<2&&M.length>=1?"coords = 0;":M.map(function(H){return"coords."+W[H+L]+" = 0;"}).join(`
`);var V="";return V=A<2&&T>0?"coords":b.shapeInfo.logicalShape.map(function(H,X){return"coords."+W[X+L]}).join(", "),`
    float `+C+`() {
      `+D+` coords = getOutputCoords();
      `+I+`
      return get`+S+"("+V+`);
    }
  `}(m,p)),g}(h,t,r)}).join(`
`),l=t.texShape,c=_n(),f=function(h){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+h.texture2D+`(textureSampler, uv).r;
    }
  `}(c),d=function(h){return h.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+h.varyingFs+` vec2 resultUV;
    `+h.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+h.defineSpecialNaN+`
    `+h.defineSpecialInf+`
    `+h.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+IL+`
    `+RL+`
    `+NL+`
  `}(c);return t.isPacked?(i=function(h,m){switch(h.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(b,w){var _=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];return _[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+_[1]+`.0);
      }
    `:_[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+_[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      return 2 * (resTexRC.x * `+_[1]+` + resTexRC.y);
    }
  `}(0,m);case 2:return function(b,w){var _=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];if(rn(b,w))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+_[0]+", "+_[1]+`));
      }
    `;var S=Math.ceil(b[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));

      int index = resTexRC.x * `+_[1]+` + resTexRC.y;
      int r = 2 * (index / `+S+`);
      int c = imod(index, `+S+`) * 2;

      return ivec2(r, c);
    }
  `}(h,m);case 3:return p=h,v=m,g=[Math.ceil(v[0]/2),Math.ceil(v[1]/2)],x=Math.ceil(p[2]/2),y=x*Math.ceil(p[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;

      int b = index / `+y+`;
      index -= b * `+y+`;

      int r = 2 * (index / `+x+`);
      int c = imod(index, `+x+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(b,w){for(var _=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],S=Math.ceil(b[b.length-1]/2),C=S*Math.ceil(b[b.length-2]/2),k=C,E="",T="b, r, c",A=2;A<b.length-1;A++)k*=b[b.length-A-1],E=`
      int b`+A+" = index / "+k+`;
      index -= b`+A+" * "+k+`;
    `+E,T="b"+A+", "+T;return`
    ivec`+b.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      int index = resTexRC.x * `+_[1]+` + resTexRC.y;

      `+E+`

      int b = index / `+C+`;
      index -= b * `+C+`;

      int r = 2 * (index / `+S+`);
      int c = imod(index, `+S+`) * 2;

      return ivec`+b.length+"("+T+`);
    }
  `}(h,m)}var p,v,g,x,y}(t.logicalShape,l),o=function(h){return`
    void setOutput(vec4 val) {
      `+h.output+` = val;
    }
  `}(c)):(i=function(h,m){switch(h.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(g,x){return x[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+x[1]+`.0);
      }
    `:x[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+x[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      return resTexRC.x * `+x[1]+` + resTexRC.y;
    }
  `}(0,m);case 2:return function(g,x){return rn(g,x)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+x[0]+", "+x[1]+`));
      }
    `:g[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+x[0]+", "+x[1]+`));
        int index = resTexRC.x * `+x[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:g[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+x[0]+", "+x[1]+`));
        int index = resTexRC.x * `+x[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      int r = index / `+g[1]+`;
      int c = index - r * `+g[1]+`;
      return ivec2(r, c);
    }
  `}(h,m);case 3:return p=m,v=Fi(["r","c","d"],h),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+p[0]+", "+p[1]+`));
      int index = resTexRC.x * `+p[1]+` + resTexRC.y;
      `+v+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(g,x){var y=Fi(["r","c","d","d2"],g);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+y+`
      return ivec4(r, c, d, d2);
    }
  `}(h,m);case 5:return function(g,x){var y=Fi(["r","c","d","d2","d3"],g);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+x[0]+`,
                             `+x[1]+`));

      int index = resTexRC.x * `+x[1]+` + resTexRC.y;

      `+y+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(h,m);case 6:return function(g,x){var y=Fi(["r","c","d","d2","d3","d4"],g);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;

      `+y+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(h,m);default:throw new Error(h.length+"-D output sampling is not yet supported")}var p,v}(t.logicalShape,l),o=function(h){return`
    void setOutput(float val) {
      `+h.output+` = vec4(val, 0, 0, 0);
    }
  `}(c)),r&&(d+=OL),[d,f,o,s,i,u,n].join(`
`)}function No(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(o===1&&s===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=n.shapeInfo.texShape,l=u[0],c=u[1],f=Ii(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+l+", "+c+", "+f+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 1:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+ko(n)+`
      }
    `;var i=n.shapeInfo.texShape,o=i[0],s=i[1];if(s===1&&o===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=Ii(r);return s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+o+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:o===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+o+", "+s+", index + "+u+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(e);case 2:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n.shapeInfo.texShape;if(o!=null&&rn(r,o)){var s=o[0],u=o[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var l=Di(r),c=l.newShape,f=l.keptDims,d=c;if(d.length<r.length){var h=Oo(n,d);return`
      `+No(h)+`
      float `+i+`(int row, int col) {
        return `+i+"("+Do(["row","col"],f)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+ko(n)+`
      }
    `;var m=o[0],p=o[1],v=Ii(a);return p===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+m+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:m===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+p+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+v+`;
    vec2 uv = uvFromFlat(`+m+", "+p+`, index);
    return sampleTexture(`+a+`, uv);
  }
`}(e);case 3:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[1]*r[2],s=r[2],u=Di(r),l=u.newShape,c=u.keptDims,f=l;if(f.length<r.length){var d=Oo(n,f);return`
        `+No(d)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+Do(["row","col","depth"],c)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+o+", "+s+`, 1)));
        `+ko(n)+`
      }
    `;var h=n.shapeInfo.texShape,m=h[0],p=h[1],v=n.shapeInfo.flatOffset;if(p===o&&v==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+p+".0, "+m+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(p===s&&v==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+p+".0, "+m+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var g=Ii(a);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+o+" + col * "+s+" + depth + "+g+`;
        vec2 uv = uvFromFlat(`+m+", "+p+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `}(e);case 4:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[3],s=r[2]*o,u=r[1]*s,l=Di(r),c=l.newShape,f=l.keptDims;if(c.length<r.length){var d=Oo(n,c);return`
      `+No(d)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+Do(["row","col","depth","depth2"],f)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+o+`, 1)));
        `+ko(n)+`
      }
    `;var h=n.shapeInfo.flatOffset,m=n.shapeInfo.texShape,p=m[0],v=m[1];if(v===u&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+v+".0, "+p+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(v===o&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+v+".0, "+p+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var g=Ii(a);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+o+` + depth2;
      vec2 uv = uvFromFlat(`+p+", "+v+", index + "+g+`);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 5:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[4],s=r[3]*o,u=r[2]*s,l=r[1]*u,c=Di(r),f=c.newShape,d=c.keptDims;if(f.length<r.length){var h=Oo(n,f);return`
      `+No(h)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+Do(["row","col","depth","depth2","depth3"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+l+", "+u+", "+s+", "+o+`)) +
          depth3;
        `+ko(n)+`
      }
    `;var m=n.shapeInfo.flatOffset,p=n.shapeInfo.texShape,v=p[0],g=p[1];if(g===l&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(g===o&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var x=Ii(a);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+u+" + depth * "+s+` +
          depth2 * `+o+" + depth3 + "+x+`;
      vec2 uv = uvFromFlat(`+v+", "+g+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);case 6:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=Di(r),s=o.newShape,u=o.keptDims;if(s.length<r.length){var l=Oo(n,s);return`
      `+No(l)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+Do(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var c=r[5],f=r[4]*c,d=r[3]*f,h=r[2]*d,m=r[1]*h;if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+m+", "+h+", "+d+", "+f+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+c+`, 1)));
        `+ko(n)+`
      }
    `;var p=n.shapeInfo.flatOffset,v=n.shapeInfo.texShape,g=v[0],x=v[1];if(x===m&&p==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+h+", "+d+", "+f+", "+c+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+x+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(x===c&&p==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+x+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var y=Ii(a);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+m+" + col * "+h+" + depth * "+d+` +
          depth2 * `+f+" + depth3 * "+c+" + depth4 + "+y+`;
      vec2 uv = uvFromFlat(`+g+", "+x+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function gE(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=_n(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return function(a){var i=a.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),s=a.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=_n();return`
    vec4 `+o+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+l.texture2D+"("+i+`, uv);
    }
  `}(e);case 2:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),u=a.shapeInfo.texShape,l=u[0],c=u[1],f=_n();if(u!=null&&rn(i,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+l+`.0);

        return `+f.texture2D+"("+o+`, uv);
      }
    `;var d=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],h=Math.ceil(i[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+h+", "+d[0]+", "+d[1]+`, row, col);
      return `+f.texture2D+"("+o+`, uv);
    }
  `}(e);case 3:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),u=a.shapeInfo.texShape,l=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(i[0]===1){var c=i.slice(1),f=Oo(a,c);return`
        `+gE(f)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+Do(["b","row","col"],[1,2])+`);
        }
      `}var d=l[0],h=l[1],m=Math.ceil(i[2]/2),p=m*Math.ceil(i[1]/2),v=_n();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+d+", "+h+", "+p+", "+m+`, b, row, col);
      return `+v.texture2D+"("+o+`, uv);
    }
  `}(e);default:return function(a){for(var i=a.shapeInfo.logicalShape,o=i.length,s=a.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),l=a.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],f=c[0],d=c[1],h=Math.ceil(i[o-1]/2),m=h*Math.ceil(i[o-2]/2),p="int b, int row, int col",v="b * "+m+" + (row / 2) * "+h+" + (col / 2)",g=2;g<o-1;g++)p="int b"+g+", "+p,m*=i[o-g-1],v="b"+g+" * "+m+" + "+v;var x=_n();return`
    vec4 `+u+"("+p+`) {
      int index = `+v+`;
      int texR = index / `+d+`;
      int texC = index - texR * `+d+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+d+", "+f+`);
      return `+x.texture2D+"("+s+`, uv);
    }
  `}(e)}}var IL=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,RL=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,NL=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,OL=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Ii(e){return"offset"+e}function ko(e){var t=e.name,n=ke(e.shapeInfo.logicalShape);return n<2?"return "+t+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function mt(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Oo(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Do(e,t){return t.map(function(n){return e[n]}).join(", ")}var DL=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,O(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var o,s,u=this.outputShape,l=u.length,c=mt(l),f=Wn("coords",l);if(i===1){var d=mt(s=l+1);o=`
        `+d+" sourceLocR = "+d+"("+f.join()+`, 0);
        ++`+f[l-1]+`;
        `+d+" sourceLocG = "+d+"("+f.join()+`, 0);
        ++`+f[l-2]+`;
        `+d+" sourceLocA = "+d+"("+f.join()+`, 0);
        --`+f[l-1]+`;
        `+d+" sourceLocB = "+d+"("+f.join()+`, 0);
        --`+f[l-2]+";"}else s=l,o=`
        `+c+` sourceLocR = coords;
        ++`+f[l-1]+`;
        `+c+` sourceLocG = coords;
        ++`+f[l-2]+`;
        `+c+` sourceLocA = coords;
        --`+f[l-1]+`;
        `+c+` sourceLocB = coords;
        --`+f[l-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),m="."+h[s-1],p=h.map(function(C){return"int "+C}),v=Wn("sourceLocR",s-1).concat("inIdx.r"),g=Wn("sourceLocG",s-1).concat("inIdx.g"),x=Wn("sourceLocB",s-1).concat("inIdx.b"),y=Wn("sourceLocA",s-1).concat("inIdx.a"),b=n==="max"?"greaterThan":"lessThan",w=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+v.join()+`),
                             getBestIndicesAChannel(`+g.join()+`),
                             getBestIndicesAChannel(`+x.join()+`),
                             getBestIndicesAChannel(`+y.join()+")));",_=`vec4(
            getAChannel(`+v.join()+`),
            hasNextCol ? getAChannel(`+g.join()+`) : 0.,
            hasNextRow ? getAChannel(`+x.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+y.join()+") : 0.)",S=r?"":`
      float getBestIndicesAChannel(`+p.join()+`) {
        return getChannel(getBestIndicesA(`+h.join()+`),
                                          vec2(`+h.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+p.join()+`) {
        return getChannel(getA(`+h.join()+`),
                               vec2(`+h.slice(-2).join()+`));
      }
      `+S+`
      void main() {
        `+c+` coords = getOutputCoords();
        bool hasNextCol = `+f[l-1]+" < "+(u[l-1]-1)+`;
        bool hasNextRow = `+f[l-2]+" < "+(u[l-2]-1)+`;
        `+o+`
        ivec4 srcIdx = ivec4(sourceLocR`+m+", sourceLocG"+m+`,
          sourceLocB`+m+", sourceLocA"+m+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+_+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+w+`
          vec4 candidate = `+_+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+b+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},PL=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,f=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(`+l+", "+c+`);
      const float avgMultiplier = float(`+f+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+o+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},FL=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=c-1-e.padInfo.front,m=f-1-e.padInfo.top,p=d-1-e.padInfo.left,v=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+h+", "+m+", "+p+`);
      const float avgMultiplier = float(`+v+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+f+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+l+`) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},ML=function(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Je(e,t),Je(e,n);var o="0.0";r!=null&&(Je(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";a!=null&&(Je(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+o+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},LL=function(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Je(e,t),Je(e,n);var o="vec4(0.0)";r!=null&&(Je(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";a!=null&&(Je(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+o+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},BL="return areal * breal - aimag * bimag;",VL="return areal * bimag + aimag * breal;",o0=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Je(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},ph="return a + b;",mh="return a - b;",s0="return a * b;",yE="return (a < 0.) ? b * a : a;",It=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Je(t,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},bE=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,xa=function(e,t,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Je(t,n);var a=this.outputShape.length,i="";if(r)if(a===0||ke(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+mt(a)+` coords = getOutputCoords();
        `,a===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var o=Wn("coords",a);i+=`
            bool nextRowOutOfBounds =
              (`+o[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+o[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},UL=function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),WL=function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,t),a.gl.uniform1f(r.maxLoc,n)}},e}(),jL=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},HL=function(e){this.outputShape=[],this.outputShape=ss(e,1),this.variableNames=e.map(function(s,u){return"T"+u});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var a=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var i=t.length,o=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+o+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},zL=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=ss(e,t);var n=this.outputShape,r=n.length,a=mt(r),i=Wn("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(v,g){return"T"+g});var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=o[t],c=o.slice(-2),f=o.join(),d="if ("+l+" < "+s[0]+`) {
        return getChannel(
            getT0(`+f+"), vec2("+c.join()+`));
        }`;for(u=1;u<s.length;u++){var h=s[u-1];d+=`
        if (`+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+Tl(o,l,h)+`),
            vec2(`+Tl(c,l,h)+`));
        }`}var m=s.length,p=s[s.length-1];d+=`
        return getChannel(
          getT`+m+"("+Tl(o,l,p)+`),
          vec2(`+Tl(c,l,p)+"));",this.userCode=`
      float getValue(`+o.map(function(v){return"int "+v})+`) {
        `+d+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[r-1]+" = "+i[r-1]+` + 1;
        if (`+i[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[r-2]+" = "+i[r-2]+` + 1;
        if (`+i[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[r-1]+" = "+i[r-1]+` - 1;
        if (`+i[r-2]+" < "+n[r-2]+` &&
            `+i[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function Tl(e,t,n){var r=e.indexOf(t);return e.map(function(a,i){return i===r?a+" - "+n:a}).join()}var GL=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},KL=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dataFormat==="channelsLast",o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,l=i?2:3,c=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+c+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+l+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},qL=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+a+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+o+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},$L=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+l+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},XL=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},YL=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},u0=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,i=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,m=e.dataFormat==="channelsLast",p=m?1:2,v=m?2:3,g=m?3:1,x="",y="";n&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,y="result = activation(result);");var b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+o+", "+s+`);
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+g+`];

        ivec2 xRCCorner =
            ivec2(coords[`+p+"], coords["+v+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+c+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+l+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+d+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+m+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(h===1)+`) {

              if (`+m+`) {
                dotProd +=
                    getX(batch, xR, xC, `+d+`) *
                    getW(wR, wC, `+d+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+d+`, xR, xC) *
                    getW(wR, wC, `+d+`, d2);
              }

            } else if (`+(h===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2)
              );

              if (`+m+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(h===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2),
                getW(wR, wC, `+d+` + 2, d2)
              );

              if (`+m+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1),
                  getX(batch, xR, xC, `+d+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC),
                  getX(batch, `+d+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+b+`
        `+y+`
        setOutput(result);
      }
    `},JL=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+t+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+c+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`; wC++) {
              int xC = xCCorner + wC * `+l+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+h+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(m===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+h+`) *
                  getW(wF, wR, wC, `+h+`, d2);
              } else if (`+(m===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+h+`),
                  getX(batch, xF, xR, xC, `+h+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+h+`, d2),
                  getW(wF, wR, wC, `+h+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(m===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+h+`),
                  getX(batch, xF, xR, xC, `+h+` + 1),
                  getX(batch, xF, xR, xC, `+h+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+h+`, d2),
                  getW(wF, wR, wC, `+h+` + 1, d2),
                  getW(wF, wR, wC, `+h+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},l0=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,m=e.outChannels/e.inChannels,p="",v="";n&&(p=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,v="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+p+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+m+`;
        int q = d2 - d1 * `+m+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+h+`; wC++) {
            int xC = xCCorner + wC * `+f+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+g+`
        `+v+`
        setOutput(result);
      }
    `},c0=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,i=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,m=h,p="int xR; int xC; int xCOffset;",v=0;v<d;v++)for(var g=0;g<h;g++)p+=`
          vec4 xTexelR`+v+"C"+2*g+` = vec4(0.);
          vec4 wR`+v+"C"+g+` = vec4(0.);
          vec4 xR`+v+"C"+g+" = vec4(0.);";for(v=0;v<d;v++)for(var x=0;x<m;x++){if(p+=`
          xR = xRCorner + `+v*c+`;
          xC = xCCorner + `+(g=2*x)*f+`;
        `,l===1){if(g<h&&(p+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+v+"C"+g+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+`.xy);
                } else {
                  xR`+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xR`+v+"C"+g+" = xTexelR"+v+"C"+g+`;
              `,g+1<h)){var y=s%2==0?Lk(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(p+=`
                  xCOffset = xC + `+s%2+" + "+y+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,f>1&&(p+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+v+"C"+g+` = vec4(0.);
                    }
                  `),p+=`
                  xR`+v+"C"+(g+1)+` = vec4(
                    xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.xy);
                `):p+=`
                  xCOffset = xC + `+y+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+`;
                `}}else g<h&&(p+=`
              if(xR >= 0 && xR < `+a+`) {
            `,s%2==1?(p+=`
                xCOffset = xC + 1 - `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+v+"C"+(g+2)+` = vec4(0.);
                }

                xR`+v+"C"+g+` = vec4(
                  xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.zw);
              `,g+1<h&&(p+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+l+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+`.xy, final.xy);
                `)):(p+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+(g+2)+` = vec4(0.);
                }

                xR`+v+"C"+g+` = vec4(
                  xTexelR`+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+`.xy);
              `,g+1<h&&(p+=`
                  xR`+v+"C"+(g+1)+` = vec4(
                    xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.zw);
                `)),p+="}");g<h&&(p+=`
            vec4 wTexelR`+v+"C"+g+" = getW("+v+", "+g+`, d1, q);
            wR`+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+`.xz);
          `,g+1<h&&(p+=`
              vec4 wTexelR`+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+`, d1, q);
              wR`+v+"C"+(g+1)+` =
                vec4(wTexelR`+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<d;v++)for(g=0;g<h;g++)p+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var b="",w="";n&&(b=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,w="result = activation(result);");var _=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+b+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+p+`

        vec4 result = dotProd;
        `+_+`
        `+w+`
        setOutput(result);
      }
    `},QL=function(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],o=e[1],s=e[2],u=e[3],l=t[0],c=n[0],f=n[1];this.outputShape=[l,c,f,u];var d=r==="bilinear"?1:0,h=[o-1+".0",s-1+".0"],m=h[0],p=h[1],v=c>1?[""+(o-1)/(c-1),"(y2-y1) * height_ratio","y1*"+m+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+m],g=v[0],x=v[1],y=v[2],b=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p],w=b[0],_=b[1],S=b[2];this.userCode=`
      const float height_ratio = float(`+g+`);
      const float width_ratio = float(`+w+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+x+`;
        float width_scale = `+_+`;

        float in_y = `+y+`;
        if( in_y < 0.0 || in_y > `+m+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+S+`;
        if( in_x < 0.0 || in_x > `+p+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+d+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},ZL=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],i=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+mt(r)+` coords = getOutputCoords();
        int end = `+f0(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+f0(r,"coords")+` = idx;
          val += getX(`+function(o,s){if(o===1)return""+s;if(o===2)return s+".x, "+s+".y";if(o===3)return s+".x, "+s+".y, "+s+".z";if(o===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function f0(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var eB=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=wu.DENSE;var t=Ys(e),n=_n();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Fi(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},tB=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=wu.DENSE;var t=Ys(e),n=_n();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Fi(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},nB=function(){function e(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),rB=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},aB=function(e){this.variableNames=["A"],this.outTexUsage=sr.DOWNLOAD;var t=_n();this.outputShape=e,this.userCode=`
      `+vE+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},iB=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=sr.DOWNLOAD;var t=_n();this.outputShape=e,this.userCode=`
      `+vE+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},oB=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=_n(),a=t[0],i=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      `+cv(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+o+`, 0., 0., 0.);
      }
    `},sB=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=_n(),a=t[0],i=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;o+=`
          localCoords = coords;
          if(localCoords[2] + `+l+" < "+e[2]+`) {
            localCoords[2] += `+l+`;
            if(localCoords[1] + `+u+" < "+e[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+c+`] = values[0];
              } else if(offset == 1) {
                result[`+c+`] = values[1];
              } else if(offset == 2) {
                result[`+c+`] = values[2];
              } else {
                result[`+c+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+cv(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+o+`

        `+r.output+" = "+s+`;
      }
    `},uB="return real * expR - imag * expI;",lB="return real * expI + imag * expR;",d0=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},cB=function(){function e(t,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(n.valueLoc,t)}},e}(),fB=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=mt(this.rank),i=function(o,s){var u=o.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],f=0;f<o.length;f++)f===s?c.push("int(getIndices("+l[f]+"))"):c.push(""+l[f]);return c.join()}(e,n);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},dB=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=mt(t.length),a=mt(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function hB(e,t){var n=_n();return u4(e,t,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function pB(e,t){return h4(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function mB(e,t){return p4(e,t,new Uint16Array([0,1,2,2,1,3]))}function Qu(e,t,n,r,a,i,o){v4(n,r);var s=m4(e,t),u=e.TEXTURE_2D;return Ee(e,t,function(){return e.bindTexture(u,s)}),Ee(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),Ee(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),Ee(e,t,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),Ee(e,t,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),Ee(e,t,function(){return e.texImage2D(u,0,a,n,r,0,i,o,null)}),Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function vB(e,t,n,r,a){var i=Xf(n,r);return Qu(e,t,i[0],i[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function gB(e,t,n,r,a){var i=Xf(n,r);return Qu(e,t,i[0],i[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function yB(e,t,n,r,a){var i=Xf(n,r);return Qu(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function bB(e,t,n,r,a){var i=Ju(n,r);return Qu(e,t,i[0],i[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function xB(e,t,n,r,a){var i=Ju(n,r);return Qu(e,t,i[0],i[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function wB(e,t,n,r){return Ee(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Zb(e,t,n,"clipSpacePos",r,3,20,0)&&Zb(e,t,n,"uv",r,2,20,12)}function _B(e,t,n,r,a,i,o){var s,u,l;Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),i instanceof Uint8Array?(s=new Uint8Array(r*a*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*a*4),u=e.FLOAT,l=o.internalFormatPackedFloat),s.set(i),Ee(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,a,0,e.RGBA,u,s)}),Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function kB(e,t,n,r){Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Ee(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):Ee(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),Ee(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function EB(e,t,n,r,a){var i=e.createBuffer();Ee(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var o=16*n*r;return Ee(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),Ee(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),Ee(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function CB(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function SB(e,t,n,r,a){var i=Xf(n,r),o=i[0],s=i[1],u=new Uint8Array(n*r*4);return Ee(e,t,function(){return e.readPixels(0,0,o,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function AB(e,t,n,r,a,i,o,s){var u=e,l=new Float32Array(function(c,f){var d=Ju(c,f);return d[0]*d[1]*4}(i,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function TB(e,t,n,r){var a=new Float32Array(n*r*4);return Ee(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a)}),a}var IB=function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Q().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,r4(n,t)):this.gl=la(n);var r="WEBGL_color_buffer_float";if(Q().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=El(this.gl,this.debug,"OES_texture_float"),xr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=El(this.gl,this.debug,"OES_texture_half_float");else if(Q().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),xr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=El(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Q().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",xr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!xr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=pB(this.gl,this.debug),this.indexBuffer=mB(this.gl,this.debug),this.framebuffer=g4(this.gl,this.debug),this.textureConfig=ev(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Q().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;Ee(n,this.debug,function(){return n.finish()}),Ee(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),Ee(n,this.debug,function(){return n.deleteFramebuffer(t.framebuffer)}),Ee(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),Ee(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),Ee(n,this.debug,function(){return n.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,n){return this.throwIfDisposed(),vB(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,n){return this.throwIfDisposed(),gB(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,n){return this.throwIfDisposed(),yB(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,n){this.throwIfDisposed(),kB(this.gl,this.debug,t,n)},e.prototype.uploadDenseMatrixToTexture=function(t,n,r,a){this.throwIfDisposed(),_B(this.gl,this.debug,t,n,r,a,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,n){return this.throwIfDisposed(),xB(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,n){return this.throwIfDisposed(),bB(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var n=this;this.throwIfDisposed(),this.outputTexture===t&&(e0(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ee(this.gl,this.debug,function(){return n.gl.deleteTexture(t)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return SB(a.gl,a.debug,n,r,a.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(t,n,r,a,i,o){return AB(this.gl,t,0,0,0,i,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,n){return CB(this.gl,t,n)},e.prototype.createBufferFromTexture=function(t,n,r){this.bindTextureToFrameBuffer(t);var a=EB(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var n,r,a=this;if(Q().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var s=i.clientWaitSync(o,0,0);return s===i.ALREADY_SIGNALED||s===i.CONDITION_SATISFIED},n=o}else Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(n,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(t,n,r){var a=this;return this.downloadMatrixDriver(t,function(){return TB(a.gl,a.debug,n,r)})},e.prototype.createProgram=function(t){this.throwIfDisposed();var n=this.gl,r=l4(n,this.debug,t),a=hB(n,this.debug),i=f4(n,this.debug);return Ee(n,this.debug,function(){return n.attachShader(i,a)}),Ee(n,this.debug,function(){return n.attachShader(i,r)}),d4(n,this.debug,i),this.debug&&ch(n,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=wB(n,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(t){var n=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&Ee(this.gl,this.debug,function(){return n.gl.deleteProgram(t)})},e.prototype.setProgram=function(t){var n=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&ch(this.gl,this.debug,this.program),Ee(this.gl,this.debug,function(){return n.gl.useProgram(t)})},e.prototype.getUniformLocation=function(t,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?b4(this.gl,this.debug,t,n):x4(this.gl,t,n)},e.prototype.getAttributeLocation=function(t,n){var r=this;return this.throwIfDisposed(),Ee(this.gl,this.debug,function(){return r.gl.getAttribLocation(t,n)})},e.prototype.getUniformLocationNoThrow=function(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)},e.prototype.setInputMatrixTexture=function(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),w4(this.gl,this.debug,this.program,t,n,r)},e.prototype.setOutputMatrixTexture=function(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)},e.prototype.setOutputPackedMatrixTexture=function(t,n,r){this.throwIfDisposed();var a=Ju(n,r),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(t,i,o)},e.prototype.setOutputMatrixWriteRegion=function(t,n,r,a){this.setOutputMatrixWriteRegionDriver(r,t,a,n)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&ch(this.gl,this.debug,this.program),Cl(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Ee(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Ee(this.gl,this.debug,function(){return t.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=El(this.gl,this.debug,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return we(this,void 0,void 0,function(){var n=this;return _e(this,function(r){switch(r.label){case 0:return[4,qb(function(){return n.disposed||n.isQueryAvailable(t,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(t,Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(t,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,n){if(n===0)return!0;if(n===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(t){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return t.isFencePassed()},function(){return r()})})},e.prototype.pollItems=function(){for(var t=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=t;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,n){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1||qb(function(){return r.pollItems(),r.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),fh(this.gl,this.debug,t,this.framebuffer),this.debug&&Cl(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(fh(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Cl(this.gl)):e0(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,n){this.bindTextureToFrameBuffer(t);var r=n();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(t,n,r){this.throwIfDisposed();var a=this.gl;fh(a,this.debug,t,this.framebuffer),this.debug&&Cl(a),this.outputTexture=t,Ee(a,this.debug,function(){return a.viewport(0,0,n,r)}),Ee(a,this.debug,function(){return a.scissor(0,0,n,r)})},e.prototype.setOutputMatrixWriteRegionDriver=function(t,n,r,a){var i=this;this.throwIfDisposed(),Ee(this.gl,this.debug,function(){return i.gl.scissor(t,n,r,a)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function h0(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(n,r){var a=n.logicalShape,i=t[r],o=i.shape;if(!rn(a,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+o+" must match");if(!n.isUniform||!i.isUniform){var s=n.texShape,u=i.isUniform?null:i.texData.texShape;if(!rn(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}})}var RB=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,a=n.inChannels,i=n.strideWidth,o=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,f=n.dataFormat,d=s.left,h=s.top,m=a*r,p=_n(),v=f==="channelsLast",g=v?0:1,x=v?1:2,y="",b=0;b<=1;b++)for(var w=0;w<=1;w++)y+=`
          blockIndex = rc.y + `+w+`;
          pos = rc.x + `+b+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+o+" - "+h+`;
            d0 = offsetY + `+c+" * (pos / "+m+`);

            if(d0 < `+t[g]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+i+". - "+d+`.);
              d1 = offsetX + `+l+" * (int(mod(float(pos), "+m+".) / "+a+`.));

              if(d1 < `+t[x]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+v+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*b+w)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*b+w)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+y+`

        `+p.output+` = result;
      }
    `},NB=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var i,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+o+"; j <= "+o+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},OB=function(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},DB=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+o+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+o+"; j <= "+o+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},PB=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,o=a-1-e.padInfo.top,s=i-1-e.padInfo.left,u=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},FB=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=l-1-e.padInfo.left,h=s*u*l-1;this.userCode=`
      const ivec3 pads = ivec3(`+c+", "+f+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+l+`;
                wC += `+o+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+h+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+l+` +
                  wR * `+l+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},vh=function(e,t,n,r,a,i,o){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),i===void 0&&(i=null),o===void 0&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",m="";i&&(h=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,m="result = activation(result);");var p=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+h+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+l+`);
          vec4 b = getMatrixB(rc.x, `+c+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+f[0]+" * "+d[0]+`);
          result += (`+f[1]+" * "+d[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+p+`

        `+m+`

        setOutput(result);
      }
    `},MB=function(){function e(t,n,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,a){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(n.seedLoc,t)}},e}(),LB=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},BB=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=Wn("rc",t),r=mt(t),a=function(s,u,l){if(s===1)return"rc > "+u[0];for(var c="",f=s-2;f<s;f++)c+=l[f]+" >= "+u[f],f<s-1&&(c+="||");return c}(t,e,n),i=function(s,u,l,c){if(s===1)return"";var f=c.slice(-2);return`
    int r = `+f[0]+`;
    int c = `+f[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+l+`;
  `}(t,e[e.length-1],e[e.length-2],n),o=function(s,u){var l=s.length,c=function(f,d){for(var h=[],m=0;m<=1;m++)for(var p=0;p<=1;p++){for(var v=(m===0?"r":"rp1")+", "+(p===0?"c":"cp1"),g=2;g<f;g++)v=d[d.length-1-g]+","+v;h.push(v)}return h}(l,u);return l===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+c[0]+`),
          cEdge ? 0. : getA(`+c[1]+`),
          rEdge ? 0. : getA(`+c[2]+`),
          rEdge || cEdge ? 0. : getA(`+c[3]+")"}(e,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+o+`));
          }
        }
      `}},VB=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(u,l){return u[0]+e[l]+u[1]});var r=e.length,a=mt(r),i=t.map(function(u){return u[0]}).join(","),o=t.map(function(u,l){return u[0]+e[l]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+i+`);
      `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+o+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},UB=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(v,g){return v[0]+e[g]+v[1]});for(var r=e.length,a=mt(r),i=t.map(function(v){return v[0]}).join(","),o=t.map(function(v,g){return v[0]+e[g]}).join(","),s=Wn("rc",r),u=Wn("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=r===1?"source":"vec2("+u.slice(-2).join()+")",f=[a+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+l+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+l+") {"],d=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",m=0,p=r===1?2:4;m<p;m++)h+=`
        `+f[m]+`
        if (`+d+`) {
          result[`+m+"] = float("+n+`);
        } else {
          `+a+` source = rc - start;
          result[`+m+"] = getChannel(getX("+u.join()+"), "+c+`);
        }
      `;h+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+i+`);
      const `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+h+`
        setOutput(result);
      }
    `},gh=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d=t==="avg",h="0.0";if(d||(h="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+i+`);
        const ivec2 pads = ivec2(`+c+", "+f+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+o+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+l+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+l+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var m=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(m="avgValue / count");var p=4*Math.floor(r/4),v=r%4,g=`
      if (`+d+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+i+`);
      const ivec2 pads = ivec2(`+c+", "+f+`);
      const float initializationValue = `+h+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+h+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+o+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+g+`
          }

          int xC = xCCorner + `+p+`;
          if (`+(v===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(v===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(v===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+g+`
          }
        }
        setOutput(`+m+`);
      }
    `}},yh=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,m=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var v=t==="avg",g="0.0";if(v||(g="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+i+", "+o+`);
        const ivec3 pads = ivec3(`+h+", "+m+", "+p+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+c+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+f+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+d+`;
                  wC += `+l+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+f+" * "+d+` +
                      wR * `+d+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var x=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(x="avgValue / count");var y=4*Math.floor(r/4),b=r%4,w=`
      if (`+v+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+h+", "+m+", "+p+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+y+`; wC += 4) {
              int xC = xCCorner + wC * `+l+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+l+`, ch)
              );

              `+w+`
            }

            int xC = xCCorner + `+y+`;
            if (`+(b===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+w+`
            } else if (`+(b===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                initializationValue,
                initializationValue
              );

              `+w+`
            } else if (`+(b===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                initializationValue
              );

              `+w+`
            }
          }
          setOutput(`+x+`);
        }
      }
    `}},WB=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=Math.ceil(a/n);this.outputShape=[r,i];var o="0.0",s="";t==="prod"?o="1.0":t==="min"?(o="1.0 / 1e-20",s="min"):t==="max"&&(o="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?u="sumValue":t==="prod"?u="prodValue":t==="all"?u="allValue":t==="any"&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,f=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,d="vec4";t==="all"?(o="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):t==="any"&&(o="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");var h="";a%n>0&&(h=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+o+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+h+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+o+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+f+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(c===1)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(c===2)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(c===3)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+f+`
        }
        setOutput(`+u+`);
      }
    `},jB=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Fi(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+cv(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+n+`

        setOutput(result);
      }
    `},HB=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?a-1:a,n&&u>1?i-1:i],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],h=1/f,m=1/d,p=2*Math.ceil(h)+2,v=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+h+`);
        const float invWidthScale = float(`+m+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},zB=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},GB=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`,
          `+u[1]/l[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+o+`.0,
                                     `+o+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},KB=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],i=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?a-1:a,n&&u>1?i-1:i],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],h=1/f,m=1/d,p=2*Math.ceil(h)+2,v=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+h+`);
        const float invWidthScale = float(`+m+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+l[0]+`) *
                (float(dyR) / float(`+c[0]+`));

            float sourceFracCol =
                float(`+l[1]+`) *
                  (float(dyC) / float(`+c[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},qB=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],o=e[2],s=e[3];this.outputShape=[a,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+c+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},$B=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,n!==1){var r=e.map(function(i,o){return function(s){return t.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(o)}).join(","),a=mt(n);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},XB=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Wn("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],o=mt(n);function s(u){var l=e.map(function(c,f){return function(d,h){return t.indexOf(d)!==-1&&e[d]!==1?e[d]+" - "+h[d]+" - 1":""+h[d]}(f,u)});return"getChannel(getX("+l.join(",")+"), vec2("+l.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+o+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(u){return s(u)}(r.slice())+`;
          if(`+a+`){
            result.g = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",s(u)}(r.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(u){return u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            if(`+a+`) {
              result.a = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},p0=function(e,t,n,r,a,i,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=mt(a.length),u=mt(i.length),l="";n===1?l="i":n===2&&(l="i, j");var c="getIndices("+l+")",f="";r===1?f="i":r===2&&(f="i, coords[1]");var d="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+a+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+c+`);
              flattenedIndex += index * `+h+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+d+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},YB=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,o=i*Math.ceil(a/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),u=n%4,l=`
        sumValue += dot(values, segFilter);
    `,c="";a%n>0&&(c=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var f="";a%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+c+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+f+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+l+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+l+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+l+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+l+`
        }
        setOutput(sumValue);
      }
    `},JB=function(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)a="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&o.push(""+i[u]);r=o.join(),a=s.join()}var l=mt(n);this.userCode=`
      void main() {
        `+l+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},QB=function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=mt(this.rank),a="uniform int start["+this.rank+"];",i=function(o){if(o===1)return"sourceLoc";if(o<=6)return bh.slice(0,o).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+t.map(function(o,s){return"sourceLoc."+bh[s]+" = start["+s+"] + coords."+bh[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+n+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),bh=["x","y","z","w","u","v"],ZB=function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=mt(this.rank),r=Wn("coords",this.rank),a=Wn("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",o="getChannel(getSource("+a.join()+"), "+i+")",s=`
      result.x = `+o+`;
      if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+o+`;
        --`+a[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+o+`;
        if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+o+`;
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            `+n+"("+t.map(function(c,f){return"start["+f+"]"}).join()+");":t.map(function(c,f){return a[f]+" = "+r[f]+" + start["+f+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+l+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e}(),eV=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=mt(n.length),i=mt(n.length),o="";if(r===1)o="coords * strides + begin";else{var s=0;o=n.map(function(u,l){return s++,n.length===1?"coords * strides["+l+"] + begin["+l+"]":"coords["+(s-1)+"] * strides["+l+"] + begin["+l+"]"}).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+e+`);
      `+a+" strides = "+a+"("+t+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+o+`));
      }
    `},tV=function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,n,r){var a,i=m0(n,r),o=v0(t,i,r);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[o].shift();return this.usedTextures[o].push(s),s}return this.numUsedTextures++,this.log(),i===rr.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===rr.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===rr.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===rr.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===rr.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(a),a},e.prototype.releaseTexture=function(t,n,r,a){if(this.freeTextures!=null){var i=v0(n,m0(r,a),a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],s=o.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){t.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(a){t.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function m0(e,t){if(e===sr.UPLOAD)return rr.PACKED_2X2_FLOAT32;if(e===sr.RENDER||e==null)return function(n){return Q().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?rr.PACKED_2X2_FLOAT32:rr.UNPACKED_FLOAT32:n?rr.PACKED_2X2_FLOAT16:rr.UNPACKED_FLOAT16}(t);if(e===sr.DOWNLOAD||e===sr.PIXELS)return rr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function v0(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var nV=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var a=mt(this.rank),i=function(o){var s=o.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+o[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],l=[],c=0;c<o.length;c++)l.push("imod("+u[c]+", "+o[c]+")");return l.join()}(e);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},rV=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var a=mt(this.rank),i=function(o){var s=o.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],l=new Array(s),c=0;c<o.length;c++)l[o[c]]=u[c];return l.join()}(t);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},aV=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=mt(this.rank),i=mE("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=i[r];var s="vec2("+o.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+o.join()+"), "+s+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+l+`;
      if(`+u+`) {
        result[1] = `+l+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+l+`;
        if(`+u+`) {
          result[3] = `+l+`;
        }
      }
      setOutput(result);
    }
    `},fv=1.7580993408473768,dv=1.0507009873554805,He=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Wr="if (isnan(x)) return x;",iV="return x;",g0="return abs(x);",xE=Wr+`
  return (x < 0.0) ? 0.0 : x;
`,wE=Wr+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,_E="return (x >= 0.0) ? x : (exp(x) - 1.0);",oV=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+fv+`;
  float scale = `+dv+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,y0="return -x;",b0="return ceil(x);",x0="return floor(x);",w0="return exp(x);",_0="return exp(x) - 1.0;",sV=Wr+`
  return sin(x);
`,uV=Wr+`
  return cos(x);
`,lV=Wr+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,cV=Wr+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,fV=Wr+`
  return atan(x);
`,dV=Wr+"return log(x + sqrt(x * x + 1.0));",hV=Wr+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,pV=Wr+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Il="return x;",mV="return x;",kE=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,EE=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,CE=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Ms=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},vV=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Wn("rc",t),r=mt(t),a=function(s,u){if(s===1)return"rc";for(var l="",c=0;c<s;c++)l+=u[c],c<s-1&&(l+=",");return l}(t,n),i=n.slice(-2),o=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+o+`));
      }
    `},Rl={};function Nl(e,t){if(t===void 0&&(t=!1),e==="linear")return t?mV:iV;if(e==="relu")return t?kE:xE;if(e==="elu")return t?CE:_E;if(e==="relu6")return t?EE:wE;if(e==="prelu")return t?bE:yE;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var gV=600,yV=function(e){function t(n){var r,a=e.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!Q().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var i=la(Q().getNumber("WEBGL_VERSION"));a.binaryCache=((r=Q().getNumber("WEBGL_VERSION"))in Rl||(Rl[r]={}),Rl[r]),a.gpgpu=new IB(i),a.canvas=i.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=n,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=n.gl.canvas;return a.textureManager=new tV(a.gpgpu),a.numMBBeforeWarning=Q().global.screen==null?1024:Q().global.screen.height*Q().global.screen.width*window.devicePixelRatio*gV/1024/1024,a.texData=new oE(a,U),a}return Ur(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(n,r,a){if(Q().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:r,dtype:a,values:n,usage:sr.UPLOAD}),i},t.prototype.move=function(n,r,a,i){if(Q().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:a,dtype:i,values:r,usage:sr.UPLOAD})},t.prototype.readSync=function(n){var r=this.texData.get(n),a=r.values,i=r.dtype,o=r.complexTensors,s=r.slice,u=r.shape,l=r.isPacked;if(s!=null){var c=void 0;c=l?new Ms(u,Il):new He(u,Il);var f=this.runWebGLProgram(c,[{dataId:n,shape:u,dtype:i}],i),d=this.readSync(f.dataId);return this.disposeData(f.dataId),d}if(a!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return a;var h,m,p=this.activeTimers!=null;return p&&(h=Xr()),i==="complex64"?m=Up(o.real.dataSync(),o.imag.dataSync()):m=this.getValuesFromTexture(n),p&&(this.downloadWaitMs+=Xr()-h),this.convertAndCacheOnCPU(n,m)},t.prototype.read=function(n){return we(this,void 0,void 0,function(){var r,a,i,o,s,u,l,c,f,d,h,m,p,v,g,x,y,b,w,_,S,C;return _e(this,function(k){switch(k.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(E){return r.push(E)})];if(a=this.texData.get(n),i=a.values,o=a.shape,s=a.slice,u=a.dtype,l=a.complexTensors,c=a.isPacked,s!=null)return f=void 0,f=c?new Ms(o,Il):new He(o,Il),d=this.runWebGLProgram(f,[{dataId:n,shape:o,dtype:u}],u),h=this.read(d.dataId),this.disposeData(d.dataId),[2,h];if(i!=null)return[2,this.convertAndCacheOnCPU(n)];if(!Q().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Q().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return m=null,u!=="complex64"&&Q().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(n),v=this.texData.get(p.dataId),m=(C=this.gpgpu).createBufferFromTexture.apply(C,[v.texture].concat(Ys(o)))),this.pendingRead.set(n,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:k.sent(),k.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return x=k.sent(),y=x[0],b=x[1],g=Up(y,b),[3,5];case 4:m==null?g=this.getValuesFromTexture(n):(w=ke(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(m,w)),k.label=5;case 5:return p!=null&&this.disposeData(p.dataId),_=this.convertAndCacheOnCPU(n,g),S=this.pendingRead.get(n),this.pendingRead.delete(n),S.forEach(function(E){return E(_)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,_]}})})},t.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var a=n[r];if(!o4(a))throw Q().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.isPacked,u=ke(i);if(Q().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var l=this.decode(n),c=this.texData.get(l.dataId),f=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[c.texture].concat(Ys(i))).subarray(0,u);return this.disposeData(l.dataId),f}var d=Q().getBool("WEBGL_PACK")&&s===!0,h=d?dh(i):i,m=d?new iB(h):new aB(h),p=this.runWebGLProgram(m,[{shape:h,dtype:o,dataId:n}],"float32"),v=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,u);return this.disposeData(p.dataId),g},t.prototype.time=function(n){return we(this,void 0,void 0,function(){var r,a,i,o,s,u,l;return _e(this,function(c){switch(c.label){case 0:return r=this.activeTimers,a=[],i=!1,this.programTimersStack==null?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,n(),o=is(this.activeTimers.map(function(f){return f.query})).filter(function(f){return f!=null}),s=is(this.activeTimers.map(function(f){return f.name})).filter(function(f){return f!=null}),this.activeTimers=r,i&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return l=c.sent(),u.kernelMs=UM(l),u.getExtraProfileInfo=function(){return l.map(function(f,d){return{name:s[d],ms:f}}).map(function(f){return f.name+": "+f.ms}).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},c.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Xr(),endMs:null}},t.prototype.endTimer=function(n){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=Xr(),n)},t.prototype.getQueryTime=function(n){return we(this,void 0,void 0,function(){var r;return _e(this,function(a){return Q().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},t.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},t.prototype.releaseGPUData=function(n){var r=this.texData.get(n),a=r.texture,i=r.dtype,o=r.texShape,s=r.usage,u=r.isPacked,l=r.slice,c=l&&l.origDataId||n,f=this.dataRefCount.get(c);f>1?this.dataRefCount.set(c,f-1):(this.dataRefCount.delete(c),a!=null&&(this.numBytesInGPU-=this.computeBytes(o,i),this.textureManager.releaseTexture(a,o,s,u)));var d=this.texData.get(n);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null},t.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},t.prototype.getDataInfo=function(n){return this.texData.get(n)},t.prototype.getCPUBackend=function(){return Q().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=U.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(n,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(i){return a.texData.get(i.dataId).texture==null&&i.size<r})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(n,r){var a=this.makeOutput(n.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:U.keep(n.clone()),imag:U.keep(r.clone())},a},t.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,a);if(ke(a)===0)return dn([],a,n.dtype);var i=this.texData.get(n.dataId).isPacked,o=aE(n.shape,r,a);if(i||!o){var s=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ZB(a):new QB(a),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[n],null,u)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,a)},t.prototype.shallowSlice=function(n,r,a){var i=this.texData.get(n.dataId),o=this.makeOutput(a,n.dtype),s=this.texData.get(o.dataId);Object.assign(s,i),s.shape=a,s.dtype=n.dtype;var u=iE(r,n.strides);i.slice&&(u+=i.slice.flatOffset),s.slice={flatOffset:u,origDataId:i.slice&&i.slice.origDataId||n.dataId};var l=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,l+1),o},t.prototype.stridedSlice=function(n,r,a,i){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,a,i);var o=iv(r,a,i);if(o.some(function(u){return u===0}))return dn([],o);var s=new eV(r,i,o);return this.compileAndRun(s,[n])},t.prototype.reverse=function(n,r){var a=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XB(n.shape,r):new $B(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var a=n.map(function(h){return br(h)}),i=n.map(function(h){return Jr(h)});return cn(this.concat(a,r),this.concat(i,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>Q().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(n.length/2),s=this.concat(n.slice(0,o),r),u=this.concat(n.slice(o),r);return this.concat([s,u],r)}if(Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var l=new zL(n.map(function(h){return h.shape}),r);return this.compileAndRun(l,n)}var c=ss(n.map(function(h){return h.shape}),r),f=n.map(function(h){return h.as2D(-1,ke(h.shape.slice(r)))}),d=new HL(f.map(function(h){return h.shape}));return this.compileAndRun(d,f).reshape(c)},t.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,y0,n.dtype);var r=new He(n.shape,y0);return this.compileAndRun(r,[n])},t.prototype.batchMatMul=function(n,r,a,i){var o=a?n.shape[2]:n.shape[1],s=i?r.shape[1]:r.shape[2],u=a?n.shape[1]:n.shape[2],l=n.shape[0];if((o===1||s===1)&&u>1e3){a&&(n=n.transpose([0,2,1])),i&&(r=r.transpose([0,2,1]));var c=s===1?n:n.as3D(l,u,1),f=s===1?2:1,d=s===1?r.as3D(l,1,u):r;return this.multiply(c,d).sum(f,!0)}var h=fn(n.dtype,r.dtype),m=new vh(n.shape,[l,o,s],a,i);return this.compileAndRun(m,[n,r],h)},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,u=n.activation,l=n.preluActivationWeights,c=i?r.shape[2]:r.shape[1],f=o?a.shape[1]:a.shape[2],d=r.shape[0],h=fn(r.dtype,a.dtype),m=s!=null,p=l!=null,v=u?Nl(u,!0):null,g=new vh(r.shape,[d,c,f],i,o,m,v,p),x=[r,a];return s&&x.push(s),l&&x.push(l),this.compileAndRun(g,x,h)},t.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var a=this.texData.get(n.dataId),i=this.texData.get(r.dataId),o=new o0(BL,n.shape,r.shape),s=new o0(VL,n.shape,r.shape),u=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],l=this.compileAndRun(o,u),c=this.compileAndRun(s,u),f=this.complex(l,c);return l.dispose(),c.dispose(),f}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,s0,n.dtype);var d=new It(s0,n.shape,r.shape);return this.compileAndRun(d,[n,r],n.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){var u=[n,r,a],l=null;s!=null&&(l=s.shape,u.push(s));var c=null;if(o!=null&&(c=o.shape,u.push(o)),Q().getBool("WEBGL_PACK_NORMALIZATION")){var f=new LL(n.shape,r.shape,a.shape,l,c,i);return this.compileAndRun(f,u)}var d=new ML(n.shape,r.shape,a.shape,l,c,i);return this.compileAndRun(d,u)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){var s=Q().getBool("WEBGL_PACK_NORMALIZATION")?new DB(n.shape,r,a,i,o):new NB(n.shape,r,a,i,o);return this.compileAndRun(s,[n])},t.prototype.LRNGrad=function(n,r,a,i,o,s,u){var l=new OB(r.shape,i,o,s,u);return this.compileAndRun(l,[r,a,n])},t.prototype.tile=function(n,r){if(n.dtype==="string"){var a=this.readSync(n.dataId).map(function(o){return Nc(o)});return hE(Ve(n.shape,n.dtype,a),r)}var i=new nV(n.shape,r);return this.compileAndRun(i,[n])},t.prototype.pad=function(n,r,a){var i=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UB(n.shape,r,a):new VB(n.shape,r,a);return this.compileAndRun(i,[n])},t.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var a=Q().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new aV(n.shape,r):new rV(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.gather=function(n,r,a){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,a);var i=new fB(n.shape,r.size,a);return this.compileAndRun(i,[n,r])},t.prototype.batchToSpaceND=function(n,r,a){O(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(f,d){return f*d}),o=Lc(n.shape,r,i),s=Bc(o.length,r.length),u=Vc(n.shape,r,i),l=eE(a,r.length),c=tE(u,a,r.length);return n.reshape(o).transpose(s).reshape(u).slice(l,c)},t.prototype.spaceToBatchND=function(n,r,a){O(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(d,h){return d*h}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var u=n.pad(o),l=Lc(u.shape,r,i,!1),c=Bc(l.length,r.length,!1),f=Vc(u.shape,r,i,!1);return u.reshape(l).transpose(c).reshape(f)},t.prototype.reduce=function(n,r,a){var i=n.shape[0],o=n.shape[1],s=hh(o),u=new WB({windowSize:s,inSize:o,batchSize:i},r),l=this.compileAndRun(u,[n],a);return l.shape[1]===1?l:this.reduce(l,r,a)},t.prototype.argReduce=function(n,r,a){a===void 0&&(a=null);var i=n.shape[0],o=n.shape[1];a!=null&&(i=a.shape[0],o=a.shape[1]);var s=hh(o),u=new AL({windowSize:s,inSize:o,batchSize:i},r,a==null),l=[n];a!=null&&l.push(a);var c=this.compileAndRun(u,l,"int32");return c.shape[1]===1?c:this.argReduce(n,r,c)},t.prototype.argReducePacked=function(n,r,a){a===void 0&&(a=null);var i=a!=null?a.shape:n.shape,o=hh(i[i.length-1]),s=new DL(i,o,r,a==null),u=a==null?[n]:[n,a],l=this.compileAndRun(s,u,"int32");return l.rank===n.rank?this.argReducePacked(n,r,l):l},t.prototype.sum=function(n,r){nr("sum",r,n.rank);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o),u=ih(n.dtype);return this.reduce(s,"sum",u).reshape(i)},t.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o),u=ih(n.dtype);return this.reduce(s,"prod",u).reshape(i)},t.prototype.unsortedSegmentSum=function(n,r,a){var i=0,o=ca([i],n.rank),s=n;o!=null&&(s=n.transpose(o),i=fa(1,n.rank)[0]);var u=function(h,m,p){for(var v=[],g=h.length,x=0;x<g;x++)x!==m?v.push(h[x]):v.push(p);return v}(s.shape,i,a),l=ke([s.shape[i]]),c=s.as2D(-1,l),f=ih(n.dtype),d=this.segOpCompute(c,"unsortedSegmentSum",r,f,a).reshape(u);return o!=null&&(d=d.transpose(tv(o))),d},t.prototype.segOpCompute=function(n,r,a,i,o){var s=n.shape[0],u=n.shape[1],l=function(d,h){var m,p=!1;for(d<=rE?(m=d,p=!0):m=Np(d,Math.floor(Math.sqrt(d)));!p;)m>h||m===d?p=!0:m=Np(d,m+1);return m}(u,o),c=new YB({windowSize:l,inSize:u,batchSize:s,numSegments:o}),f=this.compileAndRun(c,[n,a],i);return f.shape[1]===o?f:(a=Mc(0,o).tile([u/l]),this.segOpCompute(f,r,a,i,o))},t.prototype.argMinMaxReduce=function(n,r,a){var i=[r];if(nr("arg"+a.charAt(0).toUpperCase()+a.slice(1),i,n.rank),!Q().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var o=mn(n.shape,i),s=o[0],u=ke(o[1]),l=n.as2D(-1,u);return this.argReduce(l,a).reshape(s)}return this.argReducePacked(n,a)},t.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},t.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},t.prototype.cumsum=function(n,r,a,i){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var o=new ZL(n.shape,a,i);return this.compileAndRun(o,[n])},t.prototype.equal=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var a=new It("return float(a == b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.notEqual=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new It("return float(a != b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new It("return float(a < b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.lessEqual=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new It("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new It("return float(a > b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.greaterEqual=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new It("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalNot=function(n){var r=new He(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},t.prototype.logicalAnd=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new It("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.logicalOr=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new It("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},t.prototype.select=function(n,r,a){var i=new JB(n.rank,r.shape,r.rank);return this.compileAndRun(i,[n,r,a],fn(r.dtype,a.dtype))},t.prototype.where=function(n){Pc("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return lv(n.shape,r)},t.prototype.topk=function(n,r,a){return pE(n.dataSync(),n.shape,n.dtype,r)},t.prototype.min=function(n,r){nr("min",r,n.rank);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o);return this.reduce(s,"min",s.dtype).reshape(i)},t.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new It(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.mod=function(n,r){var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new It(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);nr("max",r,n.rank);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o);return this.reduce(s,"max",s.dtype).reshape(i)},t.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new It(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.all=function(n,r){nr("all",r,n.rank);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o);return this.reduce(s,"all",s.dtype).reshape(i)},t.prototype.any=function(n,r){nr("any",r,n.rank);var a=mn(n.shape,r),i=a[0],o=ke(a[1]),s=n.as2D(-1,o);return this.reduce(s,"any",s.dtype).reshape(i)},t.prototype.realDivide=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new It(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"float32")},t.prototype.floorDiv=function(n,r){if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new It(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"int32")},t.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,ph);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var a=fn(n.dtype,r.dtype);if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,ph,a);var i=new It(ph,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.packedUnaryOp=function(n,r,a){var i=new Ms(n.shape,r);return this.compileAndRun(i,[n],a)},t.prototype.packedBinaryOp=function(n,r,a,i,o){o===void 0&&(o=!1);var s=new xa(a,n.shape,r.shape,o);return this.compileAndRun(s,[n,r],i)},t.prototype.complexSeparableBinaryOp=function(n,r,a){var i=this,o=this.texData.get(n.dataId),s=this.texData.get(r.dataId),u=[[o.complexTensors.real,s.complexTensors.real],[o.complexTensors.imag,s.complexTensors.imag]].map(function(d){var h=d[0],m=d[1],p=i.makeComplexComponentTensorInfo(n,h),v=i.makeComplexComponentTensorInfo(r,m),g=new It(a,n.shape,r.shape);return i.compileAndRun(g,[p,v],fn(h.dtype,m.dtype))}),l=u[0],c=u[1],f=this.complex(l,c);return l.dispose(),c.dispose(),f},t.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},t.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>Q().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),a=this.addN(n.slice(0,r)),i=this.addN(n.slice(r));return this.addN([a,i])}var o=n.map(function(l){return l.dtype}).reduce(function(l,c){return fn(l,c)}),s=n.map(function(l){return l.shape}),u=Q().getBool("WEBGL_PACK")?new SL(n[0].shape,s):new CL(n[0].shape,s);return this.compileAndRun(u,n,o)},t.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,mh);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var a=fn(n.dtype,r.dtype);if(Q().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,mh,n.dtype);var i=new It(mh,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},t.prototype.pow=function(n,r){var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new It(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),i=fn(n.dtype,r.dtype);return this.compileAndRun(a,[n,r],i)},t.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,b0,n.dtype);var r=new He(n.shape,b0);return this.compileAndRun(r,[n])},t.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,x0,n.dtype);var r=new He(n.shape,x0);return this.compileAndRun(r,[n])},t.prototype.sign=function(n){var r=new He(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},t.prototype.isNaN=function(n){var r=new He(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isInf=function(n){var r=new He(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isFinite=function(n){var r=new He(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.round=function(n){var r=new He(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},t.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,w0,n.dtype);var r=new He(n.shape,w0);return this.compileAndRun(r,[n])},t.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,_0,n.dtype);var r=new He(n.shape,_0);return this.compileAndRun(r,[n])},t.prototype.softmax=function(n,r){var a=Yt([r],n.shape),i=this.max(n,a),o=Xn(i.shape,a),s=this.subtract(n,i.reshape(o)),u=this.exp(s),l=this.sum(u,a).reshape(o);return this.realDivide(u,l)},t.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new He(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},t.prototype.log1p=function(n){var r=new He(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},t.prototype.sqrt=function(n){var r=new He(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},t.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new He(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},t.prototype.reciprocal=function(n){var r=new He(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},t.prototype.relu=function(n){var r;return r=Q().getBool("WEBGL_PACK")?new Ms(n.shape,kE):new He(n.shape,xE),this.compileAndRun(r,[n])},t.prototype.relu6=function(n){var r;return r=Q().getBool("WEBGL_PACK")?new Ms(n.shape,EE):new He(n.shape,wE),this.compileAndRun(r,[n])},t.prototype.prelu=function(n,r){var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(bE,n.shape,r.shape):new It(yE,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.elu=function(n){if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,CE,n.dtype);var r=new He(n.shape,_E);return this.compileAndRun(r,[n])},t.prototype.eluDer=function(n,r){var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new It("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.selu=function(n){var r=new He(n.shape,oV);return this.compileAndRun(r,[n])},t.prototype.int=function(n){var r=new He(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},t.prototype.clip=function(n,r,a){var i,o=(i=Q().getBool("WEBGL_PACK_CLIP")?new WL(n.shape):new UL(n.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(i,[n],null,o)},t.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(Q().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,g0,n.dtype);var r=new He(n.shape,g0);return this.compileAndRun(r,[n])},t.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),a=new jL(n.shape),i=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(a,i)},t.prototype.sigmoid=function(n){var r=new He(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},t.prototype.softplus=function(n){var r=new He(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},t.prototype.sin=function(n){var r=new He(n.shape,sV);return this.compileAndRun(r,[n])},t.prototype.cos=function(n){var r=new He(n.shape,uV);return this.compileAndRun(r,[n])},t.prototype.tan=function(n){var r=new He(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},t.prototype.asin=function(n){var r=new He(n.shape,lV);return this.compileAndRun(r,[n])},t.prototype.acos=function(n){var r=new He(n.shape,cV);return this.compileAndRun(r,[n])},t.prototype.atan=function(n){var r=new He(n.shape,fV);return this.compileAndRun(r,[n])},t.prototype.atan2=function(n,r){var a=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new It(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},t.prototype.sinh=function(n){var r=new He(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.cosh=function(n){var r=new He(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.tanh=function(n){var r=new He(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},t.prototype.asinh=function(n){var r=new He(n.shape,dV);return this.compileAndRun(r,[n])},t.prototype.acosh=function(n){var r=new He(n.shape,hV);return this.compileAndRun(r,[n])},t.prototype.atanh=function(n){var r=new He(n.shape,pV);return this.compileAndRun(r,[n])},t.prototype.erf=function(n){var r=new He(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},t.prototype.step=function(n,r){var a=new He(n.shape,function(i){return i===void 0&&(i=0),Wr+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(r));return this.compileAndRun(a,[n])},t.prototype.conv2dByMatMul=function(n,r,a,i,o,s){var u=n.shape,l=this.texData.get(n.dataId),c=a.inChannels,f=u[0]*u[1]*u[2],d=a.outChannels,h=a.dataFormat==="channelsLast",m=(f===1||d===1)&&c>1e3,p=u[2]%2!=0&&!!l.isPacked;if(m||!Q().getBool("WEBGL_LAZILY_UNPACK")||!Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var v=h?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],g=this.reshape(n,[1,v,a.inChannels]),x=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:x,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),a.outShape)}var y=h?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),b={dataId:n.dataId,shape:[1,y,a.inChannels],dtype:n.dtype},w=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,O(Al(l.shape,b.shape),function(){return"packed reshape "+l.shape+" to "+b.shape+" isn't free"});var _=this.reshape(r,[1,a.inChannels,a.outChannels]),S=this.fusedBatchMatMul({a:b,b:_,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:s}),C=this.texData.get(S.dataId);return O(C.isPacked,function(){return"batchMatMul result is expected to be packed"}),l.shape=w,C.shape=a.outShape,U.makeTensorFromDataId(S.dataId,a.outShape,S.dtype)},t.prototype.conv2dWithIm2Row=function(n,r,a,i,o,s){var u=a.filterWidth,l=a.filterHeight,c=a.inChannels,f=a.outWidth,d=a.outHeight,h=a.dataFormat==="channelsLast",m=u*l*c,p=d*f,v=[m,p],g=n.squeeze([0]),x=r.reshape([1,m,-1]),y=new RB(v,g.shape,a),b=this.compileAndRun(y,[g]).reshape([1,v[0],v[1]]),w=i!=null,_=s!=null,S=o?Nl(o,!0):null,C=new vh(b.shape,[1,p,a.outChannels],!0,!1,w,S,_),k=[b,x];i&&k.push(i),_&&k.push(s);var E=this.compileAndRun(C,k);return h?E.reshape([1,d,f,a.outChannels]):E.reshape([1,a.outChannels,d,f])},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,i,o,s,u);if(Q().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,i,o,s,u);var l=o!=null,c=u!=null,f=s?Nl(s,!1):null,d=new u0(i,l,f,c),h=[r,a];return o&&h.push(o),u&&h.push(u),this.compileAndRun(d,h)},t.prototype.conv2d=function(n,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,a);if(Q().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,a);var i=new u0(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerInput=function(n,r,a){var i=new KL(a);return this.compileAndRun(i,[n,r])},t.prototype.conv2dDerFilter=function(n,r,a){var i=new GL(a);return this.compileAndRun(i,[n,r])},t.prototype.fusedDepthwiseConv2D=function(n){var r,a=n.input,i=n.filter,o=n.convInfo,s=n.bias,u=n.activation,l=n.preluActivationWeights,c=Q().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,f=u?Nl(u,c):null,d=[a,i],h=s!=null,m=l!=null;return h&&d.push(s),m&&d.push(l),c?(r=new c0(o,h,f,m),this.compileAndRun(r,d)):(r=new l0(o,h,f,m),this.compileAndRun(r,d))},t.prototype.depthwiseConv2D=function(n,r,a){var i;return Q().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(i=new c0(a),this.compileAndRun(i,[n,r])):(i=new l0(a),this.compileAndRun(i,[n,r]))},t.prototype.depthwiseConv2DDerInput=function(n,r,a){var i=new YL(a);return this.compileAndRun(i,[n,r])},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){var i=new XL(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3d=function(n,r,a){var i=new JL(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerInput=function(n,r,a){var i=new $L(a);return this.compileAndRun(i,[n,r])},t.prototype.conv3dDerFilter=function(n,r,a){var i=new qL(a);return this.compileAndRun(i,[n,r])},t.prototype.maxPool=function(n,r){var a=new gh(r,"max",!1);return this.compileAndRun(a,[n])},t.prototype.avgPool=function(n,r){var a=new gh(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPoolBackprop=function(n,r,a,i){var o=new gh(i,"max",!0),s=this.compileAndRun(o,[r]),u=new PB(i),l=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),l},t.prototype.avgPoolBackprop=function(n,r,a){var i=new PL(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.cast=function(n,r){return lE(n,r,this)},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var u=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var c=new Array(a);for(s=0;s<c.length;s++)u[r]=s,c[s]=this.slice(n,u,l).reshape(i);return c},t.prototype.avgPool3d=function(n,r){var a=new yh(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.avgPool3dBackprop=function(n,r,a){var i=new FL(a);return this.compileAndRun(i,[n],r.dtype)},t.prototype.maxPool3d=function(n,r){var a=new yh(r,"max",!1);return this.compileAndRun(a,[n],"float32")},t.prototype.maxPool3dBackprop=function(n,r,a,i){var o=new yh(i,"max",!0),s=this.compileAndRun(o,[r]),u=new FB(i),l=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),l},t.prototype.reshape=function(n,r){var a=this.texData.get(n.dataId);if(a.isPacked&&!Al(n.shape,r)&&(a.texture===null||!Al(a.shape,r))){var i=this.packedReshape(n,r);return U.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return Vp(n,r)},t.prototype.resizeBilinear=function(n,r,a,i){var o=Q().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new GB(n.shape,r,a,i):new zB(n.shape,r,a,i);return this.compileAndRun(o,[n],"float32")},t.prototype.resizeBilinearBackprop=function(n,r,a){var i=new HB(n,r,a);return this.compileAndRun(i,[n])},t.prototype.resizeNearestNeighbor=function(n,r,a,i){var o=new qB(n.shape,r,a,i);return this.compileAndRun(o,[n])},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){var i=new KB(n,r,a);return this.compileAndRun(i,[n])},t.prototype.multinomial=function(n,r,a,i){var o=r?n:Ba(n),s=o.shape[0],u=o.shape[1],l=new MB(s,u,a),c=l.getCustomSetupFunc(i);return this.compileAndRun(l,[o],"int32",c)},t.prototype.oneHot=function(n,r,a,i){var o=new LB(n.size,r,a,i);return this.compileAndRun(o,[n])},t.prototype.diag=function(n){var r=new rB(n.size);return this.compileAndRun(r,[n])},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return Pc("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),sv(n.dataSync(),r.dataSync(),a,i,o)},t.prototype.cropAndResize=function(n,r,a,i,o,s){var u=new QL(n.shape,r.shape,i,o,s);return this.compileAndRun(u,[n,r,a],"float32")},t.prototype.depthToSpace=function(n,r,a){O(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var i=n.shape[0],o=a==="NHWC"?n.shape[1]:n.shape[2],s=a==="NHWC"?n.shape[2]:n.shape[3],u=a==="NHWC"?n.shape[3]:n.shape[1],l=o*r,c=s*r,f=u/(r*r),d=new nB(a==="NHWC"?[i,l,c,f]:[i,f,l,c],r,a);return this.compileAndRun(d,[n])},t.prototype.split=function(n,r,a){return dE(n,r,a)},t.prototype.scatterND=function(n,r,a){var i=Uc(0,n,a),o=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,c=i.outputSize,f=[c/u,u],d=n.reshape([s,o]),h=r.reshape([s,u]);if(c===0)return Vp(dn([]),a);var m=pe(0),p=new p0(s,o,d.rank,h.rank,l,f);return this.compileAndRun(p,[h,d,m]).reshape(a)},t.prototype.sparseToDense=function(n,r,a,i){var o=Uc(0,n,a),s=o.sliceRank,u=o.numUpdates,l=o.strides,c=o.outputSize,f=new p0(u,s,n.rank,r.rank,l,[c,1]);return this.compileAndRun(f,[r,n,i]).reshape(a)},t.prototype.fft=function(n){return this.fftImpl(n,!1)},t.prototype.ifft=function(n){return this.fftImpl(n,!0)},t.prototype.fftImpl=function(n,r){var a=this.texData.get(n.dataId),i=new d0(uB,n.shape,r),o=new d0(lB,n.shape,r),s=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],u=this.compileAndRun(i,s),l=this.compileAndRun(o,s),c=this.complex(u,l).as2D(n.shape[0],n.shape[1]);return u.dispose(),l.dispose(),c},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=nE(n,r),s=o[0],u=o[1],l=o[2],c=o[3],f=r.reshape([u,i]),d=n.reshape([n.size/l,l]),h=new dB(i,c,[u,l]);return this.compileAndRun(h,[d,f]).reshape(s)},t.prototype.fill=function(n,r,a){if((a=a||Xu(r))==="string"){var i=Rc(a,ke(n));return i.fill(r),U.makeTensor(i,n,a,this)}var o=new cB(n,r),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[],a,s)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},t.prototype.linspace=function(n,r,a){return cE(n,r,a)},t.prototype.makeTensorInfo=function(n,r){var a=this.write(null,n,r);return this.texData.get(a).usage=null,{dataId:a,shape:n,dtype:r}},t.prototype.makeOutput=function(n,r){var a=this.makeTensorInfo(n,r).dataId;return U.makeTensorFromDataId(a,n,r,this)},t.prototype.unpackTensor=function(n){var r=new vV(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},t.prototype.packTensor=function(n){var r=new BB(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},t.prototype.packedReshape=function(n,r){var a=[Oc(n.shape)].concat(Dc(n.shape)),i={dtype:n.dtype,shape:a,dataId:n.dataId},o=[Oc(r)].concat(Dc(r)),s=new jB(o,a),u=this.runWebGLProgram(s,[i],n.dtype,null,!0);return{dataId:u.dataId,shape:r,dtype:u.dtype}},t.prototype.decode=function(n){var r,a=this.texData.get(n),i=a.isPacked,o=a.shape,s=a.dtype,u=dh(o);return r=i?new tB(u):new eB(u),{dtype:s,shape:o,dataId:this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:n}],s,null,!0).dataId}},t.prototype.runWebGLProgram=function(n,r,a,i,o){var s=this;o===void 0&&(o=!1);var u=this.makeTensorInfo(n.outputShape,a),l=this.texData.get(u.dataId);if(n.packedOutput&&(l.isPacked=!0),n.outPackingScheme===wu.DENSE){var c=Ys(n.outputShape);l.texShape=c.map(function(y){return 2*y})}if(n.outTexUsage!=null&&(l.usage=n.outTexUsage),ke(u.shape)===0)return l.values=bu(u.dtype,0),u;var f=[],d=r.map(function(y){if(y.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var b=s.texData.get(y.dataId);if(b.texture==null){if(!n.packedInputs&&ke(y.shape)<=Q().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:y.shape,texData:null,isUniform:!0,uniformValues:b.values};n.packedInputs&&(b.isPacked=!0,b.shape=y.shape)}else if(!!b.isPacked!=!!n.packedInputs)y=b.isPacked?s.unpackTensor(y):s.packTensor(y),f.push(y),b=s.texData.get(y.dataId);else if(b.isPacked&&!Al(b.shape,y.shape)){var w=y,_=y.shape;y.shape=b.shape,y=s.packedReshape(y,_),f.push(y),b=s.texData.get(y.dataId),w.shape=_}return s.uploadToGPU(y.dataId),{shape:y.shape,texData:b,isUniform:!1}});this.uploadToGPU(u.dataId);var h,m={shape:u.shape,texData:l,isUniform:!1},p=function(y,b,w){var _="";b.concat(w).forEach(function(k){var E=k.texData!=null&&k.texData.slice!=null&&k.texData.slice.flatOffset>0,T=k.isUniform?"uniform":k.texData.texShape;_+=k.shape+"_"+T+"_"+E});var S=y.userCode,C=y.constructor.name;return C+="_"+_+"_"+S}(n,d,m),v=this.getAndSaveBinary(p,function(){return function(y,b,w,_){var S=b.userCode,C=w.map(function(V,H){var X={logicalShape:V.shape,texShape:V.isUniform?null:V.texData.texShape,isUniform:V.isUniform,isPacked:!V.isUniform&&V.texData.isPacked,flatOffset:null};return V.texData!=null&&V.texData.slice!=null&&V.texData.slice.flatOffset>0&&(X.flatOffset=V.texData.slice.flatOffset),{name:b.variableNames[H],shapeInfo:X}}),k=C.map(function(V){return V.shapeInfo}),E={logicalShape:_.shape,texShape:_.texData.texShape,isUniform:!1,isPacked:_.texData.isPacked,flatOffset:null},T=TL(C,E,S,b.packedInputs),A=y.createProgram(T),I=null,D=y.getUniformLocation(A,"NAN",!1);Q().getNumber("WEBGL_VERSION")===1&&(I=y.getUniformLocation(A,"INFINITY",!1));for(var M={},L=0;L<b.variableNames.length;L++){var W=b.variableNames[L];M[W]=y.getUniformLocation(A,W,!1),M["offset"+W]=y.getUniformLocation(A,"offset"+W,!1)}return{program:b,source:T,webGLProgram:A,uniformLocations:M,inShapeInfos:k,outShapeInfo:E,infLoc:I,nanLoc:D}}(s.gpgpu,n,d,m)}),g=this.activeTimers!=null;if(g&&(h=this.startTimer()),function(y,b,w,_,S){h0(b.inShapeInfos,w),h0([b.outShapeInfo],[_]);var C=_.texData.texture,k=_.texData.texShape;_.texData.isPacked?y.setOutputPackedMatrixTexture(C,k[0],k[1]):y.setOutputMatrixTexture(C,k[0],k[1]),y.setProgram(b.webGLProgram),Q().getNumber("WEBGL_VERSION")===1&&b.infLoc!==null&&y.gl.uniform1f(b.infLoc,1/0),b.nanLoc!==null&&y.gl.uniform1f(b.nanLoc,NaN),w.forEach(function(E,T){var A=b.program.variableNames[T],I=b.uniformLocations[A],D=b.uniformLocations["offset"+A];if(I!=null)if(E.isUniform)if(ke(E.shape)<2)y.gl.uniform1f(I,E.uniformValues[0]);else{var M=E.uniformValues;M instanceof Float32Array||(M=new Float32Array(M)),y.gl.uniform1fv(I,M)}else E.texData.slice!=null&&D!=null&&y.gl.uniform1i(D,E.texData.slice.flatOffset),y.setInputMatrixTexture(E.texData.texture,I,T)}),S!=null&&S(y,b.webGLProgram),y.executeProgram()}(this.gpgpu,v,d,m,i),f.forEach(function(y){return s.disposeData(y.dataId)}),g&&(h=this.endTimer(h),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(h)})),!Q().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){var x=this.unpackTensor(u);return this.disposeData(u.dataId),x}return u},t.prototype.compileAndRun=function(n,r,a,i,o){o===void 0&&(o=!1),a=a||r[0].dtype;var s=this.runWebGLProgram(n,r,a,i,o);return U.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},t.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var n=this;this.disposed||(Q().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ye(function(){if(!Q().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=Q().getBool("DEBUG");Q().set("DEBUG",!1);var a=n.abs(pe(1e-8)).dataSync()[0];if(Q().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,s=a.values,u=a.texture,l=a.usage,c=a.isPacked;if(u==null){var f,d=this.activeTimers!=null;d&&(f=Xr());var h=a.texShape;if(h==null&&(h=E4(i,c),a.texShape=h),s!=null){var m=dh(i),p=void 0,v=h[1],g=h[0],x=s instanceof Uint8Array;c?(v=(r=Ju(h[0],h[1]))[0],g=r[1],p=new sB(m,[g,v],x)):p=new oB(m,[g,v],x);var y=this.makeTensorInfo([g,v],o);this.texData.get(y.dataId).usage=x?sr.PIXELS:sr.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),v,g,s);var b=this.runWebGLProgram(p,[y],o,null,!0),w=this.texData.get(b.dataId);a.texture=w.texture,a.texShape=w.texShape,a.isPacked=w.isPacked,a.usage=w.usage,this.disposeData(y.dataId),this.texData.delete(b.dataId),a.values=null,d&&(this.uploadWaitMs+=Xr()-f)}else{var _=this.acquireTexture(h,l,o,c);a.texture=_}}},t.prototype.convertAndCacheOnCPU=function(n,r){var a=this.texData.get(n),i=a.dtype;return this.releaseGPUData(n),r!=null&&(a.values=function(o,s){if(s==="float32"||s==="complex64")return o;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(o.length):new Uint8Array(o.length),l=0;l<u.length;++l)u[l]=Math.round(o[l]);return u}throw new Error("Unknown dtype "+s)}(r,i)),a.values},t.prototype.acquireTexture=function(n,r,a,i){if(this.numBytesInGPU+=this.computeBytes(n,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,i)},t.prototype.computeBytes=function(n,r){return n[0]*n[1]*Bk(r)},t}(sE);Gk()&&U.registerBackend("webgl",function(){return new yV},2);var bV=B({square_:function(e){var t=R(e,"x","square"),n=[t];return U.runKernelFunc(function(r,a){return a([t]),r.square(t)},{x:t},null,"Square",{},n,[])}}),ku="SquaredDifference",SE=B({squaredDifference_:function(e,t){var n,r=R(e,"a","squaredDifference"),a=R(t,"b","squaredDifference");n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape);var i={a:r,b:a},o=[r,a];return U.runKernelFunc(function(s,u){var l=s.squaredDifference(r,a);return u([r,a]),l},i,function(s,u){var l=u[0],c=u[1],f=pe(2);return{a:function(){return s.mul(l.sub(c).mul(f))},b:function(){return s.mul(c.sub(l).mul(f))}}},ku,{},o,[])}}),xV=B({abs_:function(e){var t=R(e,"x","abs");return t.dtype==="complex64"?U.runKernelFunc(function(n){return n.complexAbs(t)},{$x:t}):U.runKernelFunc(function(n,r){var a=n.abs(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.toFloat().step(-1))}}},"Abs")}}),wV=B({acos_:function(e){var t=R(e,"x","acos");return U.runKernelFunc(function(n,r){var a=n.acos(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(pe(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),_V=B({acosh_:function(e){var t=R(e,"x","acosh");return U.runKernelFunc(function(n,r){var a=n.acosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),kV=B({asin_:function(e){var t=R(e,"x","asin");return U.runKernelFunc(function(n,r){var a=n.asin(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(pe(1).sub(a.toFloat().square()).sqrt())}}})}}),EV=B({asinh_:function(e){var t=R(e,"x","asinh");return U.runKernelFunc(function(n,r){var a=n.asinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(pe(1).add(a.toFloat().square()).sqrt())}}})}}),CV=B({atan_:function(e){var t=R(e,"x","atan");return U.runKernelFunc(function(n,r){var a=n.atan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().square().add(1))}}})}}),SV=B({atanh_:function(e){var t=R(e,"x","atanh");return U.runKernelFunc(function(n,r){var a=n.atanh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(pe(1).sub(a.toFloat().square()))}}})}}),AV=B({ceil_:function(e){var t=R(e,"x","ceil");return U.runKernelFunc(function(n){return n.ceil(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),hv=B({clipByValue_:function(e,t,n){var r=R(e,"x","clipByValue");O(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var a=[r],i={min:t,max:n};return U.runKernelFunc(function(o,s){var u=o.clip(r,t,n);return s([r]),u},{x:r},function(o,s){var u=s[0];return{x:function(){return o.where(u.greaterEqual(t).logicalAnd(u.lessEqual(n)),tt(o))}}},"ClipByValue",i,a)}}),TV=B({cos_:function(e){var t=R(e,"x","cos"),n=[t];return U.runKernelFunc(function(r,a){var i=r.cos(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),IV=B({cosh_:function(e){var t=R(e,"x","cosh");return U.runKernelFunc(function(n,r){var a=n.cosh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(n)}}})}}),RV=B({erf_:function(e){var t=R(e,"x","erf");return O(t.dtype==="int32"||t.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),t.dtype==="int32"&&(t=t.toFloat()),U.runKernelFunc(function(n,r){var a=n.erf(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),Wp=B({exp_:function(e){var t=R(e,"x","exp");return U.runKernelFunc(function(n,r){var a=n.exp(t);return r([a]),a},{x:t},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),NV=B({expm1_:function(e){var t=R(e,"x","expm1");return U.runKernelFunc(function(n,r){var a=n.expm1(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.exp())}}})}}),OV=B({floor_:function(e){var t=R(e,"x","floor");return U.runKernelFunc(function(n){return n.floor(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),DV=B({log_:function(e){var t=R(e,"x","log"),n=[t];return U.runKernelFunc(function(r,a){var i=r.log(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.toFloat())}}},"Log",{},n)}}),PV=B({log1p_:function(e){var t=R(e,"x","log1p");return U.runKernelFunc(function(n,r){var a=n.log1p(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.add(1))}}})}}),FV=B({logSigmoid_:function(e){var t=R(e,"x","logSigmoid");return U.runKernelFunc(function(n,r){var a=n.softplus(t.neg()).neg();return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.neg().sigmoid())}}})}}),zc=B({neg_:function(e){var t=R(e,"x","neg"),n=[t];return U.runKernelFunc(function(r){return r.neg(t)},{x:t},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),MV=B({reciprocal_:function(e){var t=R(e,"x","reciprocal");return U.runKernelFunc(function(n,r){var a=n.reciprocal(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.square().neg())}}})}}),LV=B({round_:function(e){var t=R(e,"x","round");return U.runKernelFunc(function(n){return n.round(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),AE=B({rsqrt_:function(e){var t=R(e,"x","rsqrt"),n=[t];return U.runKernelFunc(function(r,a){var i=r.rsqrt(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return r.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),TE=B({sigmoid_:function(e){var t=R(e,"x","sigmoid");return U.runKernelFunc(function(n,r){var a=n.sigmoid(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mul(a.mul(pe(1).sub(a)))}}},"Sigmoid")}}),BV=B({sign_:function(e){var t=R(e,"x","sign");return U.runKernelFunc(function(n){return n.sign(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),VV=B({isNaN_:function(e){var t=R(e,"x","isNaN");return U.runKernelFunc(function(n){return n.isNaN(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),UV=B({isInf_:function(e){var t=R(e,"x","isInf");return U.runKernelFunc(function(n){return n.isInf(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),WV=B({isFinite_:function(e){var t=R(e,"x","isFinite");return U.runKernelFunc(function(n){return n.isFinite(t)},{$x:t},function(n){return{$x:function(){return tt(n)}}})}}),jV=B({sin_:function(e){var t=R(e,"x","sin"),n=[t];return U.runKernelFunc(function(r,a){var i=r.sin(t);return a([t]),i},{x:t},function(r,a){var i=a[0];return{x:function(){return i.toFloat().cos().mul(r)}}},"Sin",{},n)}}),HV=B({sinh_:function(e){var t=R(e,"x","sinh");return U.runKernelFunc(function(n,r){var a=n.sinh(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(n)}}})}}),zV=B({softplus_:function(e){var t=R(e,"x","softplus");return U.runKernelFunc(function(n,r){var a=n.softplus(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.sigmoid())}}})}}),GV=B({sqrt_:function(e){var t=R(e,"x","sqrt");return U.runKernelFunc(function(n,r){var a=n.sqrt(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().sqrt().mul(2))}}})}}),KV=B({step_:function(e,t){t===void 0&&(t=0);var n=R(e,"x","step");return U.runKernelFunc(function(r){return r.step(n,t)},{$x:n},function(r){return{$x:function(){return tt(r)}}})}}),qV=B({tan_:function(e){var t=R(e,"x","tan");return U.runKernelFunc(function(n,r){var a=n.tan(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return n.div(a.cos().square())}}})}}),$V=B({tanh_:function(e){var t=R(e,"x","tanh");return U.runKernelFunc(function(n,r){var a=n.tanh(t);return r([a]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return pe(1).sub(a.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function IE(e,t,n,r,a,i){var o,s,u=R(e,"x","batchNorm"),l=R(t,"mean","batchNorm"),c=R(n,"variance","batchNorm");return a!=null&&(o=R(a,"scale","batchNorm")),r!=null&&(s=R(r,"offset","batchNorm")),O(u.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),O(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."}),O(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),o!=null&&O(o.rank===2||o.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),s!=null&&O(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),Zu(u,l,c,s,o,i)}function RE(e,t,n,r,a,i){var o,s,u=R(e,"x","batchNorm"),l=R(t,"mean","batchNorm"),c=R(n,"variance","batchNorm");return a!=null&&(o=R(a,"scale","batchNorm")),r!=null&&(s=R(r,"offset","batchNorm")),O(u.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),O(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."}),O(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),o!=null&&O(o.rank===3||o.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),s!=null&&O(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),Zu(u,l,c,s,o,i)}function NE(e,t,n,r,a,i){var o,s,u=R(e,"x","batchNorm"),l=R(t,"mean","batchNorm"),c=R(n,"variance","batchNorm");return a!=null&&(o=R(a,"scale","batchNorm")),r!=null&&(s=R(r,"offset","batchNorm")),O(u.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),O(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."}),O(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),o!=null&&O(o.rank===4||o.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),s!=null&&O(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),Zu(u,l,c,s,o,i)}function Zu(e,t,n,r,a,i){i==null&&(i=.001);var o,s,u,l=R(e,"x","batchNorm"),c=R(t,"mean","batchNorm"),f=R(n,"variance","batchNorm");a!=null&&(o=R(a,"scale","batchNorm")),r!=null&&(s=R(r,"offset","batchNorm")),O(c.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),O(s==null||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),O(o==null||c.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=l.rank===0||l.rank===1?l.as4D(1,1,1,l.size):l.rank===2?l.as4D(1,1,l.shape[0],l.shape[1]):l.rank===3?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var d=[l,c,f,o];return U.runKernelFunc(function(h,m){var p=h.batchNormalization(u,Ol(c),Ol(f),i,Ol(o),Ol(s));return m([l,c,f,o]),p},{x:l,mean:c,variance:f,scale:o,offset:s},function(h,m){var p=m,v=p[0],g=p[1],x=p[2],y=p[3],b=y??pe(1),w=qt(g.shape,u.shape),_=[];if(g.rank===1){for(var S=0;S<u.shape.length-1;++S)_.push(u.shape[S]);_.push(1)}var C=v.sub(g),k=h.mul(b),E=AE(x.add(pe(i))),T=E.mul(E).mul(E).mul(pe(-.5));return{x:function(){return g.rank===1?h.mul(jo(E.as4D(1,1,1,g.shape[0]),_)).mul(b).reshape(v.shape):h.mul(E).mul(b).reshape(v.shape)},mean:function(){var A=E.mul(pe(-1)).mul(k);return g.rank===1&&(A=A.sum(w)),A.reshape(g.shape)},variance:function(){var A=T.mul(C).mul(k);return g.rank===1&&(A=A.sum(w)),A.reshape(g.shape)},scale:function(){var A=C.mul(E),I=h.mul(A);return g.rank===1&&(I=I.sum(w)),I.reshape(g.shape)},offset:function(){var A=h;return g.rank===1&&(A=A.sum(w)),A.reshape(g.shape)}}},"BatchNormalization",{varianceEpsilon:i},d).reshape(l.shape)}function Ol(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Qf(){Kk("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var XV=B({batchNormalization2d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),Qf(),IE(e,t,n,i,a,r)}}),YV=B({batchNormalization3d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),Qf(),RE(e,t,n,i,a,r)}}),JV=B({batchNormalization4d_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),Qf(),NE(e,t,n,i,a,r)}}),QV=B({batchNormalization_:function(e,t,n,r,a,i){return r===void 0&&(r=.001),Qf(),Zu(e,t,n,i,a,r)}}),OE=B({batchNorm_:Zu}),ZV=B({batchNorm2d_:IE}),e6=B({batchNorm3d_:RE}),t6=B({batchNorm4d_:NE}),Zf=B({logicalAnd_:function(e,t){var n=R(e,"a","logicalAnd","bool"),r=R(t,"b","logicalAnd","bool");return Je(n.shape,r.shape),U.runKernelFunc(function(a){return a.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),n6=B({logicalNot_:function(e){var t=R(e,"x","logicalNot","bool");return U.runKernelFunc(function(n){return n.logicalNot(t)},{$x:t})}}),DE=B({logicalOr_:function(e,t){var n=R(e,"a","logicalOr","bool"),r=R(t,"b","logicalOr","bool");return Je(n.shape,r.shape),U.runKernelFunc(function(a){return a.logicalOr(n,r)},{$a:n,$b:r})}}),r6=B({logicalXor_:function(e,t){var n=R(e,"a","logicalXor","bool"),r=R(t,"b","logicalXor","bool");return Je(n.shape,r.shape),DE(e,t).logicalAnd(Zf(e,t).logicalNot())}}),eo=B({where_:function(e,t,n){var r=R(t,"a","where"),a=R(n,"b","where"),i=R(e,"condition","where","bool");return ct(r.shape,a.shape,"Error in where: "),i.rank===1?O(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):ct(i.shape,a.shape,"Error in where: "),U.runKernelFunc(function(o,s){var u=o.select(i,r,a);return s([i]),u},{$condition:i,$a:r,$b:a},function(o,s){var u=s[0];return{$condition:function(){return tt(u).toFloat()},$a:function(){return o.mul(u.cast(o.dtype))},$b:function(){return o.mul(u.logicalNot().cast(o.dtype))}}})}}),PE=function(e){return we(this,void 0,void 0,function(){var t,n,r;return _e(this,function(a){switch(a.label){case 0:return[4,(t=R(e,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=lv(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},qe=B({add_:function(e,t){var n,r=R(e,"a","add"),a=R(t,"b","add");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o){return o.add(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,u=qt(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=o,u=qt(a.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(a.shape)}}},"Add")}}),a6=B({addN_:function(e){O(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),O(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(a,i){return R(a,"tensors"+i,"addN")}),n=t[0];t.forEach(function(a){if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(a){if(!rn(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return U.runKernelFunc(function(a){return a.addN(t)},r,function(a){var i={};return t.forEach(function(o,s){i[s]=function(){return a.clone()}}),i},"AddN")}}),i6=B({addStrict_:function(e,t){var n=R(e,"a","addStrict"),r=R(t,"b","addStrict");return ct(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),o6=B({atan2_:function(e,t){var n,r=R(e,"a","atan2"),a=R(t,"b","atan2");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o,s){var u=o.atan2(r,a);return s([r,a]),u},{$a:r,$b:a},function(o,s){var u=s[0],l=s[1];return{$a:function(){var c=qe(u.square(),l.square()),f=o.mul(l.div(c)),d=qt(u.shape,i);return d.length>0&&(f=f.sum(d)),f.reshape(u.shape)},$b:function(){var c=qe(u.square(),l.square()),f=zc(o.mul(u.div(c))),d=qt(l.shape,i);return d.length>0&&(f=f.sum(d)),f.reshape(l.shape)}}})}}),Ir=B({div_:function(e,t){var n,r=R(e,"a","div"),a=R(t,"b","div");if(n=Ct(r,a),r=n[0],a=n[1],r.dtype==="int32"&&a.dtype==="int32")return FE(r,a);var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o,s){var u=o.realDivide(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var c=o.div(l.toFloat()),f=qt(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=o.mul(u.toFloat()),f=qt(l.shape,i);f.length>0&&(c=c.sum(f).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}},"Div")}}),s6=B({divNoNan_:function(e,t){var n,r=R(e,"a","div"),a=R(t,"b","div");r=(n=Ct(r,a))[0],a=n[1];var i=Ir(r,a),o=tt(i),s=a.equal(o);return eo(s,o,i)}}),u6=B({divStrict_:function(e,t){var n=R(e,"a","div"),r=R(t,"b","div");return ct(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),FE=B({floorDiv_:function(e,t){var n,r=R(e,"a","floorDiv"),a=R(t,"b","floorDiv");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o,s){var u=o.floorDiv(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var c=o.div(l.toFloat()),f=qt(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=o.mul(u.toFloat()),f=qt(l.shape,i);f.length>0&&(c=c.sum(f).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}},"FloorDiv")}}),pv=B({maximum_:function(e,t){var n,r=R(e,"a","maximum"),a=R(t,"b","maximum");return n=Ct(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Je(r.shape,a.shape),U.runKernelFunc(function(i,o){var s=i.maximum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return i.mul(s.greaterEqual(u).toFloat())},b:function(){return i.mul(s.less(u).toFloat())}}},"Maximum")}}),l6=B({maximumStrict_:function(e,t){var n=R(e,"a","maximumStrict"),r=R(t,"b","maximumStrict");return ct(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),ME=B({minimum_:function(e,t){var n,r=R(e,"a","minimum"),a=R(t,"b","minimum");return n=Ct(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Je(r.shape,a.shape),U.runKernelFunc(function(i,o){var s=i.minimum(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return i.mul(s.lessEqual(u).toFloat())},b:function(){return i.mul(s.greater(u).toFloat())}}},"Minimum")}}),c6=B({minimumStrict_:function(e,t){var n=R(e,"a","minimumStrict"),r=R(t,"b","minimumStrict");return ct(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),f6=B({mod_:function(e,t){var n,r=R(e,"a","mod"),a=R(t,"b","mod");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o,s){var u=o.mod(r,a);return s([r,a]),u},{$a:r,$b:a},function(o,s){var u=s[0],l=s[1];return{$a:function(){var c=qt(u.shape,i);return c.length>0?o.sum(c).reshape(u.shape):o},$b:function(){var c=o.mul(u.div(l).floor().neg()),f=qt(l.shape,i);return f.length>0?c.sum(f).reshape(l.shape):c}}})}}),d6=B({modStrict_:function(e,t){var n=R(e,"a","modStrict"),r=R(t,"b","modStrict");return ct(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Cn=B({mul_:function(e,t){var n,r=R(e,"a","mul"),a=R(t,"b","mul");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o,s){var u=o.multiply(r,a);return s([r,a]),u},{a:r,b:a},function(o,s){var u=s[0],l=s[1];return{a:function(){var c=o.mul(l.toFloat()),f=qt(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=o.mul(u.toFloat()),f=qt(l.shape,i);return f.length>0?c.sum(f).reshape(l.shape):c}}},"Mul")}}),h6=B({mulStrict_:function(e,t){var n=R(e,"a","mul"),r=R(t,"b","mul");return ct(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Gc=B({pow_:function(e,t){var n,r=R(e,"base","pow"),a=R(t,"exp","pow");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape),o=[r,a];return U.runKernelFunc(function(s,u){var l=s.pow(r,a);return u([r,a,l]),l},{a:r,b:a},function(s,u){var l=u[0],c=u[1],f=u[2];return{a:function(){var d=c.toFloat(),h=s.mul(d.mul(l.pow(d.sub(pe(1))))),m=qt(l.shape,i);return m.length>0&&(h=h.sum(m)),h.reshape(l.shape)},b:function(){var d=l.greater(0),h=l.log().where(d,tt(l)),m=s.mul(f.mul(h)),p=qt(c.shape,i);return p.length>0&&(m=m.sum(p)),m.reshape(c.shape)}}},"Pow",{},o,[!0])}}),p6=B({powStrict_:function(e,t){return ct(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),m6=B({squaredDifferenceStrict_:function(e,t){var n=R(e,"a","squaredDifferenceStrict"),r=R(t,"b","squaredDifferenceStrict");return ct(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),$t=B({sub_:function(e,t){var n,r=R(e,"a","sub"),a=R(t,"b","sub");n=Ct(r,a),r=n[0],a=n[1];var i=Je(r.shape,a.shape);return U.runKernelFunc(function(o){return o.subtract(r,a)},{a:r,b:a},function(o){return{a:function(){var s=o,u=qt(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=o,u=qt(a.shape,i);return u.length>0&&(s=s.sum(u)),s.neg().reshape(a.shape)}}},"Sub")}}),v6=B({subStrict_:function(e,t){var n=R(e,"a","subStrict"),r=R(t,"b","subStrict");return ct(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),LE=B({equal_:function(e,t){var n,r=R(e,"a","equal"),a=R(t,"b","equal");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i){return i.equal(r,a)},{$a:r,$b:a})}}),g6=B({equalStrict_:function(e,t){var n=R(e,"a","equalStrict"),r=R(t,"b","equalStrict");return ct(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),y6=B({greater_:function(e,t){var n,r=R(e,"a","greater"),a=R(t,"b","greater");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i){return i.greater(r,a)},{a:r,b:a},null,"Greater")}}),BE=B({greaterEqual_:function(e,t){var n,r=R(e,"a","greaterEqual"),a=R(t,"b","greaterEqual");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i,o){var s=i.greaterEqual(r,a);return o([r,a]),s},{a:r,b:a},function(i,o){var s=o[0],u=o[1];return{a:function(){return tt(s)},b:function(){return tt(u)}}},"GreaterEqual")}}),b6=B({greaterEqualStrict_:function(e,t){var n=R(e,"a","greaterEqualStrict"),r=R(t,"b","greaterEqualStrict");return ct(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),x6=B({greaterStrict_:function(e,t){var n=R(e,"a","greaterStrict"),r=R(t,"b","greaterStrict");return ct(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),w6=B({less_:function(e,t){var n,r=R(e,"a","less"),a=R(t,"b","less");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i){return i.less(r,a)},{a:r,b:a},null,"Less")}}),_6=B({lessEqual_:function(e,t){var n,r=R(e,"a","lessEqual"),a=R(t,"b","lessEqual");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i,o){var s=i.lessEqual(r,a);return o([r,a]),s},{a:r,b:a},null,"LessEqual")}}),k6=B({lessEqualStrict_:function(e,t){var n=R(e,"a","lessEqualStrict"),r=R(t,"b","lessEqualStrict");return ct(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),E6=B({lessStrict_:function(e,t){var n=R(e,"a","lessStrict"),r=R(t,"b","lessStrict");return ct(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),C6=B({notEqual_:function(e,t){var n,r=R(e,"a","notEqual"),a=R(t,"b","notEqual");return n=Ct(r,a),r=n[0],a=n[1],Je(r.shape,a.shape),U.runKernelFunc(function(i){return i.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),S6=B({notEqualStrict_:function(e,t){var n=R(e,"a","notEqualStrict"),r=R(t,"b","notEqualStrict");return ct(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function k0(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function E0(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var mv=B({gather_:function(e,t,n){n===void 0&&(n=0);var r=R(e,"x","gather"),a=R(t,"indices","gather","int32");n=Yt(n,r.shape)[0];var i=function(o,s,u){for(var l=o.shape[u],c=[],f=1,d=1,h=0;h<u;h++)c.push(o.shape[h]),f*=o.shape[h];for(h=0;h<s.rank;h++)c.push(s.shape[h]);for(h=u+1;h<o.rank;h++)c.push(o.shape[h]),d*=o.shape[h];return{batchSize:f,sliceSize:d,dimSize:l,outputShape:c}}(r,a,n);return U.runKernelFunc(function(o,s){var u=o.gather(r,a.flatten(),n);return s([a]),u},{x:r,indices:a},function(o,s){var u=s[0];return{x:function(){var l=r.shape,c=u.size,f=l.slice(0,n),d=f.length,h=l.slice(n,l.length).slice(1),m=h.length,p=k0(0,d),v=k0(d+1,d+1+m),g=E0([f,[c],h]),x=o.reshape(g),y=u.reshape([c]),b=E0([[d],p,v]),w=x.transpose(b),_=VE(w,y,r.shape[n]),S=tv(b);return _=_.transpose(S)},indices:function(){return u}}},"Gather",{axis:n}).reshape(i.outputShape)}}),VE=B({unsortedSegmentSum_:function(e,t,n){var r=R(e,"x","unsortedSegmentSum"),a=R(t,"segmentIds","unsortedSegmentSum","int32");return O(Pt(n),function(){return"numSegments must be of dtype int"}),U.runKernelFunc(function(i,o){var s=i.unsortedSegmentSum(r,a,n);return o([a]),s},{$x:r},function(i,o){var s=o[0];return{$x:function(){return function(u,l){for(var c=pv(l,tt(l)),f=mv(u,c),d=BE(l,pe(0,"int32")),h=f.rank-d.rank,m=0;m<h;++m)d=yr(d,m+1);d=Zf(d,Es(f.shape,"bool"));var p=tt(f);return eo(d,f,p)}(i,s)}}})}}),A6=function(e,t,n){return we(this,void 0,void 0,function(){var r,a,i,o,s,u,l,c,f,d,h,m,p;return _e(this,function(v){switch(v.label){case 0:for(r=R(e,"tensor","boolMask"),a=R(t,"mask","boolMask","bool"),i=n??0,o=a.rank,s=r.shape,O(o>0,function(){return"mask cannot be scalar"}),ct(s.slice(i,i+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=i;l<i+o;l++)u*=s[l];return c=s.slice(0,i).concat([u],s.slice(i+o)),f=r.reshape(c),d=a.reshape([-1]),[4,PE(d)];case 1:return h=v.sent(),m=h.squeeze([1]),p=mv(f,m,i),e!==r&&r.dispose(),t!==a&&a.dispose(),m.dispose(),f.dispose(),d.dispose(),h.dispose(),[2,p]}})})};function UE(e,t,n,r,a,i,o){i===void 0&&(i="NHWC"),O(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,u=t,l=!1;t.rank===3&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),O(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),O(u.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),O(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var c=i==="NHWC"?s[3]:s[1],f=i==="NHWC"?u.shape[3]:u.shape[1];O(c===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."}),O(f===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."}),o!=null&&O(Pt(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var d=ov(i),h=mo(s,n.shape,r,1,a,o,!1,d),m=U.runKernelFunc(function(p,v){var g=p.conv2dDerInput(u,n,h);return v([n,u]),g},{dy4D:u,filter:n},function(p,v){var g=v[0],x=v[1];return{dy4D:function(){return Sr(p,g,r,a,i,1,o)},filter:function(){return vv(p,x,g.shape,r,a,i,o)}}});return l?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}function xh(e){var t=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(e),n=t[0],r=t[1],a=t[2];return n===1&&r===1&&a===1}function WE(e,t,n,r,a){O(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var i=e,o=t,s=!1;t.rank===4&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],l=o.shape[4];O(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),O(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),O(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),O(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),O(l===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."});var c=jc(i,n.shape,r,1,a),f=U.runKernelFunc(function(d){return d.conv3dDerInput(o,n,c)},{dy5D:o});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var T6=B({conv1d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NWC"),i===void 0&&(i=1);var s=R(e,"x","conv1d"),u=R(t,"filter","conv1d"),l=s,c=!1;s.rank===2&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),O(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),O(u.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),o!=null&&O(Pt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),O(l.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),O(Yn(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),O(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),h=Sr(d,f,[1,n],r,"NHWC",[1,i],o);return c?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),Sr=B({conv2d_:function(e,t,n,r,a,i,o){a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]);var s=R(e,"x","conv2d"),u=R(t,"filter","conv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),O(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),O(u.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),o!=null&&O(Pt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var f=a==="NHWC"?l.shape[3]:l.shape[1];O(f===u.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."}),O(Yn(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var d=ov(a),h=mo(l.shape,u.shape,n,i,r,o,!1,d),m=[u,l],p=U.runKernelFunc(function(v,g){var x=v.conv2d(l,u,h);return g([u,l]),x},{x:l,filter:u},function(v,g){var x=g,y=x[0],b=x[1];return O(us(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return jE(b.shape,v,y,n,r,a)},filter:function(){return vv(b,v,y.shape,n,r,a)}}},"Conv2D",h,m);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),I6=B({conv3d_:function(e,t,n,r,a,i){a===void 0&&(a="NDHWC"),i===void 0&&(i=[1,1,1]);var o=R(e,"x","conv3d"),s=R(t,"filter","conv3d"),u=o,l=!1;o.rank===4&&(l=!0,u=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),O(u.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),O(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),O(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),O(function(d,h){return xh(d)||xh(h)}(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),O(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var c=jc(u.shape,s.shape,n,i,r),f=U.runKernelFunc(function(d,h){var m=d.conv3d(u,s,c);return h([u,s]),m},{x:u,$filter:s},function(d,h){O(xh(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var m=h[0],p=h[1];return{x:function(){return WE(m.shape,d,p,n,r)},$filter:function(){return function(v,g,x,y,b){var w=v;v.rank===4&&(w=v.as5D(1,v.shape[0],v.shape[1],v.shape[2],v.shape[3]));var _=g;_.rank===4&&(_=g.as5D(1,g.shape[0],g.shape[1],g.shape[2],g.shape[3])),O(w.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+w.shape+"."}),O(_.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+_.shape+"."}),O(x.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+x+"."}),O(w.shape[4]===x[3],function(){return"Error in conv3dDerFilter: depth of input "+w.shape[4]+") must match input depth in filter ("+x[3]+"."}),O(_.shape[4]===x[4],function(){return"Error in conv3dDerFilter: depth of dy ("+_.shape[4]+") must match output depth for filter ("+x[4]+")."});var S=jc(w.shape,x,y,1,b);return U.runKernelFunc(function(C){return C.conv3dDerFilter(w,_,S)},{x5D:w,dy5D:_})}(m,d,p.shape,n,r)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),vv=B({conv2dDerFilter_:function(e,t,n,r,a,i,o){i===void 0&&(i="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;u.rank===3&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),O(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),O(u.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),O(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var l=i==="NHWC"?s.shape[3]:s.shape[1],c=i==="NHWC"?u.shape[3]:u.shape[1];O(l===n[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."}),O(c===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."}),o!=null&&O(Pt(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var f=ov(i),d=mo(s.shape,n,r,1,a,o,!1,f);return U.runKernelFunc(function(h){return h.conv2dDerFilter(s,u,d)},{x4D:s,dy4D:u})}}),jE=B({conv2dDerInput_:UE}),ed=B({depthwiseConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]);var s=R(e,"x","depthwiseConv2d"),u=R(t,"filter","depthwiseConv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),O(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."}),O(u.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),O(l.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),i==null&&(i=[1,1]),O(Yn(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),o!=null&&O(Pt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var f=mo(l.shape,u.shape,n,i,r,o,!0),d=[l,u],h=U.runKernelFunc(function(m,p){var v=m.depthwiseConv2D(l,u,f);return p([l,u]),v},{x:l,filter:u},function(m,p){O(us(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var v=p[0],g=p[1];return{x:function(){return HE(v.shape,m,g,f)},filter:function(){return zE(v,m,g.shape,f)}}},"DepthwiseConv2dNative",f,d);return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),HE=B({depthwiseConv2dDerInput_:function(e,t,n,r){var a=t,i=!1;t.rank===3&&(i=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=U.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(a,n,r)},{dy4D:a});return i?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),zE=B({depthwiseConv2dDerFilter_:function(e,t,n,r){var a=e;e.rank===3&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return i.rank===3&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),U.runKernelFunc(function(o){return o.depthwiseConv2DDerFilter(a,i,r)},{x4D:a,dy4D:i})}}),gv=B({separableConv2d_:function(e,t,n,r,a,i,o){i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC");var s=R(e,"x","separableConv2d"),u=R(t,"depthwiseFilter","separableConv2d"),l=R(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");O(c.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),O(u.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),O(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),O(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."}),O(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."});var d=u.shape[2],h=u.shape[3];O(l.shape[2]===d*h,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+l.shape[2]+"."});var m=ed(c,u,r,a,o,i),p=Sr(m,l,1,"valid",o);return f?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),R6=B({conv2dTranspose_:function(e,t,n,r,a,i){return UE(n,R(e,"x","conv2dTranspose"),R(t,"filter","conv2dTranspose"),r,a,"NHWC",i)}}),N6=B({conv3dTranspose_:function(e,t,n,r,a){return WE(n,R(e,"x","conv3dTranspose"),R(t,"filter","conv3dTranspose"),r,a)}}),td=B({matMul_:function(e,t,n,r){var a;n===void 0&&(n=!1),r===void 0&&(r=!1);var i=R(e,"a","matMul"),o=R(t,"b","matMul");a=Ct(i,o),i=a[0],o=a[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?i.shape[i.rank-1]:i.shape[i.rank-2],c=r?o.shape[o.rank-2]:o.shape[o.rank-1],f=i.shape.slice(0,-2),d=o.shape.slice(0,-2),h=ke(f),m=ke(d);O(i.rank>=2&&o.rank>=2&&i.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+o.rank+"."}),O(rn(f,d),function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+i.shape+" and "+o.shape+" must match."}),O(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var p=i.shape.slice(0,-2).concat([l,c]),v=n?i.as3D(h,s,l):i.as3D(h,l,s),g=r?o.as3D(m,c,u):o.as3D(m,u,c),x={transposeA:n,transposeB:r};return U.runKernelFunc(function(y,b){var w=y.batchMatMul(v,g,n,r);return b([v,g]),w},{a:v,b:g},function(y,b){var w=b,_=w[0],S=w[1];return n||r?!n&&r?{a:function(){return y.matMul(S,!1,!1)},b:function(){return y.matMul(_,!0,!1)}}:n&&!r?{a:function(){return S.matMul(y,!1,!0)},b:function(){return _.matMul(y,!1,!1)}}:{a:function(){return S.matMul(y,!0,!0)},b:function(){return y.matMul(_,!0,!0)}}:{a:function(){return y.matMul(S,!1,!0)},b:function(){return _.matMul(y,!0,!1)}}},"BatchMatMul",x).reshape(p)}}),O6=B({dot_:function(e,t){var n=R(e,"t1","dot"),r=R(t,"t2","dot");O(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];return O(a===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+i+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),D6=B({outerProduct_:function(e,t){var n=R(e,"v1","outerProduct"),r=R(t,"v2","outerProduct");return O(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),el=B({reverse_:function(e,t){var n=R(e,"x","reverse");if(n.rank===0)return n.clone();var r=Yt(t,n.shape);return U.runKernelFunc(function(a){return a.reverse(n,r)},{$x:n},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(n)}}),P6=B({reverse1d_:function(e){var t=R(e,"x","reverse");return O(t.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),el(t,0)}}),F6=B({reverse2d_:function(e,t){var n=R(e,"x","reverse");return O(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),el(n,t)}}),M6=B({reverse3d_:function(e,t){var n=R(e,"x","reverse");return O(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),el(n,t)}}),L6=B({reverse4d_:function(e,t){var n=R(e,"x","reverse");return O(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),el(n,t)}});function GE(e,t,n,r,a,i){var o=R(e,"x","maxPool"),s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),O(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),O(Yn(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),i!=null&&O(Pt(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=_u(s.shape,t,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&rn(l.inShape,l.outShape))return o.clone();var c=[s],f=U.runKernelFunc(function(d,h){var m=d.maxPool(s,l);return h([s,m]),m},{x:s},function(d,h){var m=h[0],p=h[1];return{x:function(){return function(v,g,x,y,b,w,_,S){var C=R(v,"dy","maxPoolBackprop"),k=R(g,"input","maxPoolBackprop"),E=R(x,"output","maxPoolBackprop");O(k.rank===C.rank,function(){return"Rank of input ("+k.rank+") does not match rank of dy ("+C.rank+")"}),O(Yn(b,w),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),O(C.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+C.rank+"."}),O(k.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+k.rank+"."});var T=_u(k.shape,y,b,w,_,S);return U.runKernelFunc(function(A){return A.maxPoolBackprop(C,k,E,T)},{$dy:C,$input:k})}(d,m,p,t,n,r,a)}}},"MaxPool",l,c);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function KE(e,t,n,r,a,i){var o=R(e,"x","avgPool","float32");O(Yn(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),O(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),i!=null&&O(Pt(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=_u(s.shape,t,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&rn(l.inShape,l.outShape))return o.clone();var c=U.runKernelFunc(function(f){return f.avgPool(s,l)},{x:s},function(f){return{x:function(){return function(d,h,m,p,v,g){var x=R(d,"dy","avgPoolBackprop"),y=R(h,"input","avgPoolBackprop");O(y.rank===x.rank,function(){return"Rank of input ("+y.rank+") does not match rank of dy ("+x.rank+")"}),O(Yn(p,v),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+p+" and dilations '"+v+"'"});var b=y,w=x,_=!1;y.rank===3&&(_=!0,b=y.as4D(1,y.shape[0],y.shape[1],y.shape[2]),w=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),O(w.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+w.rank+"."}),O(b.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+b.rank+"."});var S=_u(b.shape,m,p,v,g),C=U.runKernelFunc(function(k){return k.avgPoolBackprop(w,b,S)},{dy4D:w,input4D:b});return _?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}(f,s,t,n,r,a)}}},"AvgPool",l);return c=c.cast(o.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Zt=B({maxPool_:function(e,t,n,r,a){return GE(e,t,n,1,r,a)}}),tl=B({avgPool_:function(e,t,n,r,a){return KE(e,t,n,1,r,a)}}),B6=B({pool_:function(e,t,n,r,a,i){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");var o=R(e,"x","maxPool"),s=o,u=!1;o.rank===3&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),O(Yn(i,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"});var l,c=_u(s.shape,t,i,a,r),f=[c.dilationHeight,c.dilationWidth];l=r==="same"?function(b,w){var _=b.map(function(k,E){return k+(k-1)*(w[E]-1)}).map(function(k){return k-1}),S=_.map(function(k){return Math.floor(k/2)}),C=_.map(function(k,E){return k-S[E]});return _.map(function(k,E){return[S[E],C[E]]})}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var d=f[0]===1&&f[1]===1,h=function(b,w,_){var S=_.map(function(D){return D[0]}),C=_.map(function(D){return D[1]}),k=b.concat(S,C),E=w.map(function(D,M){return(D-k[M]%D)%D}),T=C.map(function(D,M){return D+E[M]}),A=w.map(function(D,M){return[S[M],T[M]]}),I=w.map(function(D,M){return[0,E[M]]});return[A,I]}([c.inHeight,c.inWidth],f,l),m=h[0],p=h[1],v=d?r:"valid",g=d?s:Qk(s,f,m),x=(n==="avg"?function(){return KE(g,t,i,1,v)}:function(){return GE(g,t,i,1,v)})(),y=d?x:Xk(x,f,p);return u?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),V6=B({maxPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=R(e,"x","maxPool3d"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),O(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),O(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),O(Yn(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&O(Pt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var c=Wc(u.shape,t,n,o,r,a,i),f=U.runKernelFunc(function(d,h){var m=d.maxPool3d(u,c);return h([u,m]),m},{x:u},function(d,h){var m=h[0],p=h[1];return{x:function(){return function(v,g,x,y,b,w,_,S){var C=R(v,"dy","maxPool3dBackprop"),k=R(g,"input","maxPool3dBackprop"),E=R(x,"output","maxPool3dBackprop"),T=C,A=k,I=E,D=!1;k.rank===4&&(D=!0,T=C.as5D(1,C.shape[0],C.shape[1],C.shape[2],C.shape[3]),A=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3]),I=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3])),O(T.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+T.rank+"."}),O(A.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+A.rank+"."}),O(I.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+I.rank+"."}),w==null&&(w=[1,1,1]),O(Yn(b,w),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),S!=null&&O(Pt(_),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+S+" but got pad "+_+"."});var M=Wc(A.shape,y,b,w,_,S),L=U.runKernelFunc(function(W){return W.maxPool3dBackprop(T,A,I,M)},{dy5D:T,input5D:A});return D?L.as4D(L.shape[1],L.shape[2],L.shape[3],L.shape[4]):L}(d,m,p,t,n,o,r,a)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),U6=B({avgPool3d_:function(e,t,n,r,a,i,o){i===void 0&&(i="NDHWC");var s=R(e,"x","avgPool3d","float32"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),O(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),O(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),O(Yn(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&O(Pt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var c=Wc(u.shape,t,n,o,r,a,i),f=U.runKernelFunc(function(d){return d.avgPool3d(u,c)},{x:u},function(d){return{x:function(){return function(h,m,p,v,g,x,y){var b=R(h,"dy","avgPool3dBackprop"),w=R(m,"input","avgPool3dBackprop"),_=b,S=w,C=!1;w.rank===4&&(C=!0,_=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]),S=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),O(_.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+_.rank+"."}),O(S.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+S.rank+"."}),g==null&&(g=[1,1,1]),O(Yn(v,g),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+v+" and dilations '"+g+"'"}),y!=null&&O(Pt(x),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+y+" but got pad "+x+"."});var k=Wc(S.shape,p,v,g,x,y),E=U.runKernelFunc(function(T){return T.avgPool3dBackprop(_,S,k)},{dy5D:_,input5D:S});return C?E.as4D(E.shape[1],E.shape[2],E.shape[3],E.shape[4]):E}(d,u,t,n,o,r,a)}}});return f=f.cast(u.dtype),l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),ia=B({slice_:function(e,t,n){var r,a,i=R(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof t=="number"?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach(function(u){O(u!==-1,function(){return"slice() does not support negative begin indexing."})}),a=(a=n==null?new Array(i.rank).fill(-1):typeof n=="number"?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(u,l){return u>=0?u:(O(u===-1,function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+l+"."}),i.shape[l]-r[l])}),pL(i,r,a);var o=i.shape,s={begin:r,size:a};return U.runKernelFunc(function(u){return u.slice(i,r,a)},{x:i},function(u){for(var l=[],c=0;c<u.rank;c++)l.push([r[c],o[c]-r[c]-a[c]]);return{x:function(){return u.pad(l)}}},"Slice",s)}}),W6=B({slice1d_:function(e,t,n){var r=R(e,"x","slice1d");return O(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),ia(r,[t],[n])}}),j6=B({slice2d_:function(e,t,n){var r=R(e,"x","slice2d");return O(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),ia(r,t,n)}}),qE=B({slice3d_:function(e,t,n){var r=R(e,"x","slice3d");return O(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),ia(r,t,n)}}),H6=B({slice4d_:function(e,t,n){var r=R(e,"x","slice4d");return O(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),ia(r,t,n)}});function $E(e,t,n,r,a){return t.rank<n.rank&&(t=t.reshape(Xn(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Xn(e.shape,r))),{x:function(){var i=e.mul(n.equal(t).cast(e.dtype));return a==null?i:i.transpose(a)}}}var z6=B({all_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","all","bool"),a=Yt(t,r.shape),i=a,o=ca(i,r.rank);o!=null&&(r=r.transpose(o),i=fa(i.length,r.rank));var s=U.runKernelFunc(function(l){return l.all(r,i)},{$x:r});if(n){var u=Xn(s.shape,a);return s.reshape(u)}return s}}),G6=B({any_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","any","bool"),a=Yt(t,r.shape),i=a,o=ca(i,r.rank);o!=null&&(r=r.transpose(o),i=fa(i.length,r.rank));var s=U.runKernelFunc(function(l){return l.any(r,i)},{$x:r});if(n){var u=Xn(s.shape,a);return s.reshape(u)}return s}}),K6=B({argMax_:function(e,t){t===void 0&&(t=0);var n=R(e,"x","argMax");t==null&&(t=0);var r=Yt(t,n.shape),a=ca(r,n.rank);a!=null&&(n=n.transpose(a),r=fa(r.length,n.rank));var i={axis:r[0]},o=[n];return U.runKernelFunc(function(s,u){var l=s.argMax(n,r[0]);return u([n]),l},{x:n},function(s,u){var l=u[0];return{x:function(){return tt(l)}}},"ArgMax",i,o)}}),q6=B({argMin_:function(e,t){t===void 0&&(t=0);var n=R(e,"x","argMin");t==null&&(t=0);var r=Yt(t,n.shape),a=ca(r,n.rank);return a!=null&&(n=n.transpose(a),r=fa(r.length,n.rank)),U.runKernelFunc(function(i,o){var s=i.argMin(n,r[0]);return o([n]),s},{$x:n},function(i,o){var s=o[0];return{$x:function(){return tt(s)}}})}}),$6=B({logSumExp_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","logSumExp"),a=Yt(t,r.shape),i=r.max(a,!0),o=r.sub(i).exp().sum(a).log(),s=i.reshape(o.shape).add(o);if(n){var u=Xn(s.shape,a);return s.reshape(u)}return s}}),nd=B({max_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","max"),a=r,i=Yt(t,r.shape),o=i,s=ca(o,r.rank);s!=null&&(r=r.transpose(s),o=fa(o.length,r.rank));var u=[r],l=U.runKernelFunc(function(f,d){var h=f.max(r,o);return d([a,h]),h},{x:r},function(f,d){return $E(f,d[1],d[0],i,s)},"Max",{axes:o},u,[!0]);if(n){var c=Xn(l.shape,i);l=l.reshape(c)}return l}}),X6=B({mean_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","mean"),a=Yt(t,r.shape),i=ke(mn(r.shape,a)[1]);return Jf(function(o){var s=pe(i);return{value:(s.dtype===o.dtype?o:o.cast(s.dtype)).div(s).sum(t,n),gradFunc:function(u){var l=o.shape.slice();return a.forEach(function(c){l[c]=1}),u.reshape(l).mul(Es(o.shape,"float32")).div(i)}}})(r)}}),Y6=B({min_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","min"),a=r,i=Yt(t,r.shape),o=i,s=ca(o,r.rank);s!=null&&(r=r.transpose(s),o=fa(o.length,r.rank));var u=[r],l=U.runKernelFunc(function(f,d){var h=f.min(r,o);return d([a,h]),h},{x:r},function(f,d){return $E(f,d[1],d[0],i,s)},"Min",{axes:o},u,[!0]);if(n){var c=Xn(l.shape,i);l=l.reshape(c)}return l}}),J6=B({moments_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=Yt(t,(e=R(e,"x","moments")).shape),a=e.mean(r,n),i=a.shape;n||(i=Xn(a.shape,r));var o=e.toFloat().sub(a.reshape(i)).square();return{mean:a,variance:o.mean(r,n)}}}),XE=B({sum_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=Yt(t,r.shape);return Jf(function(i){var o=ca(a,i.rank),s=a,u=i;o!=null&&(u=i.transpose(o),s=fa(s.length,i.rank));var l=function(h){var m=i.shape.slice();return a.forEach(function(p){m[p]=1}),h.reshape(m).mul(Es(i.shape,"float32"))},c={axes:s},f=U.runKernelFunc(function(h){return h.sum(u,s)},{x:u},function(h){return{x:function(){return l(h)}}},"Sum",c);if(n){var d=Xn(f.shape,a);f=f.reshape(d)}return{value:f,gradFunc:l}})(r)}}),Q6=B({prod_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=R(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=Yt(t,r.shape),i=ca(a,r.rank),o=a,s=r;i!=null&&(s=r.transpose(i),o=fa(o.length,r.rank));var u=U.runKernelFunc(function(c){return c.prod(s,o)},{permutedX:s});if(n){var l=Xn(u.shape,a);u=u.reshape(l)}return u}}),YE=B({elu_:function(e){var t=R(e,"x","elu");return U.runKernelFunc(function(n,r){var a=n.elu(t);return r([a]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){return U.runKernelFunc(function(i){return i.eluDer(n,a)},{dy:n,y:a})}}})}}),Z6=B({leakyRelu_:function(e,t){t===void 0&&(t=.2);var n=R(e,"x","leakyRelu");return pv(pe(t).mul(n),n)}}),JE=B({prelu_:function(e,t){var n=R(e,"x","prelu"),r=R(t,"alpha","prelu");return U.runKernelFunc(function(a,i){var o=a.prelu(n,r);return i([n,r]),o},{x:n,alpha:r},function(a,i){var o=i[0],s=i[1],u=o.greater(0);return{x:function(){return eo(u,a,a.mul(s))},alpha:function(){var l=eo(u,tt(a),a.mul(o)),c=qt(s.shape,a.shape);return c.length>0&&(l=l.sum(c)),l.reshape(s.shape)}}},"Prelu")}}),kt=B({relu_:function(e){var t=R(e,"x","relu");return t.dtype==="bool"?t.toInt():U.runKernelFunc(function(n,r){var a=n.relu(t);return r([t]),a},{x:t},function(n,r){var a=r[0];return{x:function(){return n.mulStrict(a.step().toFloat())}}},"Relu")}}),QE=B({relu6_:function(e){var t=R(e,"x","relu6");return t.dtype==="bool"?t.toInt():U.runKernelFunc(function(n,r){var a=n.relu6(t);return r([t]),a},{x:t},function(n,r){var a=r[0],i=a.lessEqual(6).mul(a.step());return{x:function(){return n.mulStrict(i.toFloat())}}},"Relu6")}}),eU=B({selu_:function(e){var t=R(e,"x","selu");return U.runKernelFunc(function(n,r){var a=n.selu(t);return r([t]),a},{$x:t},function(n,r){var a=r[0];return{$x:function(){var i=a.greater(pe(0)),o=pe(fv),s=pe(dv),u=n.mul(s),l=n.mul(o).mul(a.toFloat().exp());return eo(i,u,l)}}})}}),pi=B({transpose_:function(e,t){var n=R(e,"x","transpose");if(t==null&&(t=n.shape.map(function(a,i){return i}).reverse()),O(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(a){O(a>=0&&a<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return U.runKernelFunc(function(a){return a.transpose(n,t)},{x:n},function(a){var i=tv(t);return{x:function(){return a.transpose(i)}}},"Transpose",r)}}),tU=B({localResponseNormalization_:function(e,t,n,r,a){t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5);var i=R(e,"x","localResponseNormalization");O(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),O(Pt(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=i,s=!1;i.rank===3&&(s=!0,o=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=U.runKernelFunc(function(l,c){var f=l.localResponseNormalization4D(o,t,n,r,a);return c([o,f]),f},{x4D:o},function(l,c){var f=c[0],d=c[1];return{x4D:function(){return U.runKernelFunc(function(h){return h.LRNGrad(l,f,d,t,n,r,a)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),ZE=B({norm_:function(e,t,n,r){t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var a=function s(u,l,c){if(c===void 0&&(c=null),u.rank===0)return u.abs();if(u.rank!==1&&c===null)return s(u.reshape([-1]),l,c);if(u.rank===1||typeof c=="number"||Array.isArray(c)&&c.length===1){if(l===1)return u.abs().sum(c);if(l===1/0)return u.abs().max(c);if(l===-1/0)return u.abs().min(c);if(l==="euclidean"||l===2)return u.abs().pow(pe(2,"int32")).sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}if(Array.isArray(c)&&c.length===2){if(l===1)return u.abs().sum(c[0]).max(c[1]-1);if(l===1/0)return u.abs().sum(c[1]).max(c[0]);if(l===-1/0)return u.abs().sum(c[1]).min(c[0]);if(l==="fro"||l==="euclidean")return u.square().sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}throw new Error("Error in norm: invalid axis: "+c)}(e=R(e,"x","norm"),t,n),i=a.shape;if(r){var o=Yt(n,e.shape);i=Xn(a.shape,o)}return a.reshape(i)}}),nU=B({basicLSTMCell_:function(e,t,n,r,a,i){var o=R(e,"forgetBias","basicLSTMCell"),s=R(t,"lstmKernel","basicLSTMCell"),u=R(n,"lstmBias","basicLSTMCell"),l=R(r,"data","basicLSTMCell"),c=R(a,"c","basicLSTMCell"),f=R(i,"h","basicLSTMCell"),d=l.concat(f,1).matMul(s).add(u),h=d.shape[0],m=d.shape[1]/4,p=[h,m],v=d.slice([0,0],p),g=d.slice([0,m],p),x=d.slice([0,2*m],p),y=d.slice([0,3*m],p),b=v.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(o.add(x).sigmoid())),w=b.tanh().mulStrict(y.sigmoid());return[b,w]}}),rU=B({multiRNNCell_:function(e,t,n,r){for(var a=R(t,"data","multiRNNCell"),i=Fc(n,"c","multiRNNCell"),o=Fc(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var c=e[l](s,i[l],o[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],d=[];for(l=0;l<u.length;l+=2)f.push(u[l]),d.push(u[l+1]);return[f,d]}}),aU=B({movingAverage_:function(e,t,n,r,a){a===void 0&&(a=!0);var i=R(e,"v","movingAverage"),o=R(t,"x","movingAverage"),s=R(n,"decay","movingAverage");t4(i,o),O(rn(i.shape,o.shape),function(){return"Shape mismatch in v and x"});var u=pe(1),l=u.sub(s),c=o.sub(i).mul(l);if(a){O(r!=null,function(){return"When using zeroDebias: true, step is required."});var f=R(r,"step","movingAverage");c=c.div(u.sub(Gc(s,f)))}return i.add(c)}}),iU=B({stridedSlice_:function(e,t,n,r,a,i,o,s,u){if(a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),s===void 0&&(s=0),u===void 0&&(u=0),r==null&&(r=new Array(t.length)),o!==0)throw new Error("ellipsis mask is not yet supported");var l=R(e,"x","stridedSlice"),c=r0(s),f=l.shape.slice();c.forEach(function(v){t[v]=0,n[v]=1,f.splice(v,0,1)}),l=l.reshape(f);for(var d=0;d<l.rank;d++)t[d]=mL(a,t,r,l.shape,d),n[d]=vL(i,n,r,l.shape,d),r[d]=r[d]||1;var h=r0(u);h.forEach(function(v){n[v]=t[v]+1,r[v]=1});var m=iv(t,n,r),p=m.filter(function(v,g){return h.indexOf(g)===-1});return r.every(function(v){return v===1})?ia(l,t,m).reshape(p):U.runKernelFunc(function(v){return v.stridedSlice(l,t,n,r)},{$x:l}).reshape(p)}}),oU=B({topk_:function(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!0);var r=R(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var i=U.runKernelFunc(function(o){return o.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}}),sU=B({scatterND_:function(e,t,n){var r=R(e,"indices","scatterND","int32"),a=R(t,"updates","scatterND");return hL(a,r,n),U.runKernelFunc(function(i){return i.scatterND(r,a,n)},{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),yv=B({fft_:function(e){O(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return U.runKernelFunc(function(a){return a.fft(r)},{input:e}).reshape(e.shape)}}),Kc=B({ifft_:function(e){O(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return U.runKernelFunc(function(a){return a.ifft(r)},{input:e}).reshape(e.shape)}}),bv=B({rfft_:function(e,t){O(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],a=e.size/r;if(t!=null&&t<r){var i=e.shape.map(function(g){return 0}),o=e.shape.map(function(g){return g});o[e.shape.length-1]=t,n=e.slice(i,o),r=t}else if(t!=null&&t>r){var s=e.shape.map(function(g){return g});s[e.shape.length-1]=t-r,n=e.concat(vt(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=cn(n,u).as2D(a,r),c=yv(l),f=Math.floor(r/2)+1,d=br(c),h=Jr(c),m=d.split([f,r-f],d.shape.length-1),p=h.split([f,r-f],h.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=f,cn(m[0],p[0]).reshape(v)}}),e2=B({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),a=Kc(r);return br(a)}var i=[n,2*(t-1)],o=br(e).as2D(n,t),s=Jr(e).as2D(n,t),u=o.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(pe(-1)),c=o.concat(u,1),f=s.concat(l,1);return r=cn(c,f).as2D(i[0],i[1]),a=Kc(r),br(a)}}),uU=Object.freeze({fft:yv,ifft:Kc,rfft:bv,irfft:e2}),lU=B({sparseToDense_:function(e,t,n,r){r===void 0&&(r=0);var a=R(e,"sparseIndices","sparseToDense","int32"),i=R(t,"sparseValues","sparseToDense"),o=R(r,"defaultValue","sparseToDense",i.dtype);return function(s,u,l,c){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var f=s.rank>0?s.shape[0]:1,d=s.rank>1?s.shape[1]:1;if(l.length!==d)throw new Error("outputShape has incorrect number of elements:, "+l.length+", should be: "+d+".");var h=u.size;if(u.rank!==0&&(u.rank!==1||h!==f))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+f+"]");if(u.dtype!==c.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o),U.runKernelFunc(function(s){return s.sparseToDense(a,i,n,o)},{$sparseIndices:a,$sparseValues:i,$defaultValue:o})}}),cU=B({gatherND_:function(e,t){var n=R(t,"indices","gatherND","int32"),r=R(e,"x","gatherND");return U.runKernelFunc(function(a){return a.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),fU=B({diag_:function(e){var t=R(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return U.runKernelFunc(function(r){return r.diag(t)},{$x:t}).reshape(n)}}),dU=B({dropout_:function(e,t,n,r){var a=R(e,"x","dropout");if(O(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),O(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),t===0)return e instanceof wt?a.clone():a;var i=function(u,l){if(l==null)return u.shape.slice();if(rn(u.shape,l))return l;if(u.shape.length===l.length){for(var c=[],f=0;f<u.shape.length;f++)l[f]==null&&u.shape[f]!=null?c.push(u.shape[f]):c.push(l[f]);return c}return l}(a,n),o=1-t,s=Jk(i,0,1,"float32",r).add(o).floor().div(o);return a.mul(s)}});function t2(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Lt(a,"float32")}var xv=B({hannWindow_:function(e){return t2(e,.5,.5)}}),n2=B({hammingWindow_:function(e){return t2(e,.54,.46)}}),wv=B({frame_:function(e,t,n,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var i=0,o=[];i+t<=e.size;)o.push(ia(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Gt([ia(e,i,t-s),na([s],a)]);o.push(u),i+=n}return o.length===0?si([],[0,t]):Gt(o).as2D(o.length,t)}}),r2=B({stft_:function(e,t,n,r,a){var i;a===void 0&&(a=xv),r==null&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var o=wv(e,t,n),s=Cn(o,a(t)),u=[],l=0;l<o.shape[0];l++)u.push(bv(s.slice([l,0],[1,t]),r));return Gt(u)}}),hU=Object.freeze({hannWindow:xv,hammingWindow:n2,frame:wv,stft:r2}),kn,pU=function(e,t,n){return n===void 0&&(n=1),we(this,void 0,void 0,function(){var r,a,i,o,s,u,l,c,f,d,h,m,p,v;return _e(this,function(g){switch(g.label){case 0:return r=R(e,"predictions","inTopK"),a=R(t,"targets","inTopK"),O(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),O(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),ct(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],O(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return o=g.sent(),[4,a.data()];case 2:for(s=g.sent(),u=[o.length/i,i],c=u[1],f=bu("bool",l=u[0]),d=0;d<l;d++){for(h=d*c,m=o.subarray(h,h+c),p=[],v=0;v<m.length;v++)p.push({value:m[v],index:v});for(p.sort(function(x,y){return y.value-x.value}),f[d]=0,v=0;v<n;v++)if(p[v].index===s[d]){f[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),[2,dn(f,a.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(kn||(kn={}));var mU=B({absoluteDifference_:function(e,t,n,r){r===void 0&&(r=kn.SUM_BY_NONZERO_WEIGHTS);var a=R(e,"labels","absoluteDifference"),i=R(t,"predictions","absoluteDifference"),o=null;n!=null&&(o=R(n,"weights","absoluteDifference")),ct(a.shape,i.shape,"Error in absoluteDifference: ");var s=a.sub(i).abs();return Va(s,o,r)}}),Va=B({computeWeightedLoss_:function(e,t,n){n===void 0&&(n=kn.SUM_BY_NONZERO_WEIGHTS);var r=R(e,"losses","computeWeightedLoss"),a=null;t!=null&&(a=R(t,"weights","computeWeightedLoss"));var i=a==null?r:r.mul(a);if(n===kn.NONE)return i;if(n===kn.SUM)return i.sum();if(n===kn.MEAN){if(a==null)return i.mean();var o=r.size/a.size,s=i.sum().div(a.sum());return o>1?s.div(pe(o)):s}if(n===kn.SUM_BY_NONZERO_WEIGHTS){if(a==null)return i.sum().div(pe(r.size));var u=a.mul(Es(r.shape)).notEqual(pe(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),vU=B({cosineDistance_:function(e,t,n,r,a){a===void 0&&(a=kn.SUM_BY_NONZERO_WEIGHTS);var i=R(e,"labels","cosineDistance"),o=R(t,"predictions","cosineDistance"),s=null;r!=null&&(s=R(r,"weights","cosineDistance")),ct(i.shape,o.shape,"Error in cosineDistance: ");var u=pe(1).sub(i.mul(o).sum(n,!0));return Va(u,s,a)}}),gU=B({hingeLoss_:function(e,t,n,r){r===void 0&&(r=kn.SUM_BY_NONZERO_WEIGHTS);var a=R(e,"labels","hingeLoss"),i=R(t,"predictions","hingeLoss"),o=null;n!=null&&(o=R(n,"weights","hingeLoss")),ct(a.shape,i.shape,"Error in hingeLoss: ");var s=pe(1);a=pe(2).mul(a).sub(s);var u=s.sub(a.mul(i)).relu();return Va(u,o,r)}}),yU=B({huberLoss_:function(e,t,n,r,a){r===void 0&&(r=1),a===void 0&&(a=kn.SUM_BY_NONZERO_WEIGHTS);var i=R(e,"labels","huberLoss"),o=R(t,"predictions","huberLoss"),s=null;n!=null&&(s=R(n,"weights","huberLoss")),ct(i.shape,o.shape,"Error in huberLoss: ");var u=pe(r),l=o.sub(i).abs(),c=ME(l,u),f=l.sub(c),d=pe(.5).mul(c.square()).add(u.mul(f));return Va(d,s,a)}}),bU=B({logLoss_:function(e,t,n,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=kn.SUM_BY_NONZERO_WEIGHTS);var i=R(e,"labels","logLoss"),o=R(t,"predictions","logLoss"),s=null;n!=null&&(s=R(n,"weights","logLoss")),ct(i.shape,o.shape,"Error in logLoss: ");var u=pe(1),l=pe(r),c=i.mul(o.add(l).log()).neg().sub(u.sub(i).mul(u.sub(o).add(l).log()));return Va(c,s,a)}}),xU=B({meanSquaredError_:function(e,t,n,r){r===void 0&&(r=kn.SUM_BY_NONZERO_WEIGHTS);var a=R(e,"labels","meanSquaredError"),i=R(t,"predictions","meanSquaredError"),o=null;n!=null&&(o=R(n,"weights","meanSquaredError")),ct(a.shape,i.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(i);return Va(s,o,r)}}),wU=B({sigmoidCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=kn.SUM_BY_NONZERO_WEIGHTS);var i=R(e,"multiClassLabels","sigmoidCrossEntropy"),o=R(t,"logits","sigmoidCrossEntropy"),s=null;if(n!=null&&(s=R(n,"weights","sigmoidCrossEntropy")),ct(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=pe(r),l=pe(1),c=pe(.5);i=i.mul(l.sub(u)).add(c.mul(u))}var f=function(d,h){var m=R(d,"labels","sigmoidCrossEntropyWithLogits"),p=R(h,"logits","sigmoidCrossEntropyWithLogits");ct(m.shape,p.shape,"Error in sigmoidCrossEntropyWithLogits: ");var v=p.relu(),g=p.mul(m),x=p.abs().neg().exp().log1p();return v.sub(g).add(x)}(i,o);return Va(f,s,a)}}),_U=B({softmaxCrossEntropy_:function(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=kn.SUM_BY_NONZERO_WEIGHTS);var i=R(e,"onehotLabels","softmaxCrossEntropy"),o=R(t,"logits","softmaxCrossEntropy"),s=null;if(n!=null&&(s=R(n,"weights","softmaxCrossEntropy")),ct(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=pe(r),l=pe(1),c=pe(i.shape[1]);i=i.mul(l.sub(u)).add(u.div(c))}var f=function(d,h,m){if(m===void 0&&(m=-1),m===-1&&(m=h.rank-1),m!==h.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+h.rank+" and dim was "+m);return Jf(function(p,v,g){var x=v.logSumExp([m],!0),y=v.toFloat().sub(x);return g([p,y]),{value:y.mul(p).neg().sum([m]),gradFunc:function(b,w){var _=w[0],S=w[1],C=Xn(b.shape,[m]);return[b.reshape(C).mul(_.toFloat().sub(S.exp())),b.reshape(C).mul(S.exp().sub(_.toFloat()))]}}})(d,h)}(i,o);return Va(f,s,a)}}),kU=Object.freeze({get Reduction(){return kn},absoluteDifference:mU,computeWeightedLoss:Va,cosineDistance:vU,hingeLoss:gU,huberLoss:yU,logLoss:bU,meanSquaredError:xU,sigmoidCrossEntropy:wU,softmaxCrossEntropy:_U});function C0(e,t){return t===void 0&&(t=!1),U.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],a=Yk(n),i=e.clone(),o=si([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,l=function(f){var d,h=i,m=s,p=a;d=U.tidy(function(){var v=i.slice([f,f],[n-f,1]),g=v.norm(),x=i.slice([f,f],[1,1]),y=si([[-1]]).where(x.greater(0),si([[1]])),b=x.sub(y.mul(g)),w=v.div(b);s=w.shape[0]===1?o.clone():o.concat(w.slice([1,0],[w.shape[0]-1,w.shape[1]]),0);var _=y.matMul(b).div(g).neg(),S=i.slice([f,0],[n-f,r]),C=_.mul(s);if(f===0)i=S.sub(C.matMul(s.transpose().matMul(S)));else{var k=S.sub(C.matMul(s.transpose().matMul(S)));i=i.slice([0,0],[f,r]).concat(k,0)}var E=a.slice([0,f],[n,a.shape[1]-f]);if(f===0)a=E.sub(E.matMul(s).matMul(C.transpose()));else{var T=E.sub(E.matMul(s).matMul(C.transpose()));a=a.slice([0,0],[n,f]).concat(T,1)}return[s,i,a]}),s=d[0],i=d[1],a=d[2],qn([h,m,p])},c=0;c<u;++c)l(c);return!t&&n>r&&(a=a.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[a,i]})}var EU=B({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=R(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,i=r.shape.slice(-2),o=i[0],s=i[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var u=Mc(0,o,1,"int32").reshape([-1,1]),l=Mc(0,s,1,"int32"),c=$t(u,l),f=Zf(c.lessEqual(pe(+t,"int32")),c.greaterEqual(pe(-n,"int32"))),d=vt([o,s],r.dtype);return hr(Kt(r.reshape([-1,o,s])).map(function(h){return eo(f,h,d)})).reshape(a)}}),CU=B({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,O(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(u){O(e[u].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[u].shape[0]+" vs. "+n+")"})},a=1;a<e.length;++a)r(a)}else t=!0,e=rv(e,e.shape[0],0).map(function(u){return Zk(u,[0])});O(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],o=e,s=function(u){i.push(U.tidy(function(){var l=o[u];if(u>0)for(var c=0;c<u;++c){var f=XE(i[c].mulStrict(l)).mul(i[c]);l=l.sub(f)}return l.div(ZE(l,"euclidean"))}))};for(a=0;a<e.length;++a)s(a);return t?hr(i,0):i}}),SU=B({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return C0(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(o,s){return o*s}),r=Kt(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach(function(o){var s=C0(o,t),u=s[0],l=s[1];a.push(u),i.push(l)}),[hr(a,0).reshape(e.shape),hr(i,0).reshape(e.shape)]}}),AU=Object.freeze({bandPart:EU,gramSchmidt:CU,qr:SU});function rd(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);var o=e.shape[0];return n=Math.min(n,o),O(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),O(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),O(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),O(t.rank===1,function(){return"scores must be a 1D tensor"}),O(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),O(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var TU=B({resizeBilinear_:function(e,t,n){n===void 0&&(n=!1);var r=R(e,"images","resizeBilinear");O(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),O(t.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=U.runKernelFunc(function(l,c){return c([a]),l.resizeBilinear(a,o,s,n)},{x:a},function(l,c){return{x:function(){return U.runKernelFunc(function(f){return f.resizeBilinearBackprop(l,c[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),IU=B({resizeNearestNeighbor_:function(e,t,n){n===void 0&&(n=!1);var r=R(e,"images","resizeNearestNeighbor");O(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),O(t.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),O(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=U.runKernelFunc(function(l,c){return c([a]),l.resizeNearestNeighbor(a,o,s,n)},{batchImages:a},function(l,c){return{batchImages:function(){return U.runKernelFunc(function(f){return f.resizeNearestNeighborBackprop(l,c[0],n)},{})}}});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),RU=B({nonMaxSuppression_:function(e,t,n,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var i=R(e,"boxes","nonMaxSuppression"),o=R(t,"scores","nonMaxSuppression"),s=rd(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return U.runKernelFunc(function(l){return l.nonMaxSuppression(i,o,n,r,a)},{boxes:i,scores:o},null,"NonMaxSuppressionV3",u)}}),NU=function(e,t,n,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),we(this,void 0,void 0,function(){var i,o,s,u,l,c,f;return _e(this,function(d){switch(d.label){case 0:return i=R(e,"boxes","nonMaxSuppressionAsync"),o=R(t,"scores","nonMaxSuppressionAsync"),s=rd(i,o,n,r,a),n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([i.data(),o.data()])];case 1:return u=d.sent(),l=u[0],c=u[1],f=sv(l,c,n,r,a),i!==e&&i.dispose(),o!==t&&o.dispose(),[2,f]}})})},OU=B({nonMaxSuppressionWithScore_:function(e,t,n,r,a,i){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var o=R(e,"boxes","nonMaxSuppression"),s=R(t,"scores","nonMaxSuppression"),u=rd(o,s,n,r,a,i),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},c=U.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),DU=function(e,t,n,r,a,i){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),we(this,void 0,void 0,function(){var o,s,u,l,c,f,d;return _e(this,function(h){switch(h.label){case 0:return o=R(e,"boxes","nonMaxSuppressionAsync"),s=R(t,"scores","nonMaxSuppressionAsync"),u=rd(o,s,n,r,a,i),n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return l=h.sent(),c=l[0],f=l[1],d=uv(c,f,n,r,a,i),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,d]}})})},PU=B({cropAndResize_:function(e,t,n,r,a,i){var o=R(e,"image","cropAndResize"),s=R(t,"boxes","cropAndResize","float32"),u=R(n,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var l=s.shape[0];return O(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),O(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."}),O(u.rank===1&&u.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."}),O(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),O(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),O(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a}),U.runKernelFunc(function(c,f){return c.cropAndResize(o,s,u,r,a,i)},{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:r})}}),_v=Object.freeze({resizeBilinear:TU,resizeNearestNeighbor:IU,nonMaxSuppression:RU,nonMaxSuppressionAsync:NU,nonMaxSuppressionWithScore:OU,nonMaxSuppressionWithScoreAsync:DU,cropAndResize:PU}),kv=function(e,t){return!(e>0)||t==="linear"},Ev=function(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Cv=function(e,t){var n=t,r=qt(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Sv=function(e,t,n){if(t==="linear")return e;if(t==="relu")return kt(e);if(t==="elu")return YE(e);if(t==="relu6")return QE(e);if(t==="prelu")return JE(e,n);throw new Error("Unknown fused activation "+t+".")},FU=B({fusedMatMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,i=a!==void 0&&a,o=e.transposeB,s=o!==void 0&&o,u=e.bias,l=e.activation,c=l===void 0?"linear":l,f=e.preluActivationWeights;if(kv(U.state.gradientDepth,c)===!1){var d=td(n,r,i,s);return u!=null&&(d=qe(d,u)),Sv(d,c,f)}var h=R(n,"a","fused matMul"),m=R(r,"b","fused matMul");t=Ct(h,m),h=t[0],m=t[1];var p=i?h.shape[h.rank-2]:h.shape[h.rank-1],v=s?m.shape[m.rank-1]:m.shape[m.rank-2],g=i?h.shape[h.rank-1]:h.shape[h.rank-2],x=s?m.shape[m.rank-2]:m.shape[m.rank-1],y=h.shape.slice(0,-2),b=m.shape.slice(0,-2),w=ke(y),_=ke(b);O(h.rank>=2&&m.rank>=2&&h.rank===m.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+m.rank+"."}),O(rn(y,b),function(){return"Error in fused matMul: outer dimensions ("+y+") and ("+b+") of Tensors with shapes "+h.shape+" and "+m.shape+" must match."}),O(p===v,function(){return"Error in fused matMul: inner shapes ("+p+") and ("+v+") of Tensors with shapes "+h.shape+" and "+m.shape+" and transposeA="+i+" and transposeB="+s+" must match."});var S,C,k=h.shape.slice(0,-2).concat([g,x]),E=i?h.as3D(w,p,g):h.as3D(w,g,p),T=s?m.as3D(_,x,v):m.as3D(_,v,x);u!=null&&Je(k,(S=Ct(S=R(u,"bias","fused matMul"),h)[0]).shape),f!=null&&(C=R(f,"prelu weights","fused matMul"));var A={a:E,b:T};u!=null&&(A.bias=S),f!=null&&(A.preluActivationWeights=C);var I=[E,T];return U.runKernelFunc(function(D,M){var L=D.fusedBatchMatMul({a:E,b:T,transposeA:i,transposeB:s,bias:S,activation:c,preluActivationWeights:C});return M([E,T,L]),L},A,function(D,M){var L=M[0],W=M[1],V=M[2],H=Ev(D,V,c),X={};return u!=null&&(X={bias:function(){return Cv(S,H)}}),Object.assign(i||s?!i&&s?{a:function(){return H.matMul(W,!1,!1)},b:function(){return H.matMul(L,!0,!1)}}:i&&!s?{a:function(){return W.matMul(H,!1,!0)},b:function(){return L.matMul(H,!1,!1)}}:{a:function(){return W.matMul(H,!0,!0)},b:function(){return H.matMul(L,!0,!0)}}:{a:function(){return H.matMul(W,!1,!0)},b:function(){return L.matMul(H,!0,!1)}},X)},"_FusedMatMul",{transposeA:i,transposeB:s,activation:c},I,[!0]).reshape(k)}}),MU=B({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=f===void 0?"linear":f,h=e.preluActivationWeights;if(d=d||"linear",kv(U.state.gradientDepth,d)===!1){var m=Sr(t,n,r,a,o,u,l);return c!=null&&(m=qe(m,c)),Sv(m,d,h)}var p=R(t,"x","conv2d"),v=R(n,"filter","conv2d"),g=p,x=!1;p.rank===3&&(x=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),O(g.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),O(v.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."}),l!=null&&O(Pt(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+a+"."}),O(g.shape[3]===v.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."}),O(Yn(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),O(o==="NHWC",function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var y,b,w=mo(g.shape,v.shape,r,u,a,l);c!=null&&(y=Ct(y=R(c,"bias","fused conv2d"),p)[0],Je(w.outShape,y.shape)),h!=null&&(b=R(h,"prelu weights","fused conv2d"));var _={x:g,filter:v};c!=null&&(_.bias=y),h!=null&&(_.preluActivationWeights=b);var S=[v,g],C=U.runKernelFunc(function(k,E){var T=k.fusedConv2d({input:g,filter:v,convInfo:w,bias:y,activation:d,preluActivationWeights:b});return E([v,g,T]),T},_,function(k,E){var T=E,A=T[0],I=T[1],D=T[2],M=Ev(k,D,d);O(us(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var L={};return c!=null&&(L={bias:function(){return Cv(y,M)}}),Object.assign({x:function(){return jE(I.shape,M,A,r,a)},filter:function(){return vv(I,M,A.shape,r,a)}},L)},"FusedConv2D",{convInfo:w,activation:d},S,[!0]);return x?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),LU=B({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=f===void 0?"linear":f,h=e.preluActivationWeights;if(kv(U.state.gradientDepth,d)===!1){var m=ed(t,n,r,a,o,u,l);return c!=null&&(m=qe(m,c)),Sv(m,d,h)}var p=R(t,"x","depthwiseConv2d"),v=R(n,"filter","depthwiseConv2d"),g=p,x=!1;p.rank===3&&(x=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),O(g.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),O(v.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."}),O(g.shape[3]===v.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."}),u==null&&(u=[1,1]),O(Yn(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),l!=null&&O(Pt(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+a+"."});var y,b,w=mo(g.shape,v.shape,r,u,a,l,!0);c!=null&&(y=Ct(y=R(c,"bias","fused conv2d"),p)[0],Je(w.outShape,y.shape)),h!=null&&(b=R(h,"prelu weights","fused depthwiseConv2d"));var _={x:g,filter:v};c!=null&&(_.bias=y),h!=null&&(_.preluActivationWeights=b);var S=[v,g],C=U.runKernelFunc(function(k,E){var T=k.fusedDepthwiseConv2D({input:g,filter:v,convInfo:w,bias:y,activation:d,preluActivationWeights:b});return E([v,g,T]),T},_,function(k,E){O(us(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var T=E[0],A=E[1],I=E[2],D=Ev(k,I,d),M={};return c!=null&&(M={bias:function(){return Cv(y,D)}}),Object.assign({x:function(){return HE(A.shape,D,T,w)},filter:function(){return zE(A,D,T.shape,w)}},M)},"FusedDepthwiseConv2D",{convInfo:w,activation:d},S,[!0]);return x?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),BU=Object.freeze({matMul:FU,conv2d:MU,depthwiseConv2d:LU}),VU=Object.freeze({image:_v,linalg:AU,losses:kU,spectral:uU,fused:BU,signal:hU,square:bV,squaredDifference:SE,conv1d:T6,conv2d:Sr,conv3d:I6,depthwiseConv2d:ed,separableConv2d:gv,conv2dTranspose:R6,conv3dTranspose:N6,op:B,batchNormalization2d:XV,batchNormalization3d:YV,batchNormalization4d:JV,batchNormalization:QV,batchNorm:OE,batchNorm2d:ZV,batchNorm3d:e6,batchNorm4d:t6,booleanMaskAsync:A6,complex:cn,real:br,imag:Jr,concat:Gt,concat1d:B4,concat2d:V4,concat3d:U4,concat4d:W4,split:rv,matMul:td,dot:O6,outerProduct:D6,reverse:el,reverse1d:P6,reverse2d:F6,reverse3d:M6,reverse4d:L6,maxPool:Zt,avgPool:tl,pool:B6,maxPool3d:V6,avgPool3d:U6,slice:ia,slice1d:W6,slice2d:j6,slice3d:qE,slice4d:H6,abs:xV,acos:wV,acosh:_V,asin:kV,asinh:EV,atan:CV,atanh:SV,ceil:AV,clipByValue:hv,cos:TV,cosh:IV,erf:RV,exp:Wp,expm1:NV,floor:OV,log:DV,log1p:PV,logSigmoid:FV,neg:zc,reciprocal:MV,round:LV,rsqrt:AE,sigmoid:TE,sign:BV,isNaN:VV,isInf:UV,isFinite:WV,sin:jV,sinh:HV,softplus:zV,sqrt:GV,step:KV,tan:qV,tanh:$V,all:z6,any:G6,argMax:K6,argMin:q6,logSumExp:$6,max:nd,mean:X6,min:Y6,moments:J6,sum:XE,prod:Q6,equal:LE,equalStrict:g6,greater:y6,greaterEqual:BE,greaterEqualStrict:b6,greaterStrict:x6,less:w6,lessEqual:_6,lessEqualStrict:k6,lessStrict:E6,notEqual:C6,notEqualStrict:S6,add:qe,addN:a6,addStrict:i6,atan2:o6,div:Ir,divNoNan:s6,divStrict:u6,floorDiv:FE,maximum:pv,maximumStrict:l6,minimum:ME,minimumStrict:c6,mod:f6,modStrict:d6,mul:Cn,mulStrict:h6,pow:Gc,powStrict:p6,squaredDifferenceStrict:m6,sub:$t,subStrict:v6,elu:YE,leakyRelu:Z6,prelu:JE,relu:kt,relu6:QE,selu:eU,logicalAnd:Zf,logicalNot:n6,logicalOr:DE,logicalXor:r6,where:eo,whereAsync:PE,buffer:Ve,print:Y4,batchToSpaceND:Xk,broadcastTo:J4,cast:Q4,clone:Z4,cumsum:eL,depthToSpace:tL,expandDims:yr,eye:Yk,multinomial:nL,oneHot:Lp,pad:po,pad1d:rL,pad2d:aL,pad3d:iL,pad4d:oL,rand:sL,randomNormal:uL,randomGamma:lL,randomUniform:Jk,reshape:Nr,spaceToBatchND:Qk,squeeze:Zk,stack:hr,tile:jo,truncatedNormal:cL,unstack:Kt,setdiff1dAsync:fL,fill:na,linspace:L4,ones:Es,range:Mc,scalar:pe,tensor:dn,tensor1d:Lt,tensor2d:si,tensor3d:nv,tensor4d:Un,tensor5d:P4,tensor6d:F4,variable:M4,zeros:vt,onesLike:$k,zerosLike:tt,transpose:pi,softmax:Ba,logSoftmax:yL,localResponseNormalization:tU,norm:ZE,gather:mv,unsortedSegmentSum:VE,basicLSTMCell:nU,multiRNNCell:rU,movingAverage:aU,stridedSlice:iU,topk:oU,scatterND:sU,fft:yv,ifft:Kc,rfft:bv,irfft:e2,sparseToDense:lU,gatherND:cU,diag:fU,dropout:dU,hannWindow:xv,hammingWindow:n2,frame:wv,stft:r2,inTopKAsync:pU});function ne(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(n){n!=null&&O(n.dtype!=="complex64",function(){return t+" does not support complex64 tensors."})})}function wh(e,t,n,r){if(n==="linear")return e.linear(t);if(n==="relu")return e.relu(t);if(n==="elu")return e.elu(t);if(n==="relu6")return e.relu6(t);if(n==="prelu")return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var UU=function(e){function t(){var n=e.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new oE(n,U),n}return Ur(t,e),t.prototype.write=function(n,r,a){this.firstUse&&(this.firstUse=!1,Q().get("IS_NODE")&&Pc(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:n,dtype:a}),i},t.prototype.move=function(n,r,a,i){this.data.set(n,{values:r,dtype:i})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){return[2,this.readSync(n)]})})},t.prototype.readSync=function(n){var r=this.data.get(n),a=r.dtype,i=r.complexTensors;return a==="complex64"?Up(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(n).values},t.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),a=r;if(n.dtype==="string")try{a=r.map(function(i){return Nc(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Ve(n.shape,n.dtype,a)},t.prototype.makeOutput=function(n,r,a){var i=this.write(n,r,a);return U.makeTensorFromDataId(i,r,a,this)},t.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},t.prototype.time=function(n){return we(this,void 0,void 0,function(){var r;return _e(this,function(a){return r=Xr(),n(),[2,{kernelMs:Xr()-r}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(n,r){var a=this.makeOutput(null,n.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:U.keep(n.clone()),imag:U.keep(r.clone())},a},t.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,a){if(ne(n,"slice"),aE(n.shape,r,a)){var i=iE(r,n.strides),o=ke(a);return dn(this.readSync(n.dataId).subarray(i,i+o),a,n.dtype)}for(var s=Ve(a,n.dtype),u=this.bufferSync(n),l=0;l<s.size;++l){var c=s.indexToLoc(l).map(function(f,d){return f+r[d]});s.values[l]=u.get.apply(u,c)}return s.toTensor()},t.prototype.stridedSlice=function(n,r,a,i){ne(n,"stridedSlice");var o=iv(r,a,i);if(o.some(function(h){return h===0}))return dn([],o);for(var s=Ve(o,n.dtype),u=this.bufferSync(n),l=0;l<s.size;l++){for(var c=s.indexToLoc(l),f=new Array(c.length),d=0;d<f.length;d++)f[d]=c[d]*i[d]+r[d];s.set.apply(s,[u.get.apply(u,f)].concat(c))}return s.toTensor()},t.prototype.diag=function(n){for(var r=this.readSync(n.dataId),a=Ve([n.size,n.size],n.dtype),i=a.values,o=0;o<r.length;o++)i[o*n.size+o]=r[o];return a.toTensor()},t.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,s=0;s<n.rank;s++)s!==r&&(i[o++]=n.shape[s]);var u=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var c=new Array(a);for(s=0;s<c.length;s++)u[r]=s,c[s]=this.slice(n,u,l).reshape(i);return c},t.prototype.reverse=function(n,r){ne(n,"reverse");for(var a=Ve(n.shape,n.dtype),i=this.bufferSync(n),o=function(u){var l=a.indexToLoc(u),c=l.slice();r.forEach(function(f){return c[f]=n.shape[f]-1-c[f]}),a.set.apply(a,[i.get.apply(i,c)].concat(l))},s=0;s<a.size;s++)o(s);return a.toTensor()},t.prototype.concat=function(n,r){var a=this;if(n[0].dtype==="complex64"){var i=n.map(function(h){return br(h)}),o=n.map(function(h){return Jr(h)});return cn(this.concat(i,r),this.concat(o,r))}var s=n.map(function(h){var m=ke(h.shape.slice(r));return h.as2D(-1,m)}),u=ss(s.map(function(h){return h.shape}),1),l=Ve(u,n[0].dtype).values;if(s[0].shape[0]===1){var c=0;s.forEach(function(h){l.set(a.readSync(h.dataId),c),c+=h.size})}else{var f=0;s.forEach(function(h){for(var m=a.readSync(h.dataId),p=0,v=0;v<h.shape[0];++v)for(var g=v*u[1]+f,x=0;x<h.shape[1];++x)l[g+x]=m[p++];f+=h.shape[1]})}var d=ss(n.map(function(h){return h.shape}),r);return dn(l,d,n[0].dtype)},t.prototype.neg=function(n){return ne(n,"neg"),this.multiply(pe(-1),n)},t.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a+o,imag:i+s}}):this.broadcastedBinaryOp(n,r,fn(n.dtype,r.dtype),function(a,i){return a+i})},t.prototype.addN=function(n){var r=this;ne(n,"addN");for(var a=n.map(function(c){return r.readSync(c.dataId)}),i=Ve(n[0].shape,n[0].dtype),o=i.values,s=0;s<n.length;s++)for(var u=a[s],l=0;l<o.length;l++)o[l]+=u[l];return i.toTensor()},t.prototype.softmax=function(n,r){var a=Yt([r],n.shape),i=this.max(n,a),o=Xn(i.shape,a),s=this.subtract(n,i.reshape(o)),u=this.exp(s),l=this.sum(u,a).reshape(o);return this.realDivide(u,l)},t.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a-o,imag:i-s}}):this.broadcastedBinaryOp(n,r,fn(n.dtype,r.dtype),function(a,i){return a-i})},t.prototype.pow=function(n,r){return ne([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.pow(a,i)})},t.prototype.batchMatMul=function(n,r,a,i){ne([n,r],"matMul");for(var o=a?n.shape[1]:n.shape[2],s=a?n.shape[2]:n.shape[1],u=i?r.shape[1]:r.shape[2],l=n.shape[0],c=this.readSync(n.dataId),f=this.readSync(r.dataId),d=a?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],h=d[0],m=d[1],p=d[2],v=i?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],g=v[0],x=v[1],y=v[2],b=s*u,w=Ve([l,s,u],n.dtype),_=w.values,S=this.blockSize,C=0;C<l;C++)for(var k=0;k<s;k+=S)for(var E=0;E<u;E+=S)for(var T=0;T<o;T+=S)for(var A=Math.min(k+S,s),I=Math.min(E+S,u),D=Math.min(T+S,o),M=k;M<A;M++)for(var L=E;L<I;L++){for(var W=0,V=T;V<D;V++)W+=c[C*h+M*m+V*p]*f[V*g+L*x+C*y];_[C*b+(M*u+L)]+=W}return w.toTensor()},t.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,s=n.bias,u=n.activation,l=n.preluActivationWeights,c=this.batchMatMul(r,a,i,o);return s&&(c=this.add(c,s)),u&&(c=wh(this,c,u,l)),c},t.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,s){return{real:a*o-i*s,imag:a*s+i*o}}):this.broadcastedBinaryOp(n,r,fn(n.dtype,r.dtype),function(a,i){return a*i})},t.prototype.realDivide=function(n,r){return ne([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(a,i){return a/i})},t.prototype.floorDiv=function(n,r){return ne([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(a,i){return Math.floor(a/i)})},t.prototype.sum=function(n,r){ne(n,"sum"),nr("sum",r,n.rank);for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,fn(n.dtype,"int32")),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=0,m=0;m<u;++m)h+=c[d+m];l[f]=h}return s},t.prototype.prod=function(n,r){ne(n,"sum");for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,fn(n.dtype,"int32")),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=1,m=0;m<u;++m)h*=c[d+m];l[f]=h}return s},t.prototype.unsortedSegmentSum=function(n,r,a){ne(n,"unsortedSegmentSum");for(var i=[],o=n.rank-r.rank,s=0;s<o;++s)r=r.expandDims(s+1);for(s=0;s<a;++s){var u=pe(s,"int32"),l=LE(u,r).asType("float32").mul(n).sum(0);i.push(l)}return hr(i)},t.prototype.argMin=function(n,r){ne(n,"argMin");var a=[r];nr("argMin",a,n.rank);for(var i=mn(n.shape,a),o=i[0],s=i[1],u=vt(o,"int32"),l=ke(s),c=this.readSync(u.dataId),f=this.readSync(n.dataId),d=0;d<c.length;++d){for(var h=d*l,m=f[h],p=0,v=0;v<l;++v){var g=f[h+v];g<m&&(m=g,p=v)}c[d]=p}return u},t.prototype.argMax=function(n,r){ne(n,"argMax");var a=[r];nr("argMax",a,n.rank);for(var i=mn(n.shape,a),o=i[0],s=i[1],u=vt(o,"int32"),l=ke(s),c=this.readSync(u.dataId),f=this.readSync(n.dataId),d=0;d<c.length;++d){for(var h=d*l,m=f[h],p=0,v=0;v<l;++v){var g=f[h+v];g>m&&(m=g,p=v)}c[d]=p}return u},t.prototype.cumsum=function(n,r,a,i){if(ne(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var o=fn(n.dtype,"int32"),s=vt(n.shape,o),u=this.readSync(s.dataId),l=this.readSync(n.dataId),c=n.shape[n.rank-1],f=i?function(v,g){return v+c-g-1}:function(v,g){return v+g},d=0;d<l.length;d+=c)for(var h=0;h<c;h++){var m=f(d,h);if(h===0)u[m]=a?0:l[m];else{var p=f(d,h-1);u[m]=a?l[p]+u[p]:l[m]+u[p]}}return s},t.prototype.equal=function(n,r){return ne([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a===i?1:0})},t.prototype.notEqual=function(n,r){return ne([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a!==i?1:0})},t.prototype.less=function(n,r){return ne([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<i?1:0})},t.prototype.lessEqual=function(n,r){return ne([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<=i?1:0})},t.prototype.greater=function(n,r){return ne([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>i?1:0})},t.prototype.greaterEqual=function(n,r){return ne([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>=i?1:0})},t.prototype.logicalNot=function(n){ne(n,"logicalNot");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)a[i]=r[i]?0:1;return this.makeOutput(a,n.shape,"bool")},t.prototype.logicalAnd=function(n,r){return ne([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a&&i})},t.prototype.logicalOr=function(n,r){return ne([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a||i})},t.prototype.select=function(n,r,a){ne([n,r,a],"select");for(var i=this.readSync(n.dataId),o=this.readSync(r.dataId),s=this.readSync(a.dataId),u=vt(r.shape,fn(r.dtype,a.dtype)),l=this.readSync(u.dataId),c=0,f=n.rank===0||n.rank>1||r.rank===1?1:ke(r.shape.slice(1)),d=0;d<i.length;d++)for(var h=0;h<f;h++)i[d]===1?l[c++]=o[d]:l[c++]=s[d];return u},t.prototype.where=function(n){ne([n],"where");var r=this.readSync(n.dataId);return lv(n.shape,r)},t.prototype.topk=function(n,r,a){return ne(n,"topk"),pE(this.readSync(n.dataId),n.shape,n.dtype,r)},t.prototype.min=function(n,r){ne(n,"min"),nr("min",r,n.rank);for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,n.dtype),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=c[d],m=0;m<u;++m){var p=c[d+m];p<h&&(h=p)}l[f]=h}return s},t.prototype.minimum=function(n,r){return ne([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.min(a,i)})},t.prototype.mod=function(n,r){return ne([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a%i;return a<0&&i<0||a>=0&&i>=0?o:(o+i)%i})},t.prototype.max=function(n,r){ne(n,"max"),nr("max",r,n.rank);for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,n.dtype),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=c[d],m=0;m<u;++m){var p=c[d+m];p>h&&(h=p)}l[f]=h}return s},t.prototype.maximum=function(n,r){return ne([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.max(a,i)})},t.prototype.all=function(n,r){ne(n,"all"),nr("all",r,n.rank);for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,n.dtype),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=c[d],m=0;m<u;++m){var p=c[d+m];h=h&&p}l[f]=h}return s},t.prototype.any=function(n,r){ne(n,"any"),nr("any",r,n.rank);for(var a=mn(n.shape,r),i=a[0],o=a[1],s=vt(i,n.dtype),u=ke(o),l=this.readSync(s.dataId),c=this.readSync(n.dataId),f=0;f<l.length;++f){for(var d=f*u,h=c[d],m=0;m<u;++m){var p=c[d+m];h=h||p}l[f]=h}return s},t.prototype.squaredDifference=function(n,r){return ne([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a-i;return o*o})},t.prototype.ceil=function(n){ne(n,"ceil");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.ceil(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.floor=function(n){ne(n,"floor");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.floor(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.sign=function(n){ne(n,"x");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)r[i]<0?a[i]=-1:r[i]>0?a[i]=1:a[i]=0;return this.makeOutput(a,n.shape,"float32")},t.prototype.isNaN=function(n){ne(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isNaN(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isInf=function(n){ne(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Math.abs(r[i])===1/0&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.isFinite=function(n){ne(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isFinite(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},t.prototype.round=function(n){ne(n,"round");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=Math.floor(r[i]);r[i]-o<.5?a[i]=Math.floor(r[i]):r[i]-o>.5?a[i]=Math.ceil(r[i]):a[i]=o%2==0?o:o+1}return this.makeOutput(a,n.shape,"float32")},t.prototype.exp=function(n){ne(n,"exp");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.exp(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.expm1=function(n){ne(n,"expm1");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.expm1(r[i]);return this.makeOutput(a,n.shape,"float32")},t.prototype.log=function(n){ne(n,"log");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.log1p=function(n){ne(n,"log1p");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log1p(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.sqrt=function(n){ne(n,"sqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.rsqrt=function(n){ne(n,"rsqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=1/Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},t.prototype.reciprocal=function(n){ne(n,"reciprocal");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=1/r[i];return this.makeOutput(a,n.shape,"float32")},t.prototype.linear=function(n){return n},t.prototype.relu=function(n){ne(n,"relu");for(var r=vt(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.max(0,i[o]);return r},t.prototype.relu6=function(n){ne(n,"relu");for(var r=vt(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.min(Math.max(0,i[o]),6);return r},t.prototype.prelu=function(n,r){return ne([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return a<0?i*a:a})},t.prototype.elu=function(n){ne(n,"elu");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=a[i];r[i]=o>=0?o:Math.exp(o)-1}return this.makeOutput(r,n.shape,"float32")},t.prototype.eluDer=function(n,r){ne([n,r],"eluDer");for(var a=new Float32Array(r.size),i=this.readSync(r.dataId),o=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>=1?o[s]:o[s]*(u+1)}return this.makeOutput(a,r.shape,"float32")},t.prototype.selu=function(n){ne(n,"selu");for(var r=fv,a=dv,i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var u=o[s];i[s]=u>=0?a*u:r*(Math.exp(u)-1)}return this.makeOutput(i,n.shape,"float32")},t.prototype.clip=function(n,r,a){ne(n,"clip");for(var i=new Float32Array(n.size),o=this.readSync(n.dataId),s=0;s<o.length;++s){var u=o[s];i[s]=u>a?a:u<r?r:u}return this.makeOutput(i,n.shape,"float32")},t.prototype.abs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.abs(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<n.size;++i){var o=a[2*i],s=a[2*i+1];r[i]=Math.hypot(o,s)}return this.makeOutput(r,n.shape,"float32")},t.prototype.int=function(n){ne(n,"int");for(var r=new Int32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=a[i];return this.makeOutput(r,n.shape,"int32")},t.prototype.sigmoid=function(n){ne(n,"sigmoid");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=1/(1+Math.exp(-a[i]));return this.makeOutput(r,n.shape,"float32")},t.prototype.softplus=function(n){ne(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o]>-r,u=i[o]<r,l=Math.exp(i[o]),c=void 0;c=u?l:s?i[o]:Math.log(1+l),a[o]=c}return this.makeOutput(a,n.shape,"float32")},t.prototype.sin=function(n){ne(n,"sin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cos=function(n){ne(n,"cos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tan=function(n){ne(n,"tan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.tan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asin=function(n){ne(n,"asin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asin(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acos=function(n){ne(n,"acos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acos(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan=function(n){ne(n,"atan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atan(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan2=function(n,r){return ne([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.atan2(a,i)})},t.prototype.sinh=function(n){ne(n,"sinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cosh=function(n){ne(n,"cosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tanh=function(n){ne(n,"tanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=WM(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asinh=function(n){ne(n,"asinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asinh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acosh=function(n){ne(n,"acosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acosh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atanh=function(n){ne(n,"atanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atanh(a[i]);return this.makeOutput(r,n.shape,"float32")},t.prototype.erf=function(n){ne(n,"erf");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=Math.sign(a[i]),s=Math.abs(a[i]),u=1/(1+.3275911*s);r[i]=o*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(r,n.shape,"float32")},t.prototype.step=function(n,r){r===void 0&&(r=0),ne(n,"step");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var s=i[o];isNaN(s)?a[o]=NaN:a[o]=s>0?1:r}return this.makeOutput(a,n.shape,"float32")},t.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights,l=this.conv2d(r,a,i);return o&&(l=this.add(l,o)),s&&(l=wh(this,l,s,u)),l},t.prototype.conv2d=function(n,r,a){ne([n,r],"conv2d");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,c=a.padInfo.top,f=a.dataFormat==="channelsLast",d=Ve(a.outShape,n.dtype),h=n.strides[0],m=f?n.strides[1]:n.strides[2],p=f?n.strides[2]:1,v=f?1:n.strides[1],g=d.strides[0],x=f?d.strides[1]:d.strides[2],y=f?d.strides[2]:1,b=f?1:d.strides[1],w=this.readSync(n.dataId),_=this.readSync(r.dataId),S=d.values,C=0;C<a.batchSize;++C)for(var k=C*h,E=C*g,T=0;T<a.outHeight;++T)for(var A=E+T*x,I=T*a.strideHeight-c,D=0;D<i;D++){var M=I+D*s;if(!(M<0||M>=a.inHeight))for(var L=D*r.strides[0],W=k+M*m,V=0;V<a.outWidth;++V)for(var H=A+V*y,X=V*a.strideWidth-l,ae=0;ae<o;ae++){var se=X+ae*u;if(!(se<0||se>=a.inWidth))for(var me=W+se*p,Ne=L+ae*r.strides[1],Ie=0;Ie<a.inChannels;++Ie){for(var de=w[me+Ie*v],G=0;G<a.outChannels;++G)S[H+G*b]+=de*_[Ne+G];Ne+=a.outChannels}}}return d.toTensor()},t.prototype.conv3d=function(n,r,a){for(var i=a.filterDepth,o=a.filterHeight,s=a.filterWidth,u=a.dilationDepth,l=a.dilationHeight,c=a.dilationWidth,f=a.padInfo.front,d=a.padInfo.left,h=a.padInfo.top,m=Ve(a.outShape,n.dtype),p=this.readSync(n.dataId),v=this.readSync(r.dataId),g=m.values,x=0;x<a.batchSize;++x)for(var y=x*n.strides[0],b=x*m.strides[0],w=0;w<a.outDepth;++w)for(var _=b+w*m.strides[1],S=w*a.strideDepth-f,C=0;C<i;C++){var k=S+C*u;if(!(k<0||k>=a.inDepth))for(var E=C*r.strides[0],T=y+k*n.strides[1],A=0;A<a.outHeight;++A)for(var I=_+A*m.strides[2],D=A*a.strideHeight-h,M=0;M<o;M++){var L=D+M*l;if(!(L<0||L>=a.inHeight))for(var W=E+M*r.strides[1],V=T+L*n.strides[2],H=0;H<a.outWidth;++H)for(var X=I+H*a.outChannels,ae=H*a.strideWidth-d,se=0;se<s;se++){var me=ae+se*c;if(!(me<0||me>=a.inWidth))for(var Ne=W+se*r.strides[2],Ie=V+me*a.inChannels,de=Ne,G=0;G<a.inChannels;++G){for(var ee=p[Ie+G],te=0;te<a.outChannels;++te)g[X+te]+=ee*v[de+te];de+=a.outChannels}}}}return m.toTensor()},t.prototype.conv2dDerInput=function(n,r,a){ne([n,r],"conv2dDerInput");for(var i=Ve(a.inShape,"float32"),o=i.values,s=this.readSync(n.dataId),u=this.readSync(r.dataId),l=r.strides,c=l[0],f=l[1],d=l[2],h=a.batchSize,m=a.filterHeight,p=a.filterWidth,v=a.inChannels,g=a.inHeight,x=a.inWidth,y=a.outChannels,b=a.outHeight,w=a.outWidth,_=a.strideHeight,S=a.strideWidth,C=a.dataFormat,k=m-1-a.padInfo.top,E=p-1-a.padInfo.left,T=C==="channelsLast",A=i.strides[0],I=T?i.strides[1]:i.strides[2],D=T?i.strides[2]:1,M=T?1:i.strides[1],L=n.strides[0],W=T?n.strides[1]:n.strides[2],V=T?n.strides[2]:1,H=T?1:n.strides[1],X=0;X<h;++X)for(var ae=0;ae<v;++ae)for(var se=0;se<g;++se)for(var me=se-k,Ne=Math.max(0,Math.ceil(me/_)),Ie=Math.min(b,(m+me)/_),de=0;de<x;++de){for(var G=de-E,ee=Math.max(0,Math.ceil(G/S)),te=Math.min(w,(p+G)/S),ce=0,be=Ne;be<Ie;++be)for(var Oe=be*_-me,N=ee;N<te;++N)for(var P=L*X+W*be+V*N,z=c*(m-1-Oe)+f*(p-1-(N*S-G))+d*ae,Z=0;Z<y;++Z)ce+=s[P+H*Z]*u[z+Z];o[A*X+I*se+D*de+M*ae]=ce}return i.toTensor()},t.prototype.conv3dDerInput=function(n,r,a){for(var i=Ve(a.inShape,"float32"),o=i.values,s=i.strides,u=s[0],l=s[1],c=s[2],f=s[3],d=this.readSync(n.dataId),h=n.strides,m=h[0],p=h[1],v=h[2],g=h[3],x=this.readSync(r.dataId),y=r.strides,b=y[0],w=y[1],_=y[2],S=y[3],C=a.batchSize,k=a.filterDepth,E=a.filterHeight,T=a.filterWidth,A=a.inChannels,I=a.inDepth,D=a.inHeight,M=a.inWidth,L=a.outChannels,W=a.outDepth,V=a.outHeight,H=a.outWidth,X=a.strideDepth,ae=a.strideHeight,se=a.strideWidth,me=k-1-a.padInfo.front,Ne=E-1-a.padInfo.top,Ie=T-1-a.padInfo.left,de=0;de<C;++de)for(var G=0;G<A;++G)for(var ee=0;ee<I;++ee)for(var te=ee-me,ce=Math.max(0,Math.ceil(te/X)),be=Math.min(W,(k+te)/X),Oe=0;Oe<D;++Oe)for(var N=Oe-Ne,P=Math.max(0,Math.ceil(N/ae)),z=Math.min(V,(E+N)/ae),Z=0;Z<M;++Z){for(var J=Z-Ie,re=Math.max(0,Math.ceil(J/se)),ue=Math.min(H,(T+J)/se),le=0,oe=ce;oe<be;++oe)for(var ie=oe*X-te,Ae=P;Ae<z;++Ae)for(var he=Ae*ae-N,xe=re;xe<ue;++xe)for(var Pe=m*de+p*oe+v*Ae+g*xe,je=b*(k-1-ie)+w*(E-1-he)+_*(T-1-(xe*se-J))+S*G,$e=0;$e<L;++$e)le+=d[Pe+$e]*x[je+$e];o[u*de+l*ee+c*Oe+f*Z+G]=le}return i.toTensor()},t.prototype.conv2dDerFilter=function(n,r,a){ne([n,r],"conv2dDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dataFormat==="channelsLast",c=Ve(a.filterShape,"float32"),f=a.padInfo.left,d=a.padInfo.top,h=this.bufferSync(n),m=this.bufferSync(r),p=0;p<s;++p)for(var v=Math.max(0,Math.ceil((d-p)/i)),g=Math.min(a.outHeight,(a.inHeight+d-p)/i),x=0;x<u;++x)for(var y=Math.max(0,Math.ceil((f-x)/o)),b=Math.min(a.outWidth,(a.inWidth+f-x)/o),w=0;w<a.inChannels;++w)for(var _=0;_<a.outChannels;++_){for(var S=0,C=0;C<a.batchSize;++C)for(var k=v;k<g;++k)for(var E=p+k*i-d,T=y;T<b;++T){var A=x+T*o-f;S+=l?h.get(C,E,A,w)*m.get(C,k,T,_):h.get(C,w,E,A)*m.get(C,_,k,T)}c.set(S,p,x,w,_)}return c.toTensor()},t.prototype.conv3dDerFilter=function(n,r,a){for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,c=a.filterWidth,f=Ve(a.filterShape,"float32"),d=f.values,h=f.strides,m=h[0],p=h[1],v=h[2],g=h[3],x=this.readSync(r.dataId),y=r.strides,b=y[0],w=y[1],_=y[2],S=y[3],C=this.readSync(n.dataId),k=n.strides,E=k[0],T=k[1],A=k[2],I=k[3],D=a.padInfo.front,M=a.padInfo.left,L=a.padInfo.top,W=0;W<u;++W)for(var V=Math.max(0,Math.ceil((D-W)/i)),H=Math.min(a.outDepth,(a.inDepth+D-W)/i),X=W*m,ae=0;ae<l;++ae)for(var se=Math.max(0,Math.ceil((L-ae)/o)),me=Math.min(a.outHeight,(a.inHeight+L-ae)/o),Ne=ae*p+X,Ie=0;Ie<c;++Ie)for(var de=Math.max(0,Math.ceil((M-Ie)/s)),G=Math.min(a.outWidth,(a.inWidth+M-Ie)/s),ee=Ie*v+Ne,te=0;te<a.inChannels;++te)for(var ce=te*g+ee,be=0;be<a.outChannels;++be){for(var Oe=0,N=0;N<a.batchSize;++N)for(var P=N*E,z=N*b,Z=V;Z<H;++Z)for(var J=(W+Z*i-D)*T+P,re=Z*w+z,ue=se;ue<me;++ue)for(var le=(ae+ue*o-L)*A+J,oe=ue*_+re,ie=de;ie<G;++ie){var Ae=ie*S+oe;Oe+=C[(Ie+ie*s-M)*I+le+te]*x[Ae+be]}d[ce+be]=Oe}return f.toTensor()},t.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,s=n.activation,u=n.preluActivationWeights,l=this.depthwiseConv2D(r,a,i);return o&&(l=this.add(l,o)),s&&(l=wh(this,l,s,u)),l},t.prototype.depthwiseConv2D=function(n,r,a){ne([n,r],"depthwiseConv2D");for(var i=a.filterHeight,o=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,c=a.padInfo.top,f=a.outChannels/a.inChannels,d=Ve(a.outShape,n.dtype),h=this.readSync(n.dataId),m=this.readSync(r.dataId),p=d.values,v=0;v<a.batchSize;++v)for(var g=v*n.strides[0],x=v*d.strides[0],y=0;y<a.outHeight;++y)for(var b=x+y*d.strides[1],w=y*a.strideHeight-l,_=0;_<i;++_){var S=w+_*s;if(!(S<0||S>=a.inHeight))for(var C=_*r.strides[0],k=g+S*n.strides[1],E=0;E<a.outWidth;++E)for(var T=b+E*d.strides[2],A=E*a.strideWidth-c,I=0;I<o;++I){var D=A+I*u;if(!(D<0||D>=a.inWidth))for(var M=C+I*r.strides[1],L=k+D*a.inChannels,W=T,V=M,H=0;H<a.inChannels;++H){for(var X=h[L+H],ae=0;ae<f;++ae)p[W+ae]+=X*m[V+ae];W+=f,V+=f}}}return d.toTensor()},t.prototype.depthwiseConv2DDerInput=function(n,r,a){ne([n,r],"depthwiseConv2DDerInput");for(var i=Ve(a.inShape,"float32"),o=i.values,s=i.strides,u=s[0],l=s[1],c=s[2],f=this.readSync(n.dataId),d=n.strides,h=d[0],m=d[1],p=d[2],v=this.readSync(r.dataId),g=r.strides,x=g[0],y=g[1],b=g[2],w=a.batchSize,_=a.filterHeight,S=a.filterWidth,C=a.inChannels,k=a.inHeight,E=a.inWidth,T=a.outChannels,A=a.outHeight,I=a.outWidth,D=a.strideHeight,M=a.strideWidth,L=_-1-a.padInfo.top,W=S-1-a.padInfo.left,V=T/C,H=0;H<w;++H)for(var X=0;X<C;++X)for(var ae=0;ae<k;++ae)for(var se=ae-L,me=Math.max(0,Math.ceil(se/D)),Ne=Math.min(A,(_+se)/D),Ie=0;Ie<E;++Ie){for(var de=Ie-W,G=Math.max(0,Math.ceil(de/M)),ee=Math.min(I,(S+de)/M),te=0,ce=me;ce<Ne;++ce)for(var be=ce*D-se,Oe=G;Oe<ee;++Oe)for(var N=h*H+m*ce+p*Oe,P=x*(_-1-be)+y*(S-1-(Oe*M-de))+b*X,z=0;z<V;++z)te+=f[N+(X*V+z)]*v[P+z];o[u*H+l*ae+c*Ie+X]=te}return i.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(n,r,a){ne([n,r],"depthwiseConv2DDerFilter");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=Ve(a.filterShape,"float32"),c=a.padInfo.left,f=a.padInfo.top,d=a.outChannels/a.inChannels,h=this.bufferSync(n),m=this.bufferSync(r),p=0;p<s;++p)for(var v=Math.max(0,Math.ceil((f-p)/i)),g=Math.min(a.outHeight,(a.inHeight+f-p)/i),x=0;x<u;++x)for(var y=Math.max(0,Math.ceil((c-x)/o)),b=Math.min(a.outWidth,(a.inWidth+c-x)/o),w=0;w<a.outChannels;++w){for(var _=Math.trunc(w/d),S=w%d,C=0,k=0;k<a.batchSize;++k)for(var E=v;E<g;++E)for(var T=p+E*i-f,A=y;A<b;++A){var I=x+A*o-c;C+=h.get(k,T,I,_)*m.get(k,E,A,w)}l.set(C,p,x,_,S)}return l.toTensor()},t.prototype.tile=function(n,r){return ne(n,"tile"),hE(this.bufferSync(n),r)},t.prototype.pad=function(n,r,a){ne(n,"pad");var i=r.map(function(d,h){return d[0]+n.shape[h]+d[1]}),o=r.map(function(d){return d[0]}),s=this.bufferSync(n),u=Ve(i,n.dtype);a!==0&&u.values.fill(a);for(var l=0;l<n.size;l++){var c=s.indexToLoc(l),f=c.map(function(d,h){return d+o[h]});u.set.apply(u,[s.get.apply(s,c)].concat(f))}return u.toTensor()},t.prototype.transpose=function(n,r){ne(n,"transpose");for(var a=new Array(n.rank),i=0;i<a.length;i++)a[i]=n.shape[r[i]];var o=this.readSync(n.dataId),s=Ve(a,n.dtype),u=this.bufferSync(n);for(i=0;i<n.size;++i){for(var l=u.indexToLoc(i),c=new Array(l.length),f=0;f<c.length;f++)c[f]=l[r[f]];var d=s.locToIndex(c);s.values[d]=o[i]}return s.toTensor()},t.prototype.gather=function(n,r,a){ne([n,r],"gather");var i=n.shape.slice(),o=this.readSync(r.dataId);i[a]=o.length;for(var s=Ve(i,n.dtype),u=this.bufferSync(n),l=0;l<s.size;++l){var c=s.indexToLoc(l),f=c.slice();f[a]=o[c[a]];var d=u.locToIndex(f);s.values[l]=u.values[d]}return s.toTensor()},t.prototype.batchToSpaceND=function(n,r,a){ne([n],"batchToSpaceND");var i=r.reduce(function(f,d){return f*d}),o=Lc(n.shape,r,i),s=Bc(o.length,r.length),u=Vc(n.shape,r,i),l=eE(a,r.length),c=tE(u,a,r.length);return n.reshape(o).transpose(s).reshape(u).slice(l,c)},t.prototype.spaceToBatchND=function(n,r,a){ne([n],"spaceToBatchND");var i=r.reduce(function(d,h){return d*h}),o=[[0,0]];o.push.apply(o,a);for(var s=1+r.length;s<n.shape.length;++s)o.push([0,0]);var u=n.pad(o),l=Lc(u.shape,r,i,!1),c=Bc(l.length,r.length,!1),f=Vc(u.shape,r,i,!1);return u.reshape(l).transpose(c).reshape(f)},t.prototype.pool=function(n,r,a){ne(n,"pool");for(var i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,f=r.padInfo.top,d=r.padInfo.left,h=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(n.dataId),p=Ve(r.outShape,n.dtype),v=p.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],x=r.outShape[2]*r.outShape[3],y=r.outShape[3],b=0;b<r.batchSize;++b)for(var w=b*g,_=b*n.strides[0],S=0;S<r.inChannels;++S)for(var C=0;C<r.outHeight;++C)for(var k=C*i-f,E=Math.max(0,k),T=Math.min(r.inHeight,l+k),A=w+C*x,I=0;I<r.outWidth;++I){for(var D=I*o-d,M=Math.max(0,D),L=Math.min(r.inWidth,c+D),W=h,V=0,H=0,X=E;X<T;X+=s){for(var ae=_+X*n.strides[1],se=M;se<L;se+=u){var me=m[ae+se*n.strides[2]+S];a==="max"&&me>W?W=me:a==="avg"&&(V+=me,H++)}if(isNaN(W))break}v[A+I*y+S]=a==="avg"?V/H:W}return p.toTensor()},t.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},t.prototype.maxPoolPositions=function(n,r){for(var a=Ve(r.outShape,"int32"),i=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,f=r.padInfo.top,d=r.padInfo.left,h=this.bufferSync(n),m=0;m<r.batchSize;++m)for(var p=0;p<r.inChannels;++p)for(var v=0;v<r.outHeight;++v){for(var g=v*i-f,x=g;x<0;)x+=s;for(var y=Math.min(r.inHeight,l+g),b=0;b<r.outWidth;++b){for(var w=b*o-d,_=w;_<0;)_+=u;for(var S=Math.min(r.inWidth,c+w),C=Number.NEGATIVE_INFINITY,k=-1,E=x;E<y;E+=s)for(var T=E-g,A=_;A<S;A+=u){var I=A-w,D=h.get(m,E,A,p);D>C&&(C=D,k=T*c+I)}a.set(k,m,v,b,p)}}return a.toTensor()},t.prototype.maxPoolBackprop=function(n,r,a,i){ne([r,a],"maxPoolBackprop");for(var o=this.maxPoolPositions(r,i),s=i.strideHeight,u=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,f=i.effectiveFilterHeight,d=i.effectiveFilterWidth,h=d-1-i.padInfo.left,m=f-1-i.padInfo.top,p=Ve(r.shape,"float32"),v=this.bufferSync(o),g=this.bufferSync(n),x=0;x<i.batchSize;++x)for(var y=0;y<i.inChannels;++y)for(var b=0;b<i.inHeight;++b)for(var w=0;w<i.inWidth;++w){for(var _=b-m,S=w-h,C=0,k=0;k<f;k+=l){var E=(_+k)/s;if(!(E<0||E>=i.outHeight||Math.floor(E)!==E))for(var T=0;T<d;T+=c){var A=(S+T)/u;if(!(A<0||A>=i.outWidth||Math.floor(A)!==A)){var I=f*d-1-v.get(x,E,A,y)===k*d+T?1:0;I!==0&&(C+=g.get(x,E,A,y)*I)}}}p.set(C,x,b,w,y)}return p.toTensor()},t.prototype.avgPoolBackprop=function(n,r,a){ne([n,r],"avgPoolBackprop");for(var i=a.strideHeight,o=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dilationHeight,c=a.dilationWidth,f=a.effectiveFilterHeight,d=a.effectiveFilterWidth,h=d-1-a.padInfo.left,m=f-1-a.padInfo.top,p=Ve(r.shape,"float32"),v=1/(s*u),g=this.bufferSync(n),x=0;x<a.batchSize;++x)for(var y=0;y<a.inChannels;++y)for(var b=0;b<a.inHeight;++b)for(var w=0;w<a.inWidth;++w){for(var _=b-m,S=w-h,C=0,k=0;k<f;k+=l){var E=(_+k)/i;if(!(E<0||E>=a.outHeight||Math.floor(E)!==E))for(var T=0;T<d;T+=c){var A=(S+T)/o;A<0||A>=a.outWidth||Math.floor(A)!==A||(C+=g.get(x,E,A,y))}}p.set(C*v,x,b,w,y)}return p.toTensor()},t.prototype.pool3d=function(n,r,a){ne(n,"pool3d");for(var i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,m=r.padInfo.front,p=r.padInfo.top,v=r.padInfo.left,g=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=this.readSync(n.dataId),y=Ve(r.outShape,n.dtype),b=y.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],_=r.outShape[2]*r.outShape[3]*r.outShape[4],S=r.outShape[3]*r.outShape[4],C=r.outShape[4],k=0;k<r.batchSize;++k)for(var E=k*w,T=k*n.strides[0],A=0;A<r.inChannels;++A)for(var I=0;I<r.outDepth;++I){for(var D=I*i-m,M=D;M<0;)M+=u;for(var L=Math.min(r.inDepth,f+D),W=E+I*_,V=0;V<r.outHeight;++V){for(var H=V*o-p,X=H;X<0;)X+=l;for(var ae=Math.min(r.inHeight,d+H),se=W+V*S,me=0;me<r.outWidth;++me){for(var Ne=me*s-v,Ie=Ne;Ie<0;)Ie+=c;for(var de=Math.min(r.inWidth,h+Ne),G=se+me*C,ee=g,te=0,ce=0,be=M;be<L;be+=u){for(var Oe=T+be*n.strides[1],N=X;N<ae;N+=l){for(var P=Oe+N*n.strides[2],z=Ie;z<de;z+=c){var Z=x[P+z*n.strides[3]+A];if(a==="max"&&Z>ee?ee=Z:a==="avg"&&(te+=Z,ce++),isNaN(ee))break}if(isNaN(ee))break}if(isNaN(ee))break}b[G+A]=a==="avg"?te/ce:ee}}}return y.toTensor()},t.prototype.avgPool3d=function(n,r){return ne(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(n,r,a){ne([n,r],"avgPool3dBackprop");for(var i=a.strideDepth,o=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,c=a.filterWidth,f=a.dilationDepth,d=a.dilationHeight,h=a.dilationWidth,m=a.effectiveFilterDepth,p=a.effectiveFilterHeight,v=a.effectiveFilterWidth,g=m-1-a.padInfo.front,x=v-1-a.padInfo.left,y=p-1-a.padInfo.top,b=Ve(r.shape,"float32"),w=1/(u*l*c),_=this.bufferSync(n),S=0;S<a.batchSize;++S)for(var C=0;C<a.inChannels;++C)for(var k=0;k<a.inDepth;++k)for(var E=0;E<a.inHeight;++E)for(var T=0;T<a.inWidth;++T){for(var A=k-g,I=E-y,D=T-x,M=0,L=0;L<m;L+=f){var W=(A+L)/i;if(!(W<0||W>=a.outDepth||Math.floor(W)!==W))for(var V=0;V<p;V+=d){var H=(I+V)/o;if(!(H<0||H>=a.outHeight||Math.floor(H)!==H))for(var X=0;X<v;X+=h){var ae=(D+X)/s;ae<0||ae>=a.outWidth||Math.floor(ae)!==ae||(M+=_.get(S,W,H,ae,C))}}}b.set(M*w,S,k,E,T,C)}return b.toTensor()},t.prototype.maxPool3d=function(n,r){return ne(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},t.prototype.maxPool3dPositions=function(n,r){for(var a=Ve(r.outShape,"int32"),i=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,m=r.padInfo.front,p=r.padInfo.top,v=r.padInfo.left,g=this.bufferSync(n),x=0;x<r.batchSize;++x)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outDepth;++b){for(var w=b*i-m,_=w;_<0;)_+=u;for(var S=Math.min(r.inDepth,f+w),C=0;C<r.outHeight;++C){for(var k=C*o-p,E=k;E<0;)E+=l;for(var T=Math.min(r.inHeight,d+k),A=0;A<r.outWidth;++A){for(var I=A*s-v,D=I;D<0;)D+=c;for(var M=Math.min(r.inWidth,h+I),L=Number.NEGATIVE_INFINITY,W=-1,V=_;V<S;V+=u)for(var H=V-w,X=E;X<T;X+=l)for(var ae=X-k,se=D;se<M;se+=c){var me=se-I,Ne=g.get(x,V,X,se,y);Ne>=L&&(L=Ne,W=H*d*h+ae*d+me)}a.set(W,x,b,C,A,y)}}}return a.toTensor()},t.prototype.maxPool3dBackprop=function(n,r,a,i){ne([r,a],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(r,i),s=i.strideDepth,u=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,f=i.dilationHeight,d=i.dilationWidth,h=i.effectiveFilterDepth,m=i.effectiveFilterHeight,p=i.effectiveFilterWidth,v=h-1-i.padInfo.front,g=p-1-i.padInfo.left,x=m-1-i.padInfo.top,y=Ve(r.shape,"float32"),b=this.bufferSync(o),w=this.bufferSync(n),_=0;_<i.batchSize;++_)for(var S=0;S<i.inChannels;++S)for(var C=0;C<i.inDepth;++C)for(var k=0;k<i.inHeight;++k)for(var E=0;E<i.inWidth;++E){for(var T=C-v,A=k-x,I=E-g,D=0,M=0;M<h;M+=c){var L=(T+M)/s;if(!(L<0||L>=i.outDepth||Math.floor(L)!==L))for(var W=0;W<m;W+=f){var V=(A+W)/u;if(!(V<0||V>=i.outHeight||Math.floor(V)!==V))for(var H=0;H<p;H+=d){var X=(I+H)/l;if(!(X<0||X>=i.outWidth||Math.floor(X)!==X)){var ae=h*m*p-1-b.get(_,L,V,X,S)===M*m*p+W*p+H?1:0;ae!==0&&(D+=w.get(_,L,V,X,S)*ae)}}}}y.set(D,_,C,k,E,S)}return y.toTensor()},t.prototype.cast=function(n,r){return lE(n,r,this)},t.prototype.reshape=function(n,r){return Vp(n,r)},t.prototype.avgPool=function(n,r){return ne(n,"avgPool"),this.pool(n,r,"avg").toFloat()},t.prototype.resizeBilinear=function(n,r,a,i){ne(n,"resizeBilinear");for(var o=n.shape,s=o[0],u=o[1],l=o[2],c=o[3],f=this.readSync(n.dataId),d=new Float32Array(ke([s,r,a,c])),h=[i&&r>1?u-1:u,i&&a>1?l-1:l],m=[i&&r>1?r-1:r,i&&a>1?a-1:a],p=0,v=h[0]/m[0],g=h[1]/m[1],x=0;x<s;x++)for(var y=0;y<r;y++)for(var b=v*y,w=Math.floor(b),_=b-w,S=Math.min(u-1,Math.ceil(b)),C=x*n.strides[0]+w*n.strides[1],k=x*n.strides[0]+S*n.strides[1],E=0;E<a;E++)for(var T=g*E,A=Math.floor(T),I=T-A,D=Math.min(l-1,Math.ceil(T)),M=C+A*n.strides[2],L=k+A*n.strides[2],W=C+D*n.strides[2],V=k+D*n.strides[2],H=0;H<c;H++){var X=f[M+H],ae=f[L+H],se=X+(f[W+H]-X)*I,me=se+(ae+(f[V+H]-ae)*I-se)*_;d[p++]=me}return dn(d,[s,r,a,c])},t.prototype.resizeBilinearBackprop=function(n,r,a){ne([n,r],"resizeBilinearBackprop");for(var i=r.shape,o=i[0],s=i[1],u=i[2],l=i[3],c=n.shape,f=c[1],d=c[2],h=new Float32Array(o*s*u*l),m=[a&&f>1?s-1:s,a&&d>1?u-1:u],p=[a&&f>1?f-1:f,a&&d>1?d-1:d],v=m[0]/p[0],g=m[1]/p[1],x=this.readSync(n.dataId),y=0,b=0;b<o;b++)for(var w=b*r.strides[0],_=0;_<f;_++)for(var S=_*v,C=Math.floor(S),k=Math.min(Math.ceil(S),s-1),E=w+C*r.strides[1],T=w+k*r.strides[1],A=S-C,I=1-A,D=0;D<d;D++)for(var M=D*g,L=Math.floor(M),W=Math.min(Math.ceil(M),u-1),V=M-L,H=1-V,X=E+L*r.strides[2],ae=E+W*r.strides[2],se=T+L*r.strides[2],me=T+W*r.strides[2],Ne=I*H,Ie=I*V,de=A*H,G=A*V,ee=0;ee<l;ee++){var te=x[y++];h[X+ee]+=te*Ne,h[ae+ee]+=te*Ie,h[se+ee]+=te*de,h[me+ee]+=te*G}return Un(h,[o,u,s,l],r.dtype)},t.prototype.resizeNearestNeighbor=function(n,r,a,i){ne(n,"resizeNearestNeighbor");for(var o=n.shape,s=o[0],u=o[1],l=o[2],c=o[3],f=this.readSync(n.dataId),d=new Float32Array(s*r*a*c),h=[i&&r>1?u-1:u,i&&a>1?l-1:l],m=[i&&r>1?r-1:r,i&&a>1?a-1:a],p=h[0]/m[0],v=h[1]/m[1],g=0,x=0;x<s;x++)for(var y=x*n.strides[0],b=0;b<r;b++)for(var w=p*b,_=y+Math.min(u-1,i?Math.round(w):Math.floor(w))*n.strides[1],S=0;S<a;S++)for(var C=v*S,k=_+Math.min(l-1,i?Math.round(C):Math.floor(C))*n.strides[2],E=0;E<c;E++){var T=f[k+E];d[g++]=T}return dn(d,[s,r,a,c],n.dtype)},t.prototype.resizeNearestNeighborBackprop=function(n,r,a){ne([n,r],"resizeNearestNeighborBackprop");for(var i=r.shape,o=i[0],s=i[1],u=i[2],l=i[3],c=n.shape,f=c[1],d=c[2],h=new Float32Array(o*s*u*l),m=this.readSync(n.dataId),p=[a&&f>1?s-1:s,a&&d>1?u-1:u],v=[a&&f>1?f-1:f,a&&d>1?d-1:d],g=p[0]/v[0],x=p[1]/v[1],y=1/g,b=1/x,w=2*Math.ceil(y)+2,_=2*Math.ceil(b)+2,S=0;S<o;S++)for(var C=S*r.strides[0],k=0;k<s;k++)for(var E=C+k*r.strides[1],T=Math.floor(k*y),A=Math.floor(T-w/2),I=0;I<u;I++)for(var D=E+I*r.strides[2],M=Math.floor(I*b),L=Math.floor(M-_/2),W=0;W<l;W++){for(var V=0,H=0;H<w;H++){var X=H+A;if(!(X<0||X>=f)){var ae=C+X*n.strides[1],se=X*g;if(k===Math.min(s-1,a?Math.round(se):Math.floor(se)))for(var me=0;me<_;me++){var Ne=me+L;if(!(Ne<0||Ne>=d)){var Ie=ae+Ne*n.strides[2],de=Ne*x;I===Math.min(u-1,a?Math.round(de):Math.floor(de))&&(V+=m[Ie+W])}}}}h[D+W]=V}return Un(h,r.shape,r.dtype)},t.prototype.batchNormalization=function(n,r,a,i,o,s){ne([n,r,a,o,s],"batchNorm");for(var u=this.readSync(n.dataId),l=this.readSync(r.dataId),c=this.readSync(a.dataId),f=o?this.readSync(o.dataId):new Float32Array([1]),d=s?this.readSync(s.dataId):new Float32Array([0]),h=new Float32Array(u.length),m=d.length,p=f.length,v=c.length,g=l.length,x=0,y=0,b=0,w=0,_=0;_<u.length;++_)h[_]=d[x++]+(u[_]-l[y++])*f[b++]/Math.sqrt(c[w++]+i),x>=m&&(x=0),y>=g&&(y=0),b>=p&&(b=0),w>=v&&(w=0);return Un(h,n.shape)},t.prototype.localResponseNormalization4D=function(n,r,a,i,o){ne(n,"localResponseNormalization4D");var s=n.shape[3],u=s-1,l=this.readSync(n.dataId),c=n.size,f=new Float32Array(c);function d(v){for(var g=v%s,x=v-g+Math.max(0,g-r),y=v-g+Math.min(g+r,u),b=0;x<=y;x++){var w=l[x];b+=w*w}return b}for(var h=0;h<c;h++){var m=d(h),p=l[h]*Math.pow(a+i*m,-o);f[h]=p}return Un(f,n.shape)},t.prototype.LRNGrad=function(n,r,a,i,o,s,u){ne(n,"LRNGrad");for(var l=n.shape[3],c=this.readSync(n.dataId),f=this.readSync(r.dataId),d=this.readSync(a.dataId),h=new Float32Array(n.size),m=n.size,p=0;p<m;p++){for(var v=p%l,g=p-v+Math.max(0,v-i),x=p-v+Math.min(l,v+i+1),y=0,b=g;b<x;b++)y+=Math.pow(f[b],2);for(y=s*y+o,b=g;b<x;b++){var w=-2*s*u*f[b]*d[p]/y;p===b&&(w+=Math.pow(y,-u)),w*=c[p],h[b]+=w}}return Un(h,n.shape)},t.prototype.multinomial=function(n,r,a,i){ne(n,"multinomial");for(var o=r?n:Ba(n),s=o.shape[0],u=o.shape[1],l=vt([s,a],"int32"),c=this.readSync(l.dataId),f=this.readSync(o.dataId),d=0;d<s;++d){var h=d*u,m=new Float32Array(u-1);m[0]=f[h];for(var p=1;p<m.length;++p)m[p]=m[p-1]+f[h+p];for(var v=Yf(i.toString()),g=d*a,x=0;x<a;++x){var y=v();c[g+x]=m.length;for(var b=0;b<m.length;b++)if(y<m[b]){c[g+x]=b;break}}}return l},t.prototype.oneHot=function(n,r,a,i){ne(n,"oneHot");var o=new Float32Array(n.size*r);o.fill(i);for(var s=this.readSync(n.dataId),u=0;u<n.size;++u)s[u]>=0&&s[u]<r&&(o[u*r+s[u]]=a);return si(o,[n.size,r],"int32")},t.prototype.nonMaxSuppression=function(n,r,a,i,o){return ne(n,"nonMaxSuppression"),sv(this.readSync(n.dataId),this.readSync(r.dataId),a,i,o)},t.prototype.fft=function(n){return this.fftBatch(n,!1)},t.prototype.ifft=function(n){return this.fftBatch(n,!0)},t.prototype.fftBatch=function(n,r){for(var a=n.shape[0],i=n.shape[1],o=Ve(n.shape,"float32"),s=Ve(n.shape,"float32"),u=br(n).as2D(a,i),l=Jr(n).as2D(a,i),c=0;c<a;c++)for(var f=u.slice([c,0],[1,i]),d=l.slice([c,0],[1,i]),h=cn(f,d),m=this.readSync(this.fftImpl(h,r).dataId),p=0;p<i;p++){var v=a0(m,p);o.values[c*i+p]=v.real,s.values[c*i+p]=v.imag}return cn(o.toTensor(),s.toTensor()).as2D(a,i)},t.prototype.fftImpl=function(n,r){var a=n.as1D(),i=a.size;if(this.isExponentOf2(i)){var o=this.fftRadix2(a,i,r).as2D(n.shape[0],n.shape[1]);return r&&(o=cn(br(o).div(pe(i)),Jr(o).div(pe(i)))),o}var s=this.readSync(n.dataId),u=function(l){for(var c=new Float32Array(l.length/2),f=new Float32Array(l.length/2),d=0;d<l.length;d+=2)c[d/2]=l[d],f[d/2]=l[d+1];return{real:c,imag:f}}(this.fourierTransformByMatmul(s,i,r));return cn(u.real,u.imag).as2D(n.shape[0],n.shape[1])},t.prototype.isExponentOf2=function(n){return(n&n-1)==0},t.prototype.fftRadix2=function(n,r,a){if(r===1)return n;var i=this.readSync(n.dataId),o=r/2,s=function(g){for(var x=Math.ceil(g.length/4),y=new Float32Array(x),b=new Float32Array(x),w=0;w<g.length;w+=4)y[Math.floor(w/4)]=g[w],b[Math.floor(w/4)]=g[w+1];return{real:y,imag:b}}(i),u=cn(s.real,s.imag).as1D(),l=function(g){for(var x=Math.floor(g.length/4),y=new Float32Array(x),b=new Float32Array(x),w=2;w<g.length;w+=4)y[Math.floor(w/4)]=g[w],b[Math.floor(w/4)]=g[w+1];return{real:y,imag:b}}(i),c=cn(l.real,l.imag).as1D();u=this.fftRadix2(u,o,a),c=this.fftRadix2(c,o,a);var f=function(g,x){for(var y=new Float32Array(g/2),b=new Float32Array(g/2),w=0;w<Math.ceil(g/2);w++){var _=(x?2:-2)*Math.PI*(w/g);y[w]=Math.cos(_),b[w]=Math.sin(_)}return{real:y,imag:b}}(r,a),d=cn(f.real,f.imag).mul(c),h=u.add(d),m=u.sub(d),p=br(h).concat(br(m)),v=Jr(h).concat(Jr(m));return cn(p,v).as1D()},t.prototype.fourierTransformByMatmul=function(n,r,a){for(var i=new Float32Array(2*r),o=0;o<r;o++){for(var s=0,u=0,l=0;l<r;l++){var c=xL(o*l,r,a),f=a0(n,l);s+=f.real*c.real-f.imag*c.imag,u+=f.real*c.imag+f.imag*c.real}a&&(s/=r,u/=r),bL(i,s,u,o)}return i},t.prototype.depthToSpace=function(n,r,a){O(a==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),O(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var i=n.shape[0],o=n.shape[1],s=n.shape[2],u=n.shape[3],l=o*r,c=s*r,f=u/(r*r),d=this.readSync(n.dataId),h=new Float32Array(i*l*c*f),m=0,p=0;p<i;++p)for(var v=0;v<l;++v)for(var g=Math.floor(v/r),x=v%r,y=0;y<c;++y)for(var b=Math.floor(y/r),w=(x*r+y%r)*f,_=0;_<f;++_){var S=_+w+u*(b+s*(g+o*p));h[m++]=d[S]}return Un(h,[i,l,c,f])},t.prototype.broadcastedBinaryOp=function(n,r,a,i){var o=Je(n.shape,r.shape),s=Ve(o,a),u=this.readSync(n.dataId),l=this.readSync(r.dataId),c=ti(n.shape,o),f=ti(r.shape,o),d=s.values;if(c.length+f.length===0)for(var h=0;h<d.length;++h)d[h]=i(u[h%u.length],l[h%l.length]);else{var m=this.bufferSync(n),p=this.bufferSync(r),v=function(g){var x=s.indexToLoc(g),y=x.slice(-n.rank);c.forEach(function(S){return y[S]=0});var b=m.locToIndex(y),w=x.slice(-r.rank);f.forEach(function(S){return w[S]=0});var _=p.locToIndex(w);d[g]=i(u[b],l[_])};for(h=0;h<d.length;++h)v(h)}return s.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(n,r,a){var i=Je(n.shape,r.shape),o=Ve(i,"float32"),s=Ve(i,"float32"),u=this.readSync(n.dataId),l=this.readSync(r.dataId),c=ti(n.shape,i),f=ti(r.shape,i),d=o.values,h=s.values;if(c.length+f.length===0)for(var m=0;m<d.length;m++){var p=m%u.length,v=m%l.length,g=a(u[2*p],u[2*p+1],l[2*v],l[2*v+1]);d[m]=g.real,h[m]=g.imag}else{var x=this.bufferSync(this.data.get(n.dataId).complexTensors.real),y=this.bufferSync(this.data.get(r.dataId).complexTensors.real),b=function(w){var _=o.indexToLoc(w),S=_.slice(-n.rank);c.forEach(function(A){return S[A]=0});var C=x.locToIndex(S),k=_.slice(-r.rank);f.forEach(function(A){return k[A]=0});var E=y.locToIndex(k),T=a(u[2*C],u[2*C+1],l[2*E],l[2*E+1]);d[w]=T.real,h[w]=T.imag};for(m=0;m<d.length;m++)b(m)}return this.complex(o.toTensor(),s.toTensor())},t.prototype.split=function(n,r,a){return dE(n,r,a)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(n,r,a,i,o,s){for(var u=n.shape,l=u[0],c=u[1],f=u[2],d=u[3],h=r.shape[0],m=i[0],p=i[1],v=Ve([h,m,p,d],"float32"),g=this.readSync(r.dataId),x=this.readSync(a.dataId),y=this.readSync(n.dataId),b=n.strides,w=v.strides,_=0;_<h;_++){var S=4*_,C=g[S],k=g[S+1],E=g[S+2],T=g[S+3],A=x[_];if(!(A>=l))for(var I=m>1?(E-C)*(c-1)/(m-1):0,D=p>1?(T-k)*(f-1)/(p-1):0,M=0;M<m;M++){var L=m>1?C*(c-1)+M*I:.5*(C+E)*(c-1);if(L<0||L>c-1)for(var W=0;W<p;W++)for(var V=0;V<d;V++){var H=V+W*w[2]+M*w[1]+_*w[0];v.values[H]=s}else if(o==="bilinear"){var X=Math.floor(L),ae=Math.ceil(L),se=L-X;for(W=0;W<p;W++)if((be=p>1?k*(f-1)+W*D:.5*(k+T)*(f-1))<0||be>f-1)for(V=0;V<d;V++)H=V+W*w[2]+M*w[1]+_*w[0],v.values[H]=s;else{var me=Math.floor(be),Ne=Math.ceil(be),Ie=be-me;for(V=0;V<d;V++){var de=y[H=V+me*b[2]+X*b[1]+A*b[0]],G=y[H=V+Ne*b[2]+X*b[1]+A*b[0]],ee=y[H=V+me*b[2]+ae*b[1]+A*b[0]],te=de+(G-de)*Ie,ce=ee+(y[H=V+Ne*b[2]+ae*b[1]+A*b[0]]-ee)*Ie;H=V+W*w[2]+M*w[1]+_*w[0],v.values[H]=te+(ce-te)*se}}}else for(W=0;W<p;++W){var be;if((be=p>1?k*(f-1)+W*D:.5*(k+T)*(f-1))<0||be>f-1)for(V=0;V<d;V++)H=V+W*w[2]+M*w[1]+_*w[0],v.values[H]=s;else{var Oe=Math.round(be),N=Math.round(L);for(V=0;V<d;V++){var P=V+Oe*b[2]+N*b[1]+A*b[0],z=V+W*w[2]+M*w[1]+_*w[0];v.values[z]=y[P]}}}}}return v.toTensor()},t.prototype.sparseToDense=function(n,r,a,i){var o=Uc(0,n,a),s=o.sliceRank,u=o.numUpdates,l=o.sliceSize,c=o.strides,f=o.outputSize;return this.scatter(n,r,a,f,l,u,s,c,i,!1)},t.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=nE(n,r),s=o[0],u=o[1],l=o[2],c=o[3];if(u===0)return dn([],s,n.dtype);for(var f=new xu([u,l],n.dtype),d=this.readSync(r.dataId),h=this.readSync(n.dataId),m=0;m<u;m++){for(var p=[],v=0,g=0;g<i;g++){var x=d[m*i+g];v+=x*c[g],p.push(x)}if(v<0||v>=n.size/l)throw new Error("Invalid indices: "+p+" does not index into "+n.shape);for(var y=0;y<l;y++)f.values[m*l+y]=h[v*l+y]}return f.toTensor().reshape(s)},t.prototype.scatterND=function(n,r,a){var i=Uc(0,n,a),o=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,c=i.outputSize,f=pe(0);return this.scatter(n,r,a,c,u,s,o,l,f,!0)},t.prototype.fill=function(n,r,a){var i=Rc(a=a||Xu(r),ke(n));return i.fill(r),U.makeTensor(i,n,a,this)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){var r=Rc(n.dtype,ke(n.shape));return this.makeOutput(r,n.shape,n.dtype)},t.prototype.linspace=function(n,r,a){return cE(n,r,a)},t.prototype.scatter=function(n,r,a,i,o,s,u,l,c,f){var d=[i/o,o],h=this.readSync(n.dataId),m=this.readSync(r.dataId);if(i===0)return dn([],a,r.dtype);var p=new xu(d,r.dtype);p.values.fill(this.readSync(c.dataId)[0]);for(var v=0;v<s;v++){for(var g=[],x=0,y=0;y<u;y++){var b=h[v*u+y];g.push(b),x+=b*l[y]}if(x<0||x>=i/o)throw new Error("Invalid indices: "+g+" does not index into "+a);for(var w=0;w<o;w++)f?p.values[x*o+w]+=m[v*o+w]:p.values[x*o+w]=r.rank===0?m[0]:m[v*o+w]}return p.toTensor().reshape(a)},t}(sE);U.registerBackend("cpu",function(){return new UU},1);for(var _h=0,S0=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t,i=a.boxes,o=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=n;ne(i,"NonMaxSuppressionWithScore");var h=uv(d.data.get(i.dataId).values,d.data.get(o.dataId).values,u,l,c,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;ne(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:ku,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n;ne([a,i],ku);var s=o.data.get(a.dataId).values,u=o.data.get(i.dataId).values,l=function(d,h,m,p,v,g){var x=Je(d,h),y=x.length,b=ta(x),w=bu(v,ke(x)),_=d.length,S=h.length,C=ta(d),k=ta(h),E=ti(d,x),T=ti(h,x);if(E.length+T.length===0)for(var A=0;A<w.length;++A)w[A]=g(m[A%m.length],p[A%p.length]);else{var I=function(D){var M=YM(D,y,b),L=M.slice(-_);E.forEach(function(X){return L[X]=0});var W=Xb(L,_,C),V=M.slice(-S);T.forEach(function(X){return V[X]=0});var H=Xb(V,S,k);w[D]=g(m[W],p[H])};for(A=0;A<w.length;++A)I(A)}return[w,x]}(a.shape,i.shape,s,u,a.dtype,function(d,h){var m=d-h;return m*m}),c=l[0],f=l[1];return{dataId:o.write(c,f,a.dtype),shape:f,dtype:a.dtype}}}];_h<S0.length;_h++)Fk(S0[_h]);var Eo,WU=function(e){this.variableNames=["A"];var t=_n(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},jU=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=_n(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var kh=0,A0=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,u=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=u[0],c=u[1],f=[c,l],d=[c,l,i];(s||o)&&(Eo==null&&(Eo=document.createElement("canvas").getContext("2d")),Eo.canvas.width=l,Eo.canvas.height=c,Eo.drawImage(a,0,0,l,c),a=Eo.canvas);var h=n.makeTensorInfo(f,"int32");n.texData.get(h.dataId).usage=sr.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),a);var m=Q().getBool("WEBGL_PACK")?new jU(d):new WU(d),p=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),p}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;Pc("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t,i=a.boxes,o=a.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=n,h=uv(d.readSync(i.dataId),d.readSync(o.dataId),u,l,c,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,i=new He(r.shape,"return x * x;");return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:ku,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=r.a,i=r.b,o=n,s=Q().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xa("return (a - b) * (a - b);",a.shape,i.shape):new It("return (a - b) * (a - b);",a.shape,i.shape);return o.compileAndRun(s,[a,i])}}];kh<A0.length;kh++)Fk(A0[kh]);for(var Eh=0,T0=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:ku,gradFunc:function(e,t){var n=t[0],r=t[1],a=pe(2);return{a:function(){return Cn(e,Cn(a,$t(n,r)))},b:function(){return Cn(e,Cn(a,$t(r,n)))}}}}];Eh<T0.length;Eh++)VM(T0[Eh]);var HU=function(){function e(){}return e.prototype.fetch=function(t,n){return fetch(t,n)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},e}();Q().get("IS_BROWSER")&&Q().setPlatform("browser",new HU);var Ch,zU=function(){return require("node-fetch")},GU=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,n){return Q().global.fetch!=null?Q().global.fetch(t,n):(Ch==null&&(Ch=zU()),Ch(t,n))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)},e}();Q().get("IS_NODE")&&Q().setPlatform("node",new GU);var jp={float32:4,int32:4,uint16:2,uint8:1,bool:1},qc=4;function a2(e,t){for(var n={},r=0,a=function(s){var u=s.name,l=s.dtype,c=s.shape,f=ke(c),d=void 0;if("quantization"in s){var h=s.quantization;if(h.dtype!=="uint8"&&h.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+h.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var m=jp[h.dtype],p=e.slice(r,r+f*m),v=h.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(l==="float32")d=Float32Array.from(v,function(_){return _*h.scale+h.min});else{if(l!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=Int32Array.from(v,function(_){return Math.round(_*h.scale+h.min)})}r+=f*m}else if(l==="string"){var g=ke(s.shape);d=[];for(var x=0;x<g;x++){var y=new Uint32Array(e.slice(r,r+qc))[0];r+=qc;var b=new Uint8Array(e.slice(r,r+y));d.push(b),r+=y}}else{var w=jp[l];if(p=e.slice(r,r+f*w),l==="float32")d=new Float32Array(p);else if(l==="int32")d=new Int32Array(p);else{if(l!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=new Uint8Array(p)}r+=f*w}n[u]=dn(d,c,l)},i=0,o=t;i<o.length;i++)a(o[i]);return n}function KU(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(i){if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var r=new Uint8Array(t),a=0;return n.forEach(function(i){r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}var Hp=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function I0(e){return Hp?Buffer.byteLength(e):new Blob([e]).size}function Av(e){var t=0;e.forEach(function(a){t+=a.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function R0(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function nl(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:I0(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:I0(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var ur=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var a=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(i){var o=i(t,r);o!==null&&a.push(o)}),a},e}(),zo="://",ui=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,n){O(t!=null,function(){return"scheme must not be undefined or null."}),t.endsWith(zo)&&(t=t.slice(0,t.indexOf(zo))),O(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();O(r.managers[t]==null,function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(t){var n=this.getInstance().managers[t];if(n==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Ql(e){if(e.indexOf(zo)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+ui.getSchemes().join(","));return{scheme:e.split(zo)[0],path:e.split(zo)[1]}}function N0(e,t,n){return n===void 0&&(n=!1),we(this,void 0,void 0,function(){var r,a,i,o,s,u,l,c,f;return _e(this,function(d){switch(d.label){case 0:return O(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),O((r=ur.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),O(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),a=r[0],O((i=ur.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),O(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),o=i[0],s=Ql(e).scheme,u=Ql(e).path,l=s===Ql(e).scheme,[4,a.load()];case 1:return c=d.sent(),n&&l?[4,ui.getManager(s).removeModel(u)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,o.save(c)];case 4:return f=d.sent(),!n||l?[3,6]:[4,ui.getManager(s).removeModel(u)];case 5:d.sent(),d.label=6;case 6:return[2,f.modelArtifactsInfo]}})})}var Mi="models_store",ni="model_info_store";function i2(){if(!Q().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function zp(e){var t=e.result;t.createObjectStore(Mi,{keyPath:"modelPath"}),t.createObjectStore(ni,{keyPath:"modelPath"})}var Go=function(){function e(t){if(this.indexedDB=i2(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return we(this,void 0,void 0,function(){return _e(this,function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},e.prototype.load=function(){return we(this,void 0,void 0,function(){return _e(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(t,n){var r=this;return new Promise(function(a,i){var o=r.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return zp(o)},o.onsuccess=function(){var s=o.result;if(n==null){var u=s.transaction(Mi,"readonly"),l=u.objectStore(Mi).get(r.modelPath);l.onsuccess=function(){if(l.result==null)return s.close(),i(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(l.result.modelArtifacts)},l.onerror=function(p){return s.close(),i(l.error)},u.oncomplete=function(){return s.close()}}else{var c,f=nl(n),d=s.transaction(ni,"readwrite"),h=d.objectStore(ni),m=h.put({modelPath:r.modelPath,modelArtifactsInfo:f});m.onsuccess=function(){var p=(c=s.transaction(Mi,"readwrite")).objectStore(Mi).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:f});p.onsuccess=function(){return a({modelArtifactsInfo:f})},p.onerror=function(v){var g=(h=d.objectStore(ni)).delete(r.modelPath);g.onsuccess=function(){return s.close(),i(p.error)},g.onerror=function(x){return s.close(),i(p.error)}}},m.onerror=function(p){return s.close(),i(m.error)},d.oncomplete=function(){c==null?s.close():c.oncomplete=function(){return s.close()}}}},o.onerror=function(s){return i(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),O0=function(e){return Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Go.URL_SCHEME)?(t=e.slice(Go.URL_SCHEME.length),new Go(t)):null;var t};ur.registerSaveRouter(O0),ur.registerLoadRouter(O0);var qU=function(){function e(){this.indexedDB=i2()}return e.prototype.listModels=function(){return we(this,void 0,void 0,function(){var t=this;return _e(this,function(n){return[2,new Promise(function(r,a){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return zp(i)},i.onsuccess=function(){var o=i.result,s=o.transaction(ni,"readonly"),u=s.objectStore(ni).getAll();u.onsuccess=function(){for(var l={},c=0,f=u.result;c<f.length;c++){var d=f[c];l[d.modelPath]=d.modelArtifactsInfo}r(l)},u.onerror=function(l){return o.close(),a(u.error)},s.oncomplete=function(){return o.close()}},i.onerror=function(o){return a(i.error)}})]})})},e.prototype.removeModel=function(t){return we(this,void 0,void 0,function(){var n=this;return _e(this,function(r){var a;return t=(a=t).startsWith(Go.URL_SCHEME)?a.slice(Go.URL_SCHEME.length):a,[2,new Promise(function(i,o){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return zp(s)},s.onsuccess=function(){var u,l=s.result,c=l.transaction(ni,"readwrite"),f=c.objectStore(ni),d=f.get(t);d.onsuccess=function(){if(d.result==null)return l.close(),o(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var h=f.delete(t),m=function(){var p=(u=l.transaction(Mi,"readwrite")).objectStore(Mi).delete(t);p.onsuccess=function(){return i(d.result.modelArtifactsInfo)},p.onerror=function(v){return o(d.error)}};h.onsuccess=m,h.onerror=function(p){return m(),l.close(),o(d.error)}},d.onerror=function(h){return l.close(),o(d.error)},c.oncomplete=function(){u==null?l.close():u.oncomplete=function(){return l.close()}}},s.onerror=function(u){return o(s.error)}})]})})},e}();if(Q().getBool("IS_BROWSER"))try{ui.registerManager(Go.URL_SCHEME,new qU)}catch{}var Sa="/",Po="tensorflowjs_models",o2="info",$U="model_topology",XU="weight_specs",YU="weight_data",JU="model_metadata";function s2(e){return{info:[Po,e,o2].join(Sa),topology:[Po,e,$U].join(Sa),weightSpecs:[Po,e,XU].join(Sa),weightData:[Po,e,YU].join(Sa),modelMetadata:[Po,e,JU].join(Sa)}}function QU(e){var t=e.split(Sa);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Sa)}var Ko=function(){function e(t){if(!Q().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=s2(this.modelPath)}return e.prototype.save=function(t){return we(this,void 0,void 0,function(){var n,r,a;return _e(this,function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=nl(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(o){if(Hp)return Buffer.from(o).toString("base64");for(var s=new Uint8Array(o),u="",l=0,c=s.length;l<c;l++)u+=String.fromCharCode(s[l]);return btoa(u)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return we(this,void 0,void 0,function(){var t,n,r,a,i,o,s;return _e(this,function(u){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=a,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,n.userDefinedMetadata=o.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(l){if(Hp){var c=Buffer.from(l,"base64");return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}for(var f=atob(l),d=new Uint8Array(f.length),h=0;h<f.length;++h)d.set([f.charCodeAt(h)],h);return d.buffer}(s),[2,n]})})},e.URL_SCHEME="localstorage://",e}(),D0=function(e){return Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ko.URL_SCHEME)?(t=e.slice(Ko.URL_SCHEME.length),new Ko(t)):null;var t};ur.registerSaveRouter(D0),ur.registerLoadRouter(D0);var ZU=function(){function e(){O(Q().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),O(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return we(this,void 0,void 0,function(){var t,n,r,a,i,o;return _e(this,function(s){for(t={},n=Po+Sa,r=Sa+o2,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=QU(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},e.prototype.removeModel=function(t){return we(this,void 0,void 0,function(){var n,r;return _e(this,function(a){var i;if(t=(i=t).startsWith(Ko.URL_SCHEME)?i.slice(Ko.URL_SCHEME.length):i,n=s2(t),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},e}();if(Q().getBool("IS_BROWSER"))try{ui.registerManager(Ko.URL_SCHEME,new ZU)}catch{}var e5="model",t5=".json",n5=".weights.bin";function P0(e){return new Promise(function(t){return setTimeout(t)}).then(e)}var Sh=function(){function e(t){if(!Q().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=e5),this.modelTopologyFileName=t+t5,this.weightDataFileName=t+n5}return e.prototype.save=function(t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s;return _e(this,function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,P0(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return u.sent(),t.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,[4,P0(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:nl(t)}]}})})},e.URL_SCHEME="downloads://",e}(),r5=function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return we(this,void 0,void 0,function(){var t,n,r=this;return _e(this,function(a){return t=this.files[0],n=this.files.slice(1),[2,new Promise(function(i,o){var s=new FileReader;s.onload=function(u){var l=JSON.parse(u.target.result),c=l.modelTopology;if(c!=null){n.length===0&&i({modelTopology:c});var f=l.weightsManifest;if(f!=null){var d;try{d=r.checkManifestAndWeightFiles(f,n)}catch(v){return void o(v)}var h=[],m=[],p=[];f.forEach(function(v){v.paths.forEach(function(g){m.push(g),p.push(null)}),h.push.apply(h,v.weights)}),f.forEach(function(v){v.paths.forEach(function(g){var x=new FileReader;x.onload=function(y){var b=y.target.result,w=m.indexOf(g);p[w]=b,p.indexOf(null)===-1&&i({modelTopology:c,weightSpecs:h,weightData:Av(p),format:l.format,generatedBy:l.generatedBy,convertedBy:l.convertedBy,userDefinedMetadata:l.userDefinedMetadata})},x.onerror=function(y){return o("Failed to weights data from file of path '"+g+"'.")},x.readAsArrayBuffer(d[g])})})}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},s.onerror=function(u){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(t)})]})})},e.prototype.checkManifestAndWeightFiles=function(t,n){for(var r=[],a=n.map(function(u){return R0(u.name)}),i={},o=0,s=t;o<s.length;o++)s[o].paths.forEach(function(u){var l=R0(u);if(r.indexOf(l)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+l+"'");if(r.push(l),a.indexOf(l)===-1)throw new Error("Weight file with basename '"+l+"' is not provided.");i[u]=n[a.indexOf(l)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return i},e}();function F0(e,t,n,r){(function(i){O(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(e),function(i,o){O(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),O(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+o}),O(o>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+o})}(n=n??0,r=r??1);var a=0;return Promise.all(e.map(function(i){return i.then(function(o){var s=n+ ++a/e.length*(r-n);return t(s),o}),i}))}function u2(e,t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,c;return _e(this,function(f){switch(f.label){case 0:return t==null&&(t={}),n=t.fetchFunc==null?Q().platform.fetch:t.fetchFunc,r=e.map(function(d){return n(d,t.requestInit,{isBinary:!0})}),a=0,i=.5,t.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return o=f.sent(),[3,4];case 2:return[4,F0(r,t.onProgress,a,i)];case 3:o=f.sent(),f.label=4;case 4:return s=o.map(function(d){return d.arrayBuffer()}),u=.5,l=1,t.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return c=f.sent(),[3,8];case 6:return[4,F0(s,t.onProgress,u,l)];case 7:c=f.sent(),f.label=8;case 8:return[2,c]}})})}function M0(e){var t=this;return function(n,r,a){return r===void 0&&(r=""),we(t,void 0,void 0,function(){var i,o,s,u,l,c,f,d,h,m;return _e(this,function(p){switch(p.label){case 0:if(i=n.map(function(){return!1}),o={},s=a!=null?a.map(function(){return!1}):[],u=[],n.forEach(function(v,g){var x=0;v.weights.forEach(function(y){var b="quantization"in y?y.quantization.dtype:y.dtype,w=jp[b]*ke(y.shape),_=function(){i[g]=!0,o[g]==null&&(o[g]=[]),o[g].push({manifestEntry:y,groupOffset:x,sizeBytes:w})};a!=null?a.forEach(function(S,C){S===y.name&&(_(),s[C]=!0)}):_(),u.push(y.name),x+=w})}),!s.every(function(v){return v}))throw l=a.filter(function(v,g){return!s[g]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return c=i.reduce(function(v,g,x){return g&&v.push(x),v},[]),f=[],c.forEach(function(v){n[v].paths.forEach(function(g){var x=r+(r.endsWith("/")?"":"/")+g;f.push(x)})}),[4,e(f)];case 1:return d=p.sent(),h={},m=0,c.forEach(function(v){for(var g=n[v].paths.length,x=0,y=0;y<g;y++)x+=d[m+y].byteLength;for(var b=new ArrayBuffer(x),w=new Uint8Array(b),_=0,S=0;S<g;S++){var C=new Uint8Array(d[m+S]);w.set(C,_),_+=C.byteLength}o[v].forEach(function(k){var E=a2(b.slice(k.groupOffset,k.groupOffset+k.sizeBytes),[k.manifestEntry]);for(var T in E)h[T]=E[T]}),m+=g}),[2,h]}})})}}ur.registerSaveRouter(function(e){return Q().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Sh.URL_SCHEME)?function(t){return t===void 0&&(t="model"),new Sh(t)}(e.slice(Sh.URL_SCHEME.length)):null});var l2=function(){function e(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(O(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=Q().platform.fetch,O(t!=null&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&O(t.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return e.prototype.save=function(t){return we(this,void 0,void 0,function(){var n,r,a,i;return _e(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),t.weightData!=null&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:nl(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return we(this,void 0,void 0,function(){var t,n,r,a,i,o,s,u,l,c,f,d;return _e(this,function(h){switch(h.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=h.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");h.label=2;case 2:return h.trys.push([2,4,,5]),[4,t.json()];case 3:return n=h.sent(),[3,5];case 4:throw h.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,s=n.convertedBy,u=n.format,l=n.userDefinedMetadata,a==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:d=h.sent(),c=d[0],f=d[1],h.label=7;case 7:return[2,{modelTopology:a,weightSpecs:c,weightData:f,userDefinedMetadata:l,generatedBy:o,convertedBy:s,format:u}]}})})},e.prototype.loadWeights=function(t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,c,f,d;return _e(this,function(h){switch(h.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(m){var p=m.lastIndexOf("/"),v=m.lastIndexOf("?"),g=m.substring(0,p),x=v>p?m.substring(v):"";return[g+"/",x]}(n),a=r[0],i=r[1],o=this.weightPathPrefix||a,s=[],u=0,l=t;u<l.length;u++)c=l[u],s.push.apply(s,c.weights);return f=[],t.forEach(function(m){m.paths.forEach(function(p){f.push(o+p+i)})}),[4,u2(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=h.sent(),[2,[s,Av(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Gp(e){return e.match(l2.URL_SCHEME_REGEX)!=null}var L0=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(n){return Gp(n)}):Gp(e))?Kp(e,{onProgress:t}):null};function Kp(e,t){return new l2(e,t)}ur.registerSaveRouter(L0),ur.registerLoadRouter(L0);var Ah=function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return we(this,void 0,void 0,function(){return _e(this,function(t){return[2,this.modelArtifacts]})})},e}(),a5=function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return we(this,void 0,void 0,function(){return _e(this,function(n){return[2,this.saveHandler(t)]})})},e}(),c2=Object.freeze({browserFiles:function(e){return new r5(e)},browserHTTPRequest:function(e,t){return Kp(e,t)},concatenateArrayBuffers:Av,decodeWeights:a2,encodeWeights:function(e,t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return _e(this,function(u){switch(u.label){case 0:for(n=[],r=[],a=Array.isArray(e)?e.map(function(l){return l.name}):Object.keys(e),i=function(l){var c=a[l],f=Array.isArray(e)?e[l].tensor:e[c];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string")throw new Error("Unsupported dtype in weight '"+c+"': "+f.dtype);var d={name:c,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){var h=new Promise(function(m){return we(s,void 0,void 0,function(){var p,v,g,x,y,b,w;return _e(this,function(_){switch(_.label){case 0:return[4,f.bytes()];case 1:for(p=_.sent(),v=p.reduce(function(S,C){return S+C.length},0)+qc*p.length,g=new Uint8Array(v),x=0,y=0;y<p.length;y++)b=p[y],w=new Uint8Array(new Uint32Array([b.length]).buffer),g.set(w,x),x+=qc,g.set(b,x),x+=b.length;return m(g),[2]}})})});r.push(h)}else r.push(f.data());t!=null&&(d.group=t),n.push(d)},o=0;o<a.length;++o)i(o);return[4,Promise.all(r)];case 1:return[2,{data:KU(u.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new Ah(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ah({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ah({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return ur.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:nl,getSaveHandlers:function(e){return ur.getSaveHandlers(e)},http:Kp,isHTTPScheme:Gp,loadWeights:function(e,t,n,r){return t===void 0&&(t=""),we(this,void 0,void 0,function(){return _e(this,function(a){return[2,M0(function(i){return u2(i,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return ur.registerLoadRouter(e)},registerSaveRouter:function(e){return ur.registerSaveRouter(e)},weightsLoaderFactory:M0,withSaveHandler:function(e){return new a5(e)},copyModel:function(e,t){return we(this,void 0,void 0,function(){return _e(this,function(n){return[2,N0(e,t,!1)]})})},listModels:function(){return we(this,void 0,void 0,function(){var e,t,n,r,a,i,o;return _e(this,function(s){switch(s.label){case 0:e=ui.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,ui.getManager(a).listModels()]):[3,4];case 2:for(o in i=s.sent())t[a+zo+o]=i[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return we(this,void 0,void 0,function(){return _e(this,function(n){return[2,N0(e,t,!0)]})})},removeModel:function(e){return we(this,void 0,void 0,function(){var t;return _e(this,function(n){return t=Ql(e),[2,ui.getManager(t.scheme).removeModel(t.path)]})})}}),Co;B({confusionMatrix_:function(e,t,n){var r=R(e,"labels","confusionMatrix"),a=R(t,"predictions","confusionMatrix");O(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),O(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),O(a.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),O(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),O(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=Lp(r.asType("int32"),n),o=Lp(a.asType("int32"),n);return i.transpose().matMul(o).asType("int32")}});var i5=B({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(Pk("FromPixels",U.backendName)!=null)return U.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],f=l[1];if(o?s=e.getContext("2d").getImageData(0,0,c,f).data:r||n?s=e.data:(i||a)&&(Co==null&&(Co=document.createElement("canvas").getContext("2d")),Co.canvas.width=c,Co.canvas.height=f,Co.drawImage(e,0,0,c,f),s=Co.getImageData(0,0,c,f).data),t===4)u=new Int32Array(s);else{var d=c*f;u=new Int32Array(d*t);for(var h=0;h<d;h++)for(var m=0;m<t;++m)u[h*t+m]=s[4*h+m]}return nv(u,[f,c,t],"int32")}}),Tv=Object.freeze({toPixels:function(e,t){return we(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,c,f,d,h,m,p,v,g,x,y,b,w,_,S,C;return _e(this,function(k){switch(k.label){case 0:if(n=R(e,"img","toPixels"),e instanceof wt||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],i=r[1],(o=n.rank===2?1:n.shape[2])>4||o===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=k.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(c=k.sent(),f=c[0],d=c[1],h=f[0],m=d[0],u.dispose(),l.dispose(),n.dtype==="float32"){if(h<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+m+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+m+"].")}for(p=n.dtype==="float32"?255:1,v=new Uint8ClampedArray(i*a*4),g=0;g<a*i;++g)x=void 0,y=void 0,b=void 0,w=void 0,o===1?(x=s[g]*p,y=s[g]*p,b=s[g]*p,w=255):o===3?(x=s[3*g]*p,y=s[3*g+1]*p,b=s[3*g+2]*p,w=255):o===4&&(x=s[4*g]*p,y=s[4*g+1]*p,b=s[4*g+2]*p,w=s[4*g+3]*p),v[(_=4*g)+0]=Math.round(x),v[_+1]=Math.round(y),v[_+2]=Math.round(b),v[_+3]=Math.round(w);return t!=null&&(t.width=i,t.height=a,S=t.getContext("2d"),C=new ImageData(v,i,a),S.putImageData(C,0,0)),n!==e&&n.dispose(),[2,v]}})})},fromPixels:i5}),o5=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,n){return new t(n)},e}(),s5=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function vo(e){O(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),O(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),O(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),s5.register(e)}var go=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ur(t,e),t.prototype.minimize=function(n,r,a){r===void 0&&(r=!1);var i=this.computeGradients(n,a),o=i.value,s=i.grads;if(a!=null){var u=a.map(function(l){return{name:l.name,tensor:s[l.name]}});this.applyGradients(u)}else this.applyGradients(s);return qn(s),r?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(n,r){return gL(n,r)},t.prototype.dispose=function(){this.iterations_!=null&&qn(this.iterations_)},t.prototype.saveIterations=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:pe(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(n){return we(this,void 0,void 0,function(){var r;return _e(this,function(a){switch(a.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,n.slice(1)]}})})},t}(o5);Object.defineProperty(go,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var u5=function(e){function t(n,r,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=n,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],a==null&&(i.epsilon=U.backend.epsilon()),i}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=U.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accum_grad",variable:ye(function(){return tt(o).variable(!1)})}),r.accumulatedUpdates[i]==null&&(r.accumulatedUpdates[i]={originalName:a+"/accum_var",variable:ye(function(){return tt(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[i].variable,l=r.accumulatedUpdates[i].variable;ye(function(){var c=u.mul(r.rho).add(s.square().mul(1-r.rho)),f=l.add(r.epsilon).sqrt().div(u.add(r.epsilon).sqrt()).mul(s),d=l.mul(r.rho).add(f.square().mul(1-r.rho));u.assign(c),l.assign(d);var h=f.mul(-r.learningRate).add(o);o.assign(h)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(qn(this.accumulatedGrads.map(function(n){return n.variable})),qn(this.accumulatedUpdates.map(function(n){return n.variable})))},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var n;return _e(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){var r;return _e(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},t.className="Adadelta",t}(go);vo(u5);var l5=function(e){function t(n,r){r===void 0&&(r=.1);var a=e.call(this)||this;return a.learningRate=n,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=U.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accumulator",variable:ye(function(){return na(o.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[i].variable;ye(function(){var l=u.add(s.square());u.assign(l);var c=s.div(l.add(U.backend.epsilon()).sqrt()).mul(-r.learningRate).add(o);o.assign(c)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&qn(this.accumulatedGrads.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},t.className="Adagrad",t}(go);vo(l5);var c5=function(e){function t(n,r,a,i){i===void 0&&(i=null);var o=e.call(this)||this;return o.learningRate=n,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],ye(function(){o.accBeta1=pe(r).variable(),o.accBeta2=pe(a).variable()}),i==null&&(o.epsilon=U.backend.epsilon()),o}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);ye(function(){var i=$t(1,r.accBeta1),o=$t(1,r.accBeta2);a.forEach(function(s,u){var l=U.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:ye(function(){return tt(l).variable(!1)})}),r.accumulatedSecondMoment[u]==null&&(r.accumulatedSecondMoment[u]={originalName:s+"/v",variable:ye(function(){return tt(l).variable(!1)})});var c=Array.isArray(n)?n[u].tensor:n[s];if(c!=null){var f=r.accumulatedFirstMoment[u].variable,d=r.accumulatedSecondMoment[u].variable,h=f.mul(r.beta1).add(c.mul(1-r.beta1)),m=d.mul(r.beta2).add(c.square().mul(1-r.beta2)),p=h.div(i),v=m.div(o);f.assign(h),d.assign(m);var g=p.div(v.sqrt().add(r.epsilon)).mul(-r.learningRate).add(l);l.assign(g)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&qn(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&qn(this.accumulatedSecondMoment.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var n;return _e(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){var r,a=this;return _e(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(n)];case 1:return n=i.sent(),ye(function(){a.accBeta1.assign(Gc(a.beta1,a.iterations_+1)),a.accBeta2.assign(Gc(a.beta2,a.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},t.className="Adam",t}(go);vo(c5);var f5=function(e){function t(n,r,a,i,o){i===void 0&&(i=null),o===void 0&&(o=0);var s=e.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=a,s.epsilon=i,s.decay=o,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],ye(function(){s.iteration=pe(0).variable(),s.accBeta1=pe(r).variable()}),i==null&&(s.epsilon=U.backend.epsilon()),s}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);ye(function(){var i=$t(1,r.accBeta1),o=Ir(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(s,u){var l=U.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:tt(l).variable(!1)}),r.accumulatedWeightedInfNorm[u]==null&&(r.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:tt(l).variable(!1)});var c=Array.isArray(n)?n[u].tensor:n[s];if(c!=null){var f=r.accumulatedFirstMoment[u].variable,d=r.accumulatedWeightedInfNorm[u].variable,h=f.mul(r.beta1).add(c.mul(1-r.beta1)),m=d.mul(r.beta2),p=c.abs(),v=m.maximum(p);f.assign(h),d.assign(v);var g=o.div(i).mul(h.div(v.add(r.epsilon))).add(l);l.assign(g)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&qn(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&qn(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},t.className="Adamax",t}(go);vo(f5);var f2=function(e){function t(n){var r=e.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Array.isArray(n)?n[i].tensor:n[a];if(o!=null){var s=U.registeredVariables[a];ye(function(){var u=r.c.mul(o).add(s);s.assign(u)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=N4(pe(-n))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(n,r){return new n(r.learningRate)},t.className="SGD",t}(go);vo(f2);var d5=function(e){function t(n,r,a){a===void 0&&(a=!1);var i=e.call(this,n)||this;return i.learningRate=n,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=pe(i.momentum),i}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=U.registeredVariables[a];r.accumulations[i]==null&&(r.accumulations[i]={originalName:a+"/momentum",variable:ye(function(){return tt(o).variable(!1)})});var s=r.accumulations[i].variable,u=Array.isArray(n)?n[i].tensor:n[a];u!=null&&ye(function(){var l,c=r.m.mul(s).add(u);l=r.useNesterov?r.c.mul(u.add(c.mul(r.m))).add(o):r.c.mul(c).add(o),s.assign(c),o.assign(l)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&qn(this.accumulations.map(function(n){return n.variable}))},t.prototype.setMomentum=function(n){this.momentum=n},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){return _e(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){return _e(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},t.className="Momentum",t}(f2);vo(d5);var h5=function(e){function t(n,r,a,i,o){r===void 0&&(r=.9),a===void 0&&(a=0),i===void 0&&(i=null),o===void 0&&(o=!1);var s=e.call(this)||this;if(s.learningRate=n,s.decay=r,s.momentum=a,s.epsilon=i,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=o,i==null&&(s.epsilon=U.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return Ur(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=U.registeredVariables[a];r.accumulatedMeanSquares[i]==null&&(r.accumulatedMeanSquares[i]={originalName:a+"/rms",variable:ye(function(){return tt(o).variable(!1)})}),r.accumulatedMoments[i]==null&&(r.accumulatedMoments[i]={originalName:a+"/momentum",variable:ye(function(){return tt(o).variable(!1)})}),r.accumulatedMeanGrads[i]==null&&r.centered&&(r.accumulatedMeanGrads[i]={originalName:a+"/mg",variable:ye(function(){return tt(o).variable(!1)})});var s=Array.isArray(n)?n[i].tensor:n[a];if(s!=null){var u=r.accumulatedMeanSquares[i].variable,l=r.accumulatedMoments[i].variable;ye(function(){var c=u.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var f=r.accumulatedMeanGrads[i].variable,d=f.mul(r.decay).add(s.mul(1-r.decay)),h=l.mul(r.momentum).add(s.mul(r.learningRate).div(c.sub(d.square().add(r.epsilon)).sqrt()));u.assign(c),f.assign(d),l.assign(h);var m=o.sub(h);o.assign(m)}else{var p=u.mul(r.decay).add(s.square().mul(1-r.decay));h=l.mul(r.momentum).add(s.mul(r.learningRate).div(p.add(r.epsilon).sqrt())),u.assign(p),l.assign(h),m=o.sub(h),o.assign(m)}})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&qn(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&qn(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&qn(this.accumulatedMoments.map(function(n){return n.variable}))},t.prototype.getWeights=function(){return we(this,void 0,void 0,function(){var n;return _e(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},t.prototype.setWeights=function(n){return we(this,void 0,void 0,function(){var r;return _e(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},t.className="RMSProp",t}(go);vo(h5);wt.prototype.squaredDifference=function(e){return SE(this,e)},$=VU;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qp=function(e,t){return qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},qp(e,t)};function Be(e,t){qp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var bn=function(){return bn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bn.apply(this,arguments)};function Ce(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?i(c.value):a(c.value).then(s,u)}l((r=r.apply(e,[])).next())})}function Se(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,a=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],a=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Qs(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}var qo=function(){function e(t,n){if(!$i(t)||!$i(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:n}));this._width=t,this._height=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function ad(e,t){return e instanceof wt&&e.shape.length===t}function p5(e){return ad(e,2)}function id(e){return ad(e,3)}function li(e){return ad(e,4)}function m5(e){return e%1!==0}function B0(e){return e%2===0}function v5(e,t){t===void 0&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function V0(e){return e&&e.width&&e.height}function g5(e,t){var n=e.width,r=e.height,a=t/Math.max(r,n);return new qo(Math.round(n*a),Math.round(r*a))}function Iv(e){return e.reduce(function(t,n){return t.add(n)},new ot(0,0)).div(new ot(e.length,e.length))}function Eu(e,t,n){return Array(e).fill(0).map(function(r,a){return t+a*n})}function $i(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function U0(e){return $i(e)&&0<=e&&e<=1}var ot=function(){function e(t,n){this._x=t,this._y=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),mi=function(){function e(t,n){n===void 0&&(n=!0);var r=t||{},a=[r.left,r.top,r.right,r.bottom].every($i),i=[r.x,r.y,r.width,r.height].every($i);if(!i&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],u=o[1],l=o[2],c=o[3];e.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",n),this._x=s,this._y=u,this._width=l,this._height=c}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every($i)},e.assertIsValidBox=function(t,n,r){if(r===void 0&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new ot(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new ot(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new ot(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new ot(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.round(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.floor(o)}),n=t[0],r=t[1],a=t[2],i=t[3];return new e({x:n,y:r,width:a,height:i})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,a=t.width,i=t.height,o=Math.abs(a-i);return a<i&&(n-=o/2,a+=o),i<a&&(r-=o/2,i+=o),new e({x:n,y:r,width:a,height:i})},e.prototype.rescale=function(t){var n=V0(t)?t.width:t,r=V0(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n],a=r[0],i=r[1],o=r[2],s=r[3];return new e({x:a,y:i,width:o,height:s})},e.prototype.clipAtImageBorders=function(t,n){var r=this,a=r.x,i=r.y,o=r.right,s=r.bottom,u=Math.max(a,0),l=Math.max(i,0),c=o-u,f=s-l,d=Math.min(c,t-u),h=Math.min(f,n-l);return new e({x:u,y:l,width:d,height:h}).floor()},e.prototype.shift=function(t,n){var r=this,a=r.width,i=r.height,o=this.x+t,s=this.y+n;return new e({x:o,y:s,width:a,height:i})},e.prototype.padAtBorders=function(t,n){var r=this.width+1,a=this.height+1,i=1,o=1,s=r,u=a,l=this.left,c=this.top,f=this.right,d=this.bottom;return f>n&&(s=-f+n+r,f=n),d>t&&(u=-d+t+a,d=t),l<1&&(u=2-l,l=1),c<1&&(u=2-c,c=1),{dy:o,edy:u,dx:i,edx:s,y:c,ey:d,x:l,ex:f,w:r,h:a}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),od=function(e){Be(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{left:n,top:r,right:a,bottom:i},o)||this}return t}(mi),d2=function(){function e(t,n,r,a,i){this._imageDims=new qo(i.width,i.height),this._score=t,this._classScore=n,this._className=r,this._box=new mi(a).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new mi(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),da=function(e){Be(t,e);function t(n,r,a){return e.call(this,n,n,"",r,a)||this}return t.prototype.forSize=function(n,r){var a=e.prototype.forSize.call(this,n,r),i=a.score,o=a.relativeBox,s=a.imageDims;return new t(i,o,s)},t}(d2);function y5(e,t,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=r*a;return n?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function b5(e){var t=e.map(function(s){return s.x}),n=e.map(function(s){return s.y}),r=t.reduce(function(s,u){return u<s?u:s},1/0),a=n.reduce(function(s,u){return u<s?u:s},1/0),i=t.reduce(function(s,u){return s<u?u:s},0),o=n.reduce(function(s,u){return s<u?u:s},0);return new od(r,a,i,o)}function Cu(e,t,n,r){r===void 0&&(r=!0);for(var a=t.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),i=[],o=function(){var s=a.pop();i.push(s);for(var u=a,l=[],c=0;c<u.length;c++){var f=u[c],d=e[s],h=e[f];l.push(y5(d,h,r))}a=a.filter(function(m,p){return l[p]<=n})};a.length>0;)o();return i}function rl(e,t){return ye(function(){var n=t[0],r=t[1],a=t[2],i=na(Qs(e.shape.slice(0,3),[1]),n),o=na(Qs(e.shape.slice(0,3),[1]),r),s=na(Qs(e.shape.slice(0,3),[1]),a),u=Gt([i,o,s],3);return $t(e,u)})}function x5(e,t){return t===void 0&&(t=!1),ye(function(){var n=e.shape.slice(1),r=n[0],a=n[1];if(r===a)return e;var i=Math.abs(r-a),o=Math.round(i*(t?.5:1)),s=r>a?2:1,u=function(h){var m=e.shape.slice();return m[s]=h,na(m,0)},l=u(o),c=i-l.shape[s],f=t&&c?u(c):null,d=[f,e,l].filter(function(h){return!!h}).map(function(h){return h.toFloat()});return Gt(d,s)})}function Th(e){return 1/(1+Math.exp(-e))}var Rv=function(e){Be(t,e);function t(n,r,a,i,o){return o===void 0&&(o=!1),e.call(this,{x:n,y:r,width:a,height:i},o)||this}return t}(mi),w5=.5,_5=.43,k5=.45,$c=function(){function e(t,n,r){r===void 0&&(r=new ot(0,0));var a=n.width,i=n.height;this._imgDims=new qo(a,i),this._shift=r,this._positions=t.map(function(o){return o.mul(new ot(a,i)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new ot(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(n){return n.sub(t._shift).div(new ot(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new this.constructor(this.relativePositions,{width:t,height:n})},e.prototype.shiftBy=function(t,n){return new this.constructor(this.relativePositions,this._imgDims,new ot(t,n))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,n){if(n===void 0&&(n={}),t){var r=t instanceof da?t.box.floor():new mi(t);return this.shiftBy(r.x,r.y).align(null,n)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),i=a.useDlibAlignment,o=a.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(o)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),n=t[0],r=t[1],a=t[2],i=function(f){return a.sub(f).magnitude()},o=(i(n)+i(r))/2,s=Math.floor(o/k5),u=Iv(t),l=Math.floor(Math.max(0,u.x-w5*s)),c=Math.floor(Math.max(0,u.y-_5*s));return new Rv(l,c,Math.min(s,this.imageWidth+l),Math.min(s,this.imageHeight+c))},e.prototype.alignMinBbox=function(t){var n=b5(this.positions);return n.pad(n.width*t,n.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),E5=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],Iv([n[3],n[4]])]},t}($c),C5=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Iv)},t}($c),W0=function(){function e(t,n){this._label=t,this._distance=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+v5(this.distance)+")":"")},e}(),j0=function(e){Be(t,e);function t(n,r){var a=e.call(this,n)||this;return a._label=r,a}return t.assertIsValidLabeledBox=function(n,r){if(mi.assertIsValidBox(n,r),!$i(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(mi),Dl=function(){function e(t,n){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(r){return new Float32Array(r)});return new e(t.label,n)},e}();(function(e){Be(t,e);function t(n,r,a,i){var o=e.call(this,n,r)||this;return o._score=a,o._classScore=i,o}return t.assertIsValidPredictedBox=function(n,r){if(j0.assertIsValidLabeledBox(n,r),!U0(n.score)||!U0(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(j0);function S5(e){return e.detection instanceof da}function Nv(e,t){var n={detection:t};return Object.assign({},e,n)}function h2(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function p2(e){var t="";if(!e)try{e=require("fs")}catch(r){t=r.toString()}var n=e?function(r){return new Promise(function(a,i){e.readFile(r,function(o,s){return o?i(o):a(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:n}}function m2(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=p2();return bn({Canvas:e||function(){function o(){}return o}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function o(){}return o}(),Image:t||function(){function o(){}return o}(),ImageData:global.ImageData||function(){function o(){}return o}(),Video:global.HTMLVideoElement||function(){function o(){}return o}(),createCanvasElement:n,createImageElement:r,fetch:a},i)}function v2(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function g2(){return typeof global=="object"&&typeof require=="function"&&typeof ZC<"u"&&typeof process<"u"&&!!process.version}var Ut;function A5(){if(!Ut)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Ut}function $p(e){Ut=e}function Ov(){v2()&&$p(h2()),g2()&&$p(m2())}function T5(e){if(Ut||Ov(),!Ut)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=t===void 0?Ut.Canvas:t,r=e.Image,a=r===void 0?Ut.Image:r;Ut.Canvas=n,Ut.Image=a,Ut.createCanvasElement=e.createCanvasElement||function(){return new n},Ut.createImageElement=e.createImageElement||function(){return new a},Ut.ImageData=e.ImageData||Ut.ImageData,Ut.Video=e.Video||Ut.Video,Ut.fetch=e.fetch||Ut.fetch,Ut.readFile=e.readFile||Ut.readFile}var An={getEnv:A5,setEnv:$p,initialize:Ov,createBrowserEnv:h2,createFileSystem:p2,createNodejsEnv:m2,monkeyPatch:T5,isBrowser:v2,isNodejs:g2};Ov();function y2(e){return!An.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function to(e){var t=An.getEnv(),n=t.Canvas,r=t.CanvasRenderingContext2D;if(e instanceof r)return e;var a=y2(e);if(!(a instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=a.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var H0;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(H0||(H0={}));function b2(e){var t=An.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function I5(e){return new Promise(function(t,n){if(e instanceof An.getEnv().Canvas||b2(e))return t();function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),t(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),n(i))}e.addEventListener("load",r),e.addEventListener("error",a)})}function x2(e){var t=An.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new qo(e.naturalWidth,e.naturalHeight):e instanceof r?new qo(e.videoWidth,e.videoHeight):new qo(e.width,e.height)}function sd(e){var t=e.width,n=e.height,r=An.getEnv().createCanvasElement,a=r();return a.width=t,a.height=n,a}function Dv(e,t){var n=An.getEnv().ImageData;if(!(e instanceof n)&&!b2(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=x2(e),a=r.width,i=r.height,o=sd({width:a,height:i});return e instanceof n?to(o).putImageData(e,0,0):to(o).drawImage(e,0,0,a,i),o}function R5(e,t){return Ce(this,void 0,void 0,function(){var n,r,a,i,o,s;return Se(this,function(u){switch(u.label){case 0:return n=An.getEnv().createCanvasElement(),r=e.shape.slice(li(e)?1:0),a=r[0],i=r[1],o=r[2],s=ye(function(){return e.as3D(a,i,o).toInt()}),[4,Tv.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}})})}function z0(e){var t=An.getEnv(),n=t.Image,r=t.Canvas,a=t.Video;return e instanceof n||e instanceof r||e instanceof a}function N5(e,t,n){n===void 0&&(n=!1);var r=An.getEnv(),a=r.Image,i=r.Canvas;if(!(e instanceof a||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=x2(e),s=t/Math.max(o.height,o.width),u=s*o.width,l=s*o.height,c=sd({width:t,height:t}),f=e instanceof i?e:Dv(e),d=Math.abs(u-l)/2,h=n&&u<l?d:0,m=n&&l<u?d:0;return to(c).drawImage(f,h,m,u,l),c}var Xc=function(){function e(t,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=n,this._batchSize=t.length,t.forEach(function(a,i){if(id(a)){r._imageTensors[i]=a,r._inputDimensions[i]=a.shape;return}if(li(a)){var o=a.shape[0];if(o!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+o+" passed, but not supported in input array");r._imageTensors[i]=a,r._inputDimensions[i]=a.shape.slice(1);return}var s=a instanceof An.getEnv().Canvas?a:Dv(a);r._canvases[i]=s,r._inputDimensions[i]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return Eu(this.batchSize,0,1).map(function(n,r){return t.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(t),r=this.getInputHeight(t);return g5({width:n,height:r},this.inputSize)},e.prototype.toBatchTensor=function(t,n){var r=this;return n===void 0&&(n=!0),this._inputSize=t,ye(function(){var a=Eu(r.batchSize,0,1).map(function(o){var s=r.getInput(o);if(s instanceof wt){var u=li(s)?s:s.expandDims();return u=x5(u,n),(u.shape[1]!==t||u.shape[2]!==t)&&(u=_v.resizeBilinear(u,[t,t])),u.as3D(t,t,3)}if(s instanceof An.getEnv().Canvas)return Tv.fromPixels(N5(s,t,n));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),i=hr(a.map(function(o){return o.toFloat()})).as4D(r.batchSize,t,t,3);return i})},e}();function an(e){return Ce(this,void 0,void 0,function(){var t,n,r;return Se(this,function(a){switch(a.label){case 0:if(e instanceof Xc)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return n=function(i){return Array.isArray(e)?" at input index "+i+":":""},r=t.map(y2),r.forEach(function(i,o){if(!z0(i)&&!id(i)&&!li(i))throw typeof t[o]=="string"?new Error("toNetInput -"+n(o)+" string passed, but could not resolve HTMLElement for element id "+t[o]):new Error("toNetInput -"+n(o)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(li(i)){var s=i.shape[0];if(s!==1)throw new Error("toNetInput -"+n(o)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(i){return z0(i)&&I5(i)}))];case 1:return a.sent(),[2,new Xc(r,Array.isArray(e))]}})})}function Pv(e,t){return Ce(this,void 0,void 0,function(){var n,r,a,i,o,s,u;return Se(this,function(l){switch(l.label){case 0:return n=An.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,an(e)];case 1:if(a=l.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=a.getInput(0),i instanceof n?(o=i,[3,4]):[3,2];case 2:return[4,R5(i)];case 3:o=l.sent(),l.label=4;case 4:r=o,l.label=5;case 5:return s=to(r),u=t.map(function(c){return c instanceof da?c.forSize(r.width,r.height).box.floor():c}).map(function(c){return c.clipAtImageBorders(r.width,r.height)}),[2,u.map(function(c){var f=c.x,d=c.y,h=c.width,m=c.height,p=sd({width:h,height:m});return to(p).putImageData(s.getImageData(f,d,h,m),0,0),p})]}})})}function Fv(e,t){return Ce(this,void 0,void 0,function(){return Se(this,function(n){if(!id(e)&&!li(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(li(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,ye(function(){var r=e.shape.slice(li(e)?1:0),a=r[0],i=r[1],o=r[2],s=t.map(function(l){return l instanceof da?l.forSize(i,a).box:l}).map(function(l){return l.clipAtImageBorders(i,a)}),u=s.map(function(l){var c=l.x,f=l.y,d=l.width,h=l.height;return qE(e.as3D(a,i,o),[f,c,0],[h,d,o])});return u})]})})}function O5(e,t){return Ce(this,void 0,void 0,function(){var n,r;return Se(this,function(a){switch(a.label){case 0:return n=An.getEnv().fetch,[4,n(e,t)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function D5(e){return Ce(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,O5(e)];case 1:return[2,t.sent().json()]}})})}function w2(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var a=e.split("/").filter(function(s){return s}),i=e.endsWith(".json")?a[a.length-1]:n,o=r+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return o=e.startsWith("/")?"/"+o:o,{modelBaseUri:o,manifestUri:o==="/"?"/"+i:o+"/"+i}}function P5(e,t){return Ce(this,void 0,void 0,function(){var n,r,a,i;return Se(this,function(o){switch(o.label){case 0:return n=w2(e,t),r=n.manifestUri,a=n.modelBaseUri,[4,D5(r)];case 1:return i=o.sent(),[2,c2.loadWeights(i,a)]}})})}var Ua=function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var n=this.traversePropertyPath(t),r=n.obj,a=n.objProp;return r[a]},e.prototype.reassignParamFromPath=function(t,n){var r=this.traversePropertyPath(t),a=r.obj,i=r.objProp;a[i].dispose(),a[i]=n},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:t.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof os})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof os)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(n){var r=n.path,a=n.tensor;t.reassignParamFromPath(r,a.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(n){var r=n.path,a=n.tensor,i=dn(a.dataSync());a.dispose(),t.reassignParamFromPath(r,i)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(n){if(t&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var n=t.tensor;return Array.from(n.dataSync())}).reduce(function(t,n){return t.concat(n)}))},e.prototype.load=function(t){return Ce(this,void 0,void 0,function(){return Se(this,function(n){switch(n.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return n.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return Ce(this,void 0,void 0,function(){var n;return Se(this,function(r){switch(r.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,P5(t,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},e.prototype.loadFromDisk=function(t){return Ce(this,void 0,void 0,function(){var n,r,a,i,o,s,u,l,c,f;return Se(this,function(d){switch(d.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=An.getEnv().readFile,r=w2(t,this.getDefaultModelName()),a=r.manifestUri,i=r.modelBaseUri,o=function(h){return Promise.all(h.map(function(m){return n(m).then(function(p){return p.buffer})}))},s=c2.weightsLoaderFactory(o),c=(l=JSON).parse,[4,n(a)];case 1:return u=c.apply(l,[d.sent().toString()]),[4,s(u,i)];case 2:return f=d.sent(),this.loadFromWeightMap(f),[2]}})})},e.prototype.loadFromWeightMap=function(t){var n=this.extractParamsFromWeigthMap(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.extractWeights=function(t){var n=this.extractParams(t),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=t.split("/").reduce(function(i,o){if(!i.nextObj.hasOwnProperty(o))throw new Error("traversePropertyPath - object does not have property "+o+", for path "+t);return{obj:i.nextObj,objProp:o,nextObj:i.nextObj[o]}},{nextObj:this.params}),r=n.obj,a=n.objProp;if(!r||!a||!(r[a]instanceof wt))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:r,objProp:a}},e}();function lr(e,t,n){return ye(function(){var r=gv(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=qe(r,t.bias),r})}function Ih(e,t,n){return n===void 0&&(n=!1),ye(function(){var r=kt(n?qe(Sr(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):lr(e,t.conv0,[2,2])),a=lr(r,t.conv1,[1,1]),i=kt(qe(r,a)),o=lr(i,t.conv2,[1,1]);return kt(qe(r,qe(a,o)))})}function Pl(e,t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),ye(function(){var a=kt(n?qe(Sr(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):lr(e,t.conv0,r?[2,2]:[1,1])),i=lr(a,t.conv1,[1,1]),o=kt(qe(a,i)),s=lr(o,t.conv2,[1,1]),u=kt(qe(a,qe(i,s))),l=lr(u,t.conv3,[1,1]);return kt(qe(a,qe(i,qe(s,l))))})}function Mr(e,t,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),ye(function(){var a=qe(Sr(e,t.filters,[1,1],n),t.bias);return r?kt(a):a})}function Wa(e,t){Object.keys(e).forEach(function(n){t.some(function(r){return r.originalPath===n})||e[n].dispose()})}function ud(e,t){return function(n,r,a,i){var o=Un(e(n*r*a*a),[a,a,n,r]),s=Lt(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:o,bias:s}}}function Mv(e,t){return function(n,r,a){var i=si(e(n*r),[n,r]),o=Lt(e(r));return t.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:i,bias:o}}}var _2=function(){function e(t,n,r){this.depthwise_filter=t,this.pointwise_filter=n,this.bias=r}return e}();function Lv(e,t){return function(n,r,a){var i=Un(e(9*n),[3,3,n,1]),o=Un(e(n*r),[1,1,n,r]),s=Lt(e(r));return t.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new _2(i,o,s)}}function Bv(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),a=e(t+"/bias",1);return new _2(n,r,a)}}function Ci(e,t){return function(n,r,a){var i=e[n];if(!ad(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:a||n}),i}}function ja(e){var t=e;function n(a){var i=t.slice(0,a);return t=t.slice(a),i}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function k2(e,t){var n=ud(e,t),r=Lv(e,t);function a(o,s,u,l){l===void 0&&(l=!1);var c=l?n(o,s,3,u+"/conv0"):r(o,s,u+"/conv0"),f=r(s,s,u+"/conv1"),d=r(s,s,u+"/conv2");return{conv0:c,conv1:f,conv2:d}}function i(o,s,u,l){l===void 0&&(l=!1);var c=a(o,s,u,l),f=c.conv0,d=c.conv1,h=c.conv2,m=r(s,s,u+"/conv3");return{conv0:f,conv1:d,conv2:h,conv3:m}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function F5(e){var t=[],n=ja(e),r=n.extractWeights,a=n.getRemainingWeights,i=k2(r,t).extractDenseBlock4Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),l=i(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u,dense3:l}}}function E2(e){return function(t){var n=e(t+"/filters",4),r=e(t+"/bias",1);return{filters:n,bias:r}}}function C2(e,t){var n=Ci(e,t),r=E2(n),a=Bv(n);function i(s,u){u===void 0&&(u=!1);var l=u?r(s+"/conv0"):a(s+"/conv0"),c=a(s+"/conv1"),f=a(s+"/conv2");return{conv0:l,conv1:c,conv2:f}}function o(s,u){u===void 0&&(u=!1);var l=u?r(s+"/conv0"):a(s+"/conv0"),c=a(s+"/conv1"),f=a(s+"/conv2"),d=a(s+"/conv3");return{conv0:l,conv1:c,conv2:f,conv3:d}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function M5(e){var t=[],n=C2(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Wa(e,t),{params:r,paramMappings:t}}var S2=function(e){Be(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return ye(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=rl(a,i).div(pe(255)),s=Pl(o,r.dense0,!0);return s=Pl(s,r.dense1),s=Pl(s,r.dense2),s=Pl(s,r.dense3),s=tl(s,[7,7],[2,2],"valid"),s})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(n){return M5(n)},t.prototype.extractParams=function(n){return F5(n)},t}(Ua);function Zr(e,t){return ye(function(){return qe(td(e,t.weights),t.bias)})}function L5(e,t,n){var r=[],a=ja(e),i=a.extractWeights,o=a.getRemainingWeights,s=Mv(i,r),u=s(t,n,"fc");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:u}}}function B5(e){var t=[],n=Ci(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:r("fc")};return Wa(e,t),{params:a,paramMappings:t}}function A2(e){var t={},n={};return Object.keys(e).forEach(function(r){var a=r.startsWith("fc")?n:t;a[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var T2=function(e){Be(t,e);function t(n,r){var a=e.call(this,n)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return ye(function(){var i=n instanceof Xc?r.faceFeatureExtractor.forwardInput(n):n;return Zr(i.as2D(i.shape[0],-1),a.fc)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return L5(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(n){var r=A2(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),B5(i)},t.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),i=a*r+a,o=n.slice(0,n.length-i),s=n.slice(n.length-i);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(s)},t}(Ua),G0=["neutral","happy","sad","angry","fearful","disgusted","surprised"],V5=function(){function e(t){var n=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);G0.forEach(function(r,a){n[r]=t[a]})}return e.prototype.asSortedArray=function(){var t=this;return G0.map(function(n){return{expression:n,probability:t[n]}}).sort(function(n,r){return r.probability-n.probability})},e}(),U5=function(e){Be(t,e);function t(n){return n===void 0&&(n=new S2),e.call(this,"FaceExpressionNet",n)||this}return t.prototype.forwardInput=function(n){var r=this;return ye(function(){return Ba(r.runNet(n))})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictExpressions=function(n){return Ce(this,void 0,void 0,function(){var r,a,i,o,s=this;return Se(this,function(u){switch(u.label){case 0:return[4,an(n)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return a=u.sent(),[4,Promise.all(Kt(a).map(function(l){return Ce(s,void 0,void 0,function(){var c;return Se(this,function(f){switch(f.label){case 0:return[4,l.data()];case 1:return c=f.sent(),l.dispose(),[2,c]}})})}))];case 3:return i=u.sent(),a.dispose(),o=i.map(function(l){return new V5(l)}),[2,r.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(T2);function I2(e,t){var n={expressions:t};return Object.assign({},e,n)}function W5(e){return S5(e)&&e.landmarks instanceof $c&&e.unshiftedLandmarks instanceof $c&&e.alignedRect instanceof da}function Vv(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),a=r.align(),i=e.detection.imageDims,o=new da(e.detection.score,a.rescale(i.reverse()),i),s={landmarks:r,unshiftedLandmarks:t,alignedRect:o};return Object.assign({},e,s)}function j5(e,t){var n=ud(e,t),r=Lv(e,t);function a(o,s,u){var l=r(o,s,u+"/separable_conv0"),c=r(s,s,u+"/separable_conv1"),f=n(o,s,1,u+"/expansion_conv");return{separable_conv0:l,separable_conv1:c,expansion_conv:f}}function i(o,s){var u=r(o,o,s+"/separable_conv0"),l=r(o,o,s+"/separable_conv1"),c=r(o,o,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:i}}function H5(e,t){var n=[],r=ja(e),a=r.extractWeights,i=r.getRemainingWeights,o=j5(a,n),s=o.extractConvParams,u=o.extractSeparableConvParams,l=o.extractReductionBlockParams,c=o.extractMainBlockParams,f=s(3,32,3,"entry_flow/conv_in"),d=l(32,64,"entry_flow/reduction_block_0"),h=l(64,128,"entry_flow/reduction_block_1"),m={conv_in:f,reduction_block_0:d,reduction_block_1:h},p={};Eu(t,0,1).forEach(function(y){p["main_block_"+y]=c(128,"middle_flow/main_block_"+y)});var v=l(128,256,"exit_flow/reduction_block"),g=u(256,512,"exit_flow/separable_conv"),x={reduction_block:v,separable_conv:g};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:m,middle_flow:p,exit_flow:x}}}function z5(e,t){var n=Ci(e,t),r=E2(n),a=Bv(n);function i(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),c=r(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:l,expansion_conv:c}}function o(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),c=a(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:o}}function G5(e,t){var n=[],r=z5(e,n),a=r.extractConvParams,i=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,u=a("entry_flow/conv_in"),l=o("entry_flow/reduction_block_0"),c=o("entry_flow/reduction_block_1"),f={conv_in:u,reduction_block_0:l,reduction_block_1:c},d={};Eu(t,0,1).forEach(function(v){d["main_block_"+v]=s("middle_flow/main_block_"+v)});var h=o("exit_flow/reduction_block"),m=i("exit_flow/separable_conv"),p={reduction_block:h,separable_conv:m};return Wa(e,n),{params:{entry_flow:f,middle_flow:d,exit_flow:p},paramMappings:n}}function R2(e,t,n){return qe(Sr(e,t.filters,n,"same"),t.bias)}function Rh(e,t,n){n===void 0&&(n=!0);var r=n?kt(e):e;return r=lr(r,t.separable_conv0,[1,1]),r=lr(kt(r),t.separable_conv1,[1,1]),r=Zt(r,[3,3],[2,2],"same"),r=qe(r,R2(e,t.expansion_conv,[2,2])),r}function K5(e,t){var n=lr(kt(e),t.separable_conv0,[1,1]);return n=lr(kt(n),t.separable_conv1,[1,1]),n=lr(kt(n),t.separable_conv2,[1,1]),n=qe(n,e),n}var q5=function(e){Be(t,e);function t(n){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return t.prototype.forwardInput=function(n){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return ye(function(){var i=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],s=rl(i,o).div(pe(256)),u=kt(R2(s,a.entry_flow.conv_in,[2,2]));return u=Rh(u,a.entry_flow.reduction_block_0,!1),u=Rh(u,a.entry_flow.reduction_block_1),Eu(r._numMainBlocks,0,1).forEach(function(l){u=K5(u,a.middle_flow["main_block_"+l])}),u=Rh(u,a.exit_flow.reduction_block),u=kt(lr(u,a.exit_flow.separable_conv,[1,1])),u})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(n){return G5(n,this._numMainBlocks)},t.prototype.extractParams=function(n){return H5(n,this._numMainBlocks)},t}(Ua);function $5(e){var t=[],n=ja(e),r=n.extractWeights,a=n.getRemainingWeights,i=Mv(r,t),o=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}function X5(e){var t=[],n=Ci(e,t);function r(i){var o=n(i+"/weights",2),s=n(i+"/bias",1);return{weights:o,bias:s}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Wa(e,t),{params:a,paramMappings:t}}var Yc;(function(e){e.FEMALE="female",e.MALE="male"})(Yc||(Yc={}));var Y5=function(e){Be(t,e);function t(n){n===void 0&&(n=new q5(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return ye(function(){var i=n instanceof Xc?r.faceFeatureExtractor.forwardInput(n):n,o=tl(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),s=Zr(o,a.fc.age).as1D(),u=Zr(o,a.fc.gender);return{age:s,gender:u}})},t.prototype.forwardInput=function(n){var r=this;return ye(function(){var a=r.runNet(n),i=a.age,o=a.gender;return{age:i,gender:Ba(o)}})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.predictAgeAndGender=function(n){return Ce(this,void 0,void 0,function(){var r,a,i,o,s,u,l=this;return Se(this,function(c){switch(c.label){case 0:return[4,an(n)];case 1:return r=c.sent(),[4,this.forwardInput(r)];case 2:return a=c.sent(),i=Kt(a.age),o=Kt(a.gender),s=i.map(function(f,d){return{ageTensor:f,genderTensor:o[d]}}),[4,Promise.all(s.map(function(f){var d=f.ageTensor,h=f.genderTensor;return Ce(l,void 0,void 0,function(){var m,p,v,g,x;return Se(this,function(y){switch(y.label){case 0:return[4,d.data()];case 1:return m=y.sent()[0],[4,h.data()];case 2:return p=y.sent()[0],v=p>.5,g=v?Yc.MALE:Yc.FEMALE,x=v?p:1-p,d.dispose(),h.dispose(),[2,{age:m,gender:g,genderProbability:x}]}})})}))];case 3:return u=c.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?u:u[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(n){return $5(n)},t.prototype.extractParamsFromWeigthMap=function(n){var r=A2(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),X5(i)},t.prototype.extractParams=function(n){var r=1539,a=n.slice(0,n.length-r),i=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)},t}(Ua),N2=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(n,r,a){var i=a.map(function(s){var u=s.width,l=s.height,c=r/Math.max(l,u);return{width:u*c,height:l*c}}),o=i.length;return ye(function(){var s=function(d,h){return hr([na([68],d),na([68],h)],1).as2D(1,136).as1D()},u=function(d,h){var m=i[d],p=m.width,v=m.height;return h(p,v)?Math.abs(p-v)/2:0},l=function(d){return u(d,function(h,m){return h<m})},c=function(d){return u(d,function(h,m){return m<h})},f=n.mul(na([o,136],r)).sub(hr(Array.from(Array(o),function(d,h){return s(l(h),c(h))}))).div(hr(Array.from(Array(o),function(d,h){return s(i[h].width,i[h].height)})));return f})},t.prototype.forwardInput=function(n){var r=this;return ye(function(){var a=r.runNet(n);return r.postProcess(a,n.inputSize,n.inputDimensions.map(function(i){var o=i[0],s=i[1];return{height:o,width:s}}))})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.detectLandmarks=function(n){return Ce(this,void 0,void 0,function(){var r,a,i,o=this;return Se(this,function(s){switch(s.label){case 0:return[4,an(n)];case 1:return r=s.sent(),a=ye(function(){return Kt(o.forwardInput(r))}),[4,Promise.all(a.map(function(u,l){return Ce(o,void 0,void 0,function(){var c,f,d,h,m;return Se(this,function(p){switch(p.label){case 0:return d=(f=Array).from,[4,u.data()];case 1:return c=d.apply(f,[p.sent()]),h=c.filter(function(v,g){return B0(g)}),m=c.filter(function(v,g){return!B0(g)}),[2,new C5(Array(68).fill(0).map(function(v,g){return new ot(h[g],m[g])}),{height:r.getInputHeight(l),width:r.getInputWidth(l)})]}})})}))];case 2:return i=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(T2),O2=function(e){Be(t,e);function t(n){return n===void 0&&(n=new S2),e.call(this,"FaceLandmark68Net",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(N2);function J5(e){var t=[],n=C2(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Wa(e,t),{params:r,paramMappings:t}}function Q5(e){var t=[],n=ja(e),r=n.extractWeights,a=n.getRemainingWeights,i=k2(r,t).extractDenseBlock3Params,o=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u}}}var Z5=function(e){Be(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return ye(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=rl(a,i).div(pe(255)),s=Ih(o,r.dense0,!0);return s=Ih(s,r.dense1),s=Ih(s,r.dense2),s=tl(s,[14,14],[2,2],"valid"),s})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(n){return J5(n)},t.prototype.extractParams=function(n){return Q5(n)},t}(Ua),eW=function(e){Be(t,e);function t(n){return n===void 0&&(n=new Z5),e.call(this,"FaceLandmark68TinyNet",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(N2);(function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(O2);function tW(e,t){return qe(Cn(e,t.weights),t.biases)}function Uv(e,t,n,r,a){a===void 0&&(a="same");var i=t.conv,o=i.filters,s=i.bias,u=Sr(e,o,n,a);return u=qe(u,s),u=tW(u,t.scale),r?kt(u):u}function nW(e,t){return Uv(e,t,[1,1],!0)}function D2(e,t){return Uv(e,t,[1,1],!1)}function P2(e,t){return Uv(e,t,[2,2],!0,"valid")}function rW(e,t){function n(s,u,l){var c=e(s),f=c.length/(u*l*l);if(m5(f))throw new Error("depth has to be an integer: "+f+", weights.length: "+c.length+", numFilters: "+u+", filterSize: "+l);return ye(function(){return pi(Un(c,[u,f,l,l]),[2,3,1,0])})}function r(s,u,l,c){var f=n(s,u,l),d=Lt(e(u));return t.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:f,bias:d}}function a(s,u){var l=Lt(e(s)),c=Lt(e(s));return t.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:l,biases:c}}function i(s,u,l,c){var f=r(s,u,l,c+"/conv"),d=a(u,c+"/scale");return{conv:f,scale:d}}function o(s,u,l,c,f){f===void 0&&(f=!1);var d=i((f?.5:1)*s,u,l,c+"/conv1"),h=i(s,u,l,c+"/conv2");return{conv1:d,conv2:h}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function aW(e){var t=ja(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=rW(n,a),o=i.extractConvLayerParams,s=i.extractResidualLayerParams,u=o(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),f=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),h=s(36864,64,3,"conv64_1"),m=s(36864,64,3,"conv64_2"),p=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),x=s(147456,128,3,"conv128_2"),y=s(589824,256,3,"conv256_down",!0),b=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),_=s(589824,256,3,"conv256_down_out"),S=ye(function(){return pi(si(n(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var C={conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:f,conv64_down:d,conv64_1:h,conv64_2:m,conv64_3:p,conv128_down:v,conv128_1:g,conv128_2:x,conv256_down:y,conv256_1:b,conv256_2:w,conv256_down_out:_,fc:S};return{params:C,paramMappings:a}}function iW(e,t){var n=Ci(e,t);function r(o){var s=n(o+"/scale/weights",1),u=n(o+"/scale/biases",1);return{weights:s,biases:u}}function a(o){var s=n(o+"/conv/filters",4),u=n(o+"/conv/bias",1),l=r(o);return{conv:{filters:s,bias:u},scale:l}}function i(o){return{conv1:a(o+"/conv1"),conv2:a(o+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function oW(e){var t=[],n=iW(e,t),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,i=r("conv32_down"),o=a("conv32_1"),s=a("conv32_2"),u=a("conv32_3"),l=a("conv64_down"),c=a("conv64_1"),f=a("conv64_2"),d=a("conv64_3"),h=a("conv128_down"),m=a("conv128_1"),p=a("conv128_2"),v=a("conv256_down"),g=a("conv256_1"),x=a("conv256_2"),y=a("conv256_down_out"),b=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!p5(b))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+b);var w={conv32_down:i,conv32_1:o,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:f,conv64_3:d,conv128_down:h,conv128_1:m,conv128_2:p,conv256_down:v,conv256_1:g,conv256_2:x,conv256_down_out:y,fc:b};return Wa(e,t),{params:w,paramMappings:t}}function zr(e,t){var n=nW(e,t.conv1);return n=D2(n,t.conv2),n=qe(n,e),n=kt(n),n}function Fl(e,t){var n=P2(e,t.conv1);n=D2(n,t.conv2);var r=tl(e,2,2,"valid"),a=vt(r.shape),i=r.shape[3]!==n.shape[3],o=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(o){var s=Qs(n.shape);s[1]=1;var u=vt(s);n=Gt([n,u],1);var l=Qs(n.shape);l[2]=1;var c=vt(l);n=Gt([n,c],2)}return r=i?Gt([r,a],3):r,n=qe(r,n),n=kt(n),n}var sW=function(e){Be(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return ye(function(){var a=n.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],o=rl(a,i).div(pe(256)),s=P2(o,r.conv32_down);s=Zt(s,3,2,"valid"),s=zr(s,r.conv32_1),s=zr(s,r.conv32_2),s=zr(s,r.conv32_3),s=Fl(s,r.conv64_down),s=zr(s,r.conv64_1),s=zr(s,r.conv64_2),s=zr(s,r.conv64_3),s=Fl(s,r.conv128_down),s=zr(s,r.conv128_1),s=zr(s,r.conv128_2),s=Fl(s,r.conv256_down),s=zr(s,r.conv256_1),s=zr(s,r.conv256_2),s=Fl(s,r.conv256_down_out);var u=s.mean([1,2]),l=td(u,r.fc);return l})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.computeFaceDescriptor=function(n){return Ce(this,void 0,void 0,function(){var r,a,i,o=this;return Se(this,function(s){switch(s.label){case 0:return[4,an(n)];case 1:return r=s.sent(),a=ye(function(){return Kt(o.forwardInput(r))}),[4,Promise.all(a.map(function(u){return u.data()}))];case 2:return i=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(n){return oW(n)},t.prototype.extractParams=function(n){return aW(n)},t}(Ua);function F2(e,t){var n={descriptor:t};return Object.assign({},e,n)}function M2(e,t){var n={age:t};return Object.assign({},e,n)}function L2(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var B2=function(){function e(t){var n=t===void 0?{}:t,r=n.minFaceSize,a=n.scaleFactor,i=n.maxNumScales,o=n.scoreThresholds,s=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=i||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function uW(e,t){function n(u,l){var c=Un(e(9*u),[3,3,u,1]),f=Lt(e(u)),d=Lt(e(u)),h=Lt(e(u)),m=Lt(e(u));return t.push({paramPath:l+"/filters"},{paramPath:l+"/batch_norm_scale"},{paramPath:l+"/batch_norm_offset"},{paramPath:l+"/batch_norm_mean"},{paramPath:l+"/batch_norm_variance"}),{filters:c,batch_norm_scale:f,batch_norm_offset:d,batch_norm_mean:h,batch_norm_variance:m}}function r(u,l,c,f,d){var h=Un(e(u*l*c*c),[c,c,u,l]),m=Lt(e(l));return t.push({paramPath:f+"/filters"},{paramPath:f+"/"+(d?"batch_norm_offset":"bias")}),{filters:h,bias:m}}function a(u,l,c,f){var d=r(u,l,c,f,!0),h=d.filters,m=d.bias;return{filters:h,batch_norm_offset:m}}function i(u,l,c){var f=n(u,c+"/depthwise_conv"),d=a(u,l,1,c+"/pointwise_conv");return{depthwise_conv:f,pointwise_conv:d}}function o(){var u=a(3,32,3,"mobilenetv1/conv_0"),l=i(32,64,"mobilenetv1/conv_1"),c=i(64,128,"mobilenetv1/conv_2"),f=i(128,128,"mobilenetv1/conv_3"),d=i(128,256,"mobilenetv1/conv_4"),h=i(256,256,"mobilenetv1/conv_5"),m=i(256,512,"mobilenetv1/conv_6"),p=i(512,512,"mobilenetv1/conv_7"),v=i(512,512,"mobilenetv1/conv_8"),g=i(512,512,"mobilenetv1/conv_9"),x=i(512,512,"mobilenetv1/conv_10"),y=i(512,512,"mobilenetv1/conv_11"),b=i(512,1024,"mobilenetv1/conv_12"),w=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:l,conv_2:c,conv_3:f,conv_4:d,conv_5:h,conv_6:m,conv_7:p,conv_8:v,conv_9:g,conv_10:x,conv_11:y,conv_12:b,conv_13:w}}function s(){var u=a(1024,256,1,"prediction_layer/conv_0"),l=a(256,512,3,"prediction_layer/conv_1"),c=a(512,128,1,"prediction_layer/conv_2"),f=a(128,256,3,"prediction_layer/conv_3"),d=a(256,128,1,"prediction_layer/conv_4"),h=a(128,256,3,"prediction_layer/conv_5"),m=a(256,64,1,"prediction_layer/conv_6"),p=a(64,128,3,"prediction_layer/conv_7"),v=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),g=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),x=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),y=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),b=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),w=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),_=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),S=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),C=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),k=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),E=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),T=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),A={box_encoding_predictor:v,class_predictor:g},I={box_encoding_predictor:x,class_predictor:y},D={box_encoding_predictor:b,class_predictor:w},M={box_encoding_predictor:_,class_predictor:S},L={box_encoding_predictor:C,class_predictor:k},W={box_encoding_predictor:E,class_predictor:T};return{conv_0:u,conv_1:l,conv_2:c,conv_3:f,conv_4:d,conv_5:h,conv_6:m,conv_7:p,box_predictor_0:A,box_predictor_1:I,box_predictor_2:D,box_predictor_3:M,box_predictor_4:L,box_predictor_5:W}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:s}}function lW(e){var t=[],n=ja(e),r=n.extractWeights,a=n.getRemainingWeights,i=uW(r,t),o=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,u=o(),l=s(),c=nv(r(5118*4),[1,5118,4]),f={extra_dim:c};if(t.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:f},paramMappings:t}}function cW(e,t){var n=Ci(e,t);function r(l,c,f){var d=n(l+"/Conv2d_"+c+"_pointwise/weights",4,f+"/filters"),h=n(l+"/Conv2d_"+c+"_pointwise/convolution_bn_offset",1,f+"/batch_norm_offset");return{filters:d,batch_norm_offset:h}}function a(l){var c="mobilenetv1/conv_"+l,f="MobilenetV1/Conv2d_"+l+"_depthwise",d=c+"/depthwise_conv",h=c+"/pointwise_conv",m=n(f+"/depthwise_weights",4,d+"/filters"),p=n(f+"/BatchNorm/gamma",1,d+"/batch_norm_scale"),v=n(f+"/BatchNorm/beta",1,d+"/batch_norm_offset"),g=n(f+"/BatchNorm/moving_mean",1,d+"/batch_norm_mean"),x=n(f+"/BatchNorm/moving_variance",1,d+"/batch_norm_variance");return{depthwise_conv:{filters:m,batch_norm_scale:p,batch_norm_offset:v,batch_norm_mean:g,batch_norm_variance:x},pointwise_conv:r("MobilenetV1",l,h)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function o(l,c){var f=n(l+"/weights",4,c+"/filters"),d=n(l+"/biases",1,c+"/bias");return{filters:f,bias:d}}function s(l){var c=o("Prediction/BoxPredictor_"+l+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+l+"/box_encoding_predictor"),f=o("Prediction/BoxPredictor_"+l+"/ClassPredictor","prediction_layer/box_predictor_"+l+"/class_predictor");return{box_encoding_predictor:c,class_predictor:f}}function u(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:u}}function fW(e){var t=[],n=cW(e,t),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!id(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var o={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:i}};return Wa(e,t),{params:o,paramMappings:t}}function qr(e,t,n){return ye(function(){var r=Sr(e,t.filters,n,"same");return r=qe(r,t.batch_norm_offset),hv(r,0,6)})}var dW=.0010000000474974513;function hW(e,t,n){return ye(function(){var r=ed(e,t.filters,n,"same");return r=OE(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,dW),hv(r,0,6)})}function pW(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function mW(e,t){return ye(function(){var n=null,r=qr(e,t.conv_0,[2,2]),a=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(a.forEach(function(i,o){var s=o+1,u=pW(s);r=hW(r,i.depthwise_conv,u),r=qr(r,i.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function vW(e,t,n,r,a){var i=e.shape[0],o=Math.min(n,i),s=t.map(function(c,f){return{score:c,boxIndex:f}}).filter(function(c){return c.score>a}).sort(function(c,f){return f.score-c.score}),u=function(c){return c<=r?1:0},l=[];return s.forEach(function(c){if(!(l.length>=o)){for(var f=c.score,d=l.length-1;d>=0;--d){var h=gW(e,c.boxIndex,l[d]);if(h!==0&&(c.score*=u(h),c.score<=a))break}f===c.score&&l.push(c.boxIndex)}}),l}function gW(e,t,n){var r=e.arraySync(),a=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(o-a)*(s-i),h=(c-u)*(f-l);if(d<=0||h<=0)return 0;var m=Math.max(a,u),p=Math.max(i,l),v=Math.min(o,c),g=Math.min(s,f),x=Math.max(v-m,0)*Math.max(g-p,0);return x/(d+h-x)}function yW(e){var t=Kt(pi(e,[1,0])),n=[$t(t[2],t[0]),$t(t[3],t[1])],r=[qe(t[0],Ir(n[0],pe(2))),qe(t[1],Ir(n[1],pe(2)))];return{sizes:n,centers:r}}function bW(e,t){var n=yW(e),r=n.sizes,a=n.centers,i=Kt(pi(t,[1,0])),o=Ir(Cn(Wp(Ir(i[2],pe(5))),r[0]),pe(2)),s=qe(Cn(Ir(i[0],pe(10)),r[0]),a[0]),u=Ir(Cn(Wp(Ir(i[3],pe(5))),r[1]),pe(2)),l=qe(Cn(Ir(i[1],pe(10)),r[1]),a[1]);return pi(hr([$t(s,o),$t(l,u),qe(s,o),qe(l,u)]),[1,0])}function xW(e,t,n){return ye(function(){var r=e.shape[0],a=bW(Nr(jo(n.extra_dim,[r,1,1]),[-1,4]),Nr(e,[-1,4]));a=Nr(a,[r,a.shape[0]/r,4]);var i=TE(ia(t,[0,0,1],[-1,-1,-1])),o=ia(i,[0,0,0],[-1,-1,1]);o=Nr(o,[r,o.shape[1]]);var s=Kt(a),u=Kt(o);return{boxes:s,scores:u}})}function So(e,t){return ye(function(){var n=e.shape[0],r=Nr(Mr(e,t.box_encoding_predictor),[n,-1,1,4]),a=Nr(Mr(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function wW(e,t,n){return ye(function(){var r=qr(e,n.conv_0,[1,1]),a=qr(r,n.conv_1,[2,2]),i=qr(a,n.conv_2,[1,1]),o=qr(i,n.conv_3,[2,2]),s=qr(o,n.conv_4,[1,1]),u=qr(s,n.conv_5,[2,2]),l=qr(u,n.conv_6,[1,1]),c=qr(l,n.conv_7,[2,2]),f=So(t,n.box_predictor_0),d=So(e,n.box_predictor_1),h=So(a,n.box_predictor_2),m=So(o,n.box_predictor_3),p=So(u,n.box_predictor_4),v=So(c,n.box_predictor_5),g=Gt([f.boxPredictionEncoding,d.boxPredictionEncoding,h.boxPredictionEncoding,m.boxPredictionEncoding,p.boxPredictionEncoding,v.boxPredictionEncoding],1),x=Gt([f.classPrediction,d.classPrediction,h.classPrediction,m.classPrediction,p.classPrediction,v.classPrediction],1);return{boxPredictions:g,classPredictions:x}})}var ld=function(){function e(t){var n=t===void 0?{}:t,r=n.minConfidence,a=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),V2=function(e){Be(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return ye(function(){var a=n.toBatchTensor(512,!1).toFloat(),i=$t(Cn(a,pe(.007843137718737125)),pe(1)),o=mW(i,r.mobilenetv1),s=wW(o.out,o.conv11,r.prediction_layer),u=s.boxPredictions,l=s.classPredictions;return xW(u,l,r.output_layer)})},t.prototype.forward=function(n){return Ce(this,void 0,void 0,function(){var r;return Se(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,an(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},t.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),Ce(this,void 0,void 0,function(){var a,i,o,s,u,l,c,f,d,h,m,p,v,g,x,y,b,w,_,S,C;return Se(this,function(k){switch(k.label){case 0:return a=new ld(r),i=a.maxResults,o=a.minConfidence,[4,an(n)];case 1:for(s=k.sent(),u=this.forwardInput(s),l=u.boxes,c=u.scores,f=l[0],d=c[0],h=1;h<l.length;h++)l[h].dispose(),c[h].dispose();return v=(p=Array).from,[4,d.data()];case 2:return m=v.apply(p,[k.sent()]),g=.5,x=vW(f,m,i,g,o),y=s.getReshapedInputDimensions(0),b=s.inputSize,w=b/y.width,_=b/y.height,S=f.arraySync(),C=x.map(function(E){var T=[Math.max(0,S[E][0]),Math.min(1,S[E][2])].map(function(W){return W*_}),A=T[0],I=T[1],D=[Math.max(0,S[E][1]),Math.min(1,S[E][3])].map(function(W){return W*w}),M=D[0],L=D[1];return new da(m[E],new Rv(M,A,L-M,I-A),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),f.dispose(),d.dispose(),[2,C]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(n){return fW(n)},t.prototype.extractParams=function(n){return lW(n)},t}(Ua);(function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(V2);var _W=.4,kW=[new ot(.738768,.874946),new ot(2.42204,2.65704),new ot(4.30971,7.04493),new ot(10.246,4.59428),new ot(12.6868,11.8741)],EW=[new ot(1.603231,2.094468),new ot(6.041143,7.080126),new ot(2.882459,3.518061),new ot(4.266906,5.178857),new ot(9.041765,10.66308)],CW=[117.001,114.697,97.404],SW="tiny_yolov2_model",AW="tiny_yolov2_separable_conv_model",Ml=function(e){return typeof e=="number"};function TW(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Ml(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return Ml(t.x)&&Ml(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(Ml)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function Wv(e){return ye(function(){var t=Cn(e,pe(.10000000149011612));return qe(kt($t(e,t)),t)})}function Ga(e,t){return ye(function(){var n=po(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Sr(n,t.conv.filters,[1,1],"valid"),n=$t(n,t.bn.sub),n=Cn(n,t.bn.truediv),n=qe(n,t.conv.bias),Wv(n)})}function Ka(e,t){return ye(function(){var n=po(e,[[0,0],[1,1],[1,1],[0,0]]);return n=gv(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=qe(n,t.bias),Wv(n)})}function IW(e,t){var n=ud(e,t);function r(o,s){var u=Lt(e(o)),l=Lt(e(o));return t.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:l}}function a(o,s,u){var l=n(o,s,3,u+"/conv"),c=r(s,u+"/bn");return{conv:l,bn:c}}var i=Lv(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function RW(e,t,n,r){var a=ja(e),i=a.extractWeights,o=a.getRemainingWeights,s=[],u=IW(i,s),l=u.extractConvParams,c=u.extractConvWithBatchNormParams,f=u.extractSeparableConvParams,d;if(t.withSeparableConvs){var h=r[0],m=r[1],p=r[2],v=r[3],g=r[4],x=r[5],y=r[6],b=r[7],w=r[8],_=t.isFirstLayerConv2d?l(h,m,3,"conv0"):f(h,m,"conv0"),S=f(m,p,"conv1"),C=f(p,v,"conv2"),k=f(v,g,"conv3"),E=f(g,x,"conv4"),T=f(x,y,"conv5"),A=b?f(y,b,"conv6"):void 0,I=w?f(b,w,"conv7"):void 0,D=l(w||b||y,5*n,1,"conv8");d={conv0:_,conv1:S,conv2:C,conv3:k,conv4:E,conv5:T,conv6:A,conv7:I,conv8:D}}else{var h=r[0],m=r[1],p=r[2],v=r[3],g=r[4],x=r[5],y=r[6],b=r[7],w=r[8],_=c(h,m,"conv0"),S=c(m,p,"conv1"),C=c(p,v,"conv2"),k=c(v,g,"conv3"),E=c(g,x,"conv4"),T=c(x,y,"conv5"),A=c(y,b,"conv6"),I=c(b,w,"conv7"),D=l(w,5*n,1,"conv8");d={conv0:_,conv1:S,conv2:C,conv3:k,conv4:E,conv5:T,conv6:A,conv7:I,conv8:D}}if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:d,paramMappings:s}}function NW(e,t){var n=Ci(e,t);function r(s){var u=n(s+"/sub",1),l=n(s+"/truediv",1);return{sub:u,truediv:l}}function a(s){var u=n(s+"/filters",4),l=n(s+"/bias",1);return{filters:u,bias:l}}function i(s){var u=a(s+"/conv"),l=r(s+"/bn");return{conv:u,bn:l}}var o=Bv(n);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function OW(e,t){var n=[],r=NW(e,n),a=r.extractConvParams,i=r.extractConvWithBatchNormParams,o=r.extractSeparableConvParams,s;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?a("conv0"):o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:u>7?o("conv6"):void 0,conv7:u>8?o("conv7"):void 0,conv8:a("conv8")}}else s={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return Wa(e,n),{params:s,paramMappings:n}}var K0;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(K0||(K0={}));var jv=function(){function e(t){var n=t===void 0?{}:t,r=n.inputSize,a=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),U2=function(e){Be(t,e);function t(n){var r=e.call(this,"TinyYolov2")||this;return TW(n),r._config=n,r}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(n,r){var a=Ga(n,r.conv0);return a=Zt(a,[2,2],[2,2],"same"),a=Ga(a,r.conv1),a=Zt(a,[2,2],[2,2],"same"),a=Ga(a,r.conv2),a=Zt(a,[2,2],[2,2],"same"),a=Ga(a,r.conv3),a=Zt(a,[2,2],[2,2],"same"),a=Ga(a,r.conv4),a=Zt(a,[2,2],[2,2],"same"),a=Ga(a,r.conv5),a=Zt(a,[2,2],[1,1],"same"),a=Ga(a,r.conv6),a=Ga(a,r.conv7),Mr(a,r.conv8,"valid",!1)},t.prototype.runMobilenet=function(n,r){var a=this.config.isFirstLayerConv2d?Wv(Mr(n,r.conv0,"valid",!1)):Ka(n,r.conv0);return a=Zt(a,[2,2],[2,2],"same"),a=Ka(a,r.conv1),a=Zt(a,[2,2],[2,2],"same"),a=Ka(a,r.conv2),a=Zt(a,[2,2],[2,2],"same"),a=Ka(a,r.conv3),a=Zt(a,[2,2],[2,2],"same"),a=Ka(a,r.conv4),a=Zt(a,[2,2],[2,2],"same"),a=Ka(a,r.conv5),a=Zt(a,[2,2],[1,1],"same"),a=r.conv6?Ka(a,r.conv6):a,a=r.conv7?Ka(a,r.conv7):a,Mr(a,r.conv8,"valid",!1)},t.prototype.forwardInput=function(n,r){var a=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return ye(function(){var o=n.toBatchTensor(r,!1).toFloat();return o=a.config.meanRgb?rl(o,a.config.meanRgb):o,o=o.div(pe(256)),a.config.withSeparableConvs?a.runMobilenet(o,i):a.runTinyYolov2(o,i)})},t.prototype.forward=function(n,r){return Ce(this,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,an(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent()]}})})},t.prototype.detect=function(n,r){return r===void 0&&(r={}),Ce(this,void 0,void 0,function(){var a,i,o,s,u,l,c,f,d,h,m,p,v,g,x=this;return Se(this,function(y){switch(y.label){case 0:return a=new jv(r),i=a.inputSize,o=a.scoreThreshold,[4,an(n)];case 1:return s=y.sent(),[4,this.forwardInput(s,i)];case 2:return u=y.sent(),l=ye(function(){return Kt(u)[0].expandDims()}),c={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(l,s.getReshapedInputDimensions(0),o)];case 3:return f=y.sent(),u.dispose(),l.dispose(),d=f.map(function(b){return b.box}),h=f.map(function(b){return b.score}),m=f.map(function(b){return b.classScore}),p=f.map(function(b){return x.config.classes[b.label]}),v=Cu(d.map(function(b){return b.rescale(i)}),h,this.config.iouThreshold,!0),g=v.map(function(b){return new d2(h[b],m[b],p[b],d[b],c)}),[2,g]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(n){return OW(n,this.config)},t.prototype.extractParams=function(n){var r=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return RW(n,this.config,this.boxEncodingSize,r)},t.prototype.extractBoxes=function(n,r,a){return Ce(this,void 0,void 0,function(){var i,o,s,u,l,c,f,d,h,m,p,v,g,x,y,b,w,_,S,C,k,E,T,A,I,D,M,L,W,V=this;return Se(this,function(H){switch(H.label){case 0:return i=r.width,o=r.height,s=Math.max(i,o),u=s/i,l=s/o,c=n.shape[1],f=this.config.anchors.length,d=ye(function(){var X=n.reshape([c,c,f,V.boxEncodingSize]),ae=X.slice([0,0,0,0],[c,c,f,4]),se=X.slice([0,0,0,4],[c,c,f,1]),me=V.withClassScores?Ba(X.slice([0,0,0,5],[c,c,f,V.config.classes.length]),3):pe(0);return[ae,se,me]}),h=d[0],m=d[1],p=d[2],v=[],[4,m.array()];case 1:return g=H.sent(),[4,h.array()];case 2:x=H.sent(),y=0,H.label=3;case 3:if(!(y<c))return[3,12];b=0,H.label=4;case 4:if(!(b<c))return[3,11];w=0,H.label=5;case 5:return w<f?(_=Th(g[y][b][w][0]),!a||_>a?(S=(b+Th(x[y][b][w][0]))/c*u,C=(y+Th(x[y][b][w][1]))/c*l,k=Math.exp(x[y][b][w][2])*this.config.anchors[w].x/c*u,E=Math.exp(x[y][b][w][3])*this.config.anchors[w].y/c*l,T=S-k/2,A=C-E/2,I={row:y,col:b,anchor:w},this.withClassScores?[4,this.extractPredictedClass(p,I)]:[3,7]):[3,9]):[3,10];case 6:return W=H.sent(),[3,8];case 7:W={classScore:1,label:0},H.label=8;case 8:D=W,M=D.classScore,L=D.label,v.push(bn({box:new od(T,A,T+k,A+E),score:_,classScore:_*M,label:L},I)),H.label=9;case 9:return w++,[3,5];case 10:return b++,[3,4];case 11:return y++,[3,3];case 12:return h.dispose(),m.dispose(),p.dispose(),[2,v]}})})},t.prototype.extractPredictedClass=function(n,r){return Ce(this,void 0,void 0,function(){var a,i,o,s;return Se(this,function(u){switch(u.label){case 0:return a=r.row,i=r.col,o=r.anchor,[4,n.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(l,c){return s[a][i][o][c]}).map(function(l,c){return{classScore:l,label:c}}).reduce(function(l,c){return l.classScore>c.classScore?l:c})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Ua),DW=function(e){Be(t,e);function t(n){n===void 0&&(n=!0);var r=this,a=Object.assign({},{withSeparableConvs:n,iouThreshold:_W,classes:["face"]},n?{anchors:EW,meanRgb:CW}:{anchors:kW,withClassScores:!0});return r=e.call(this,a)||this,r}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return Ce(this,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new da(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?AW:SW},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(U2),W2=function(e){Be(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return t}(jv),al=function(){function e(){}return e.prototype.then=function(t){return Ce(this,void 0,void 0,function(){var n;return Se(this,function(r){switch(r.label){case 0:return n=t,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return Ce(this,void 0,void 0,function(){return Se(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e}();function cd(e,t,n,r,a){return a===void 0&&(a=function(i){var o=i.alignedRect;return o}),Ce(this,void 0,void 0,function(){var i,o,s,u,l;return Se(this,function(c){switch(c.label){case 0:return i=e.map(function(f){return W5(f)?a(f):f.detection}),s=r,s?[3,5]:t instanceof wt?[4,Fv(t,i)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,Pv(t,i)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return o=s,[4,n(o)];case 6:return l=c.sent(),o.forEach(function(f){return f instanceof wt&&f.dispose()}),[2,l]}})})}function Hv(e,t,n,r,a){return Ce(this,void 0,void 0,function(){var i=this;return Se(this,function(o){return[2,cd([e],t,function(s){return Ce(i,void 0,void 0,function(){return Se(this,function(u){return[2,n(s[0])]})})},r,a)]})})}function PW(e){return ye(function(){return hr(Kt(e,3).reverse(),3)})}var Ll=2,Jc=12;function FW(e,t){var n=ud(e,t),r=Mv(e,t);function a(l,c){var f=Lt(e(l));return t.push({paramPath:c}),f}function i(l,c,f){f===void 0&&(f=!1);var d=n(l[0],l[1],3,c+"/conv1"),h=a(l[1],c+"/prelu1_alpha"),m=n(l[1],l[2],3,c+"/conv2"),p=a(l[2],c+"/prelu2_alpha"),v=n(l[2],l[3],f?2:3,c+"/conv3"),g=a(l[3],c+"/prelu3_alpha");return{conv1:d,prelu1_alpha:h,conv2:m,prelu2_alpha:p,conv3:v,prelu3_alpha:g}}function o(){var l=i([3,10,16,32],"pnet"),c=n(32,2,1,"pnet/conv4_1"),f=n(32,4,1,"pnet/conv4_2");return bn(bn({},l),{conv4_1:c,conv4_2:f})}function s(){var l=i([3,28,48,64],"rnet",!0),c=r(576,128,"rnet/fc1"),f=a(128,"rnet/prelu4_alpha"),d=r(128,2,"rnet/fc2_1"),h=r(128,4,"rnet/fc2_2");return bn(bn({},l),{fc1:c,prelu4_alpha:f,fc2_1:d,fc2_2:h})}function u(){var l=i([3,32,64,64],"onet"),c=n(64,128,2,"onet/conv4"),f=a(128,"onet/prelu4_alpha"),d=r(1152,256,"onet/fc1"),h=a(256,"onet/prelu5_alpha"),m=r(256,2,"onet/fc2_1"),p=r(256,4,"onet/fc2_2"),v=r(256,10,"onet/fc2_3");return bn(bn({},l),{conv4:c,prelu4_alpha:f,fc1:d,prelu5_alpha:h,fc2_1:m,fc2_2:p,fc2_3:v})}return{extractPNetParams:o,extractRNetParams:s,extractONetParams:u}}function MW(e){var t=ja(e),n=t.extractWeights,r=t.getRemainingWeights,a=[],i=FW(n,a),o=i.extractPNetParams,s=i.extractRNetParams,u=i.extractONetParams,l=o(),c=s(),f=u();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:c,onet:f},paramMappings:a}}function LW(e,t){var n=Ci(e,t);function r(c){var f=n(c+"/weights",4,c+"/filters"),d=n(c+"/bias",1);return{filters:f,bias:d}}function a(c){var f=n(c+"/weights",2),d=n(c+"/bias",1);return{weights:f,bias:d}}function i(c){return n(c,1)}function o(c){var f=r(c+"/conv1"),d=i(c+"/prelu1_alpha"),h=r(c+"/conv2"),m=i(c+"/prelu2_alpha"),p=r(c+"/conv3"),v=i(c+"/prelu3_alpha");return{conv1:f,prelu1_alpha:d,conv2:h,prelu2_alpha:m,conv3:p,prelu3_alpha:v}}function s(){var c=o("pnet"),f=r("pnet/conv4_1"),d=r("pnet/conv4_2");return bn(bn({},c),{conv4_1:f,conv4_2:d})}function u(){var c=o("rnet"),f=a("rnet/fc1"),d=i("rnet/prelu4_alpha"),h=a("rnet/fc2_1"),m=a("rnet/fc2_2");return bn(bn({},c),{fc1:f,prelu4_alpha:d,fc2_1:h,fc2_2:m})}function l(){var c=o("onet"),f=r("onet/conv4"),d=i("onet/prelu4_alpha"),h=a("onet/fc1"),m=i("onet/prelu5_alpha"),p=a("onet/fc2_1"),v=a("onet/fc2_2"),g=a("onet/fc2_3");return bn(bn({},c),{conv4:f,prelu4_alpha:d,fc1:h,prelu5_alpha:m,fc2_1:p,fc2_2:v,fc2_3:g})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:l}}function BW(e){var t=[],n=LW(e,t),r=n.extractPNetParams,a=n.extractRNetParams,i=n.extractONetParams,o=r(),s=a(),u=i();return Wa(e,t),{params:{pnet:o,rnet:s,onet:u},paramMappings:t}}function Xp(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}function VW(e,t,n){for(var r=n[0],a=n[1],i=Jc/e,o=[],s=Math.min(r,a)*i,u=0;s>=12;)o.push(i*Math.pow(t,u)),s=s*t,u+=1;return o}var zv=function(e){Be(t,e);function t(n,r,a,i){return e.call(this,{left:n,top:r,right:a,bottom:i},!0)||this}return t}(mi);function j2(e){return ye(function(){return Cn($t(e,pe(127.5)),pe(.0078125))})}function $o(e,t){return ye(function(){return qe(kt(e),Cn(t,zc(kt(zc(e)))))})}function Gv(e,t,n){return n===void 0&&(n=!1),ye(function(){var r=Mr(e,t.conv1,"valid");return r=$o(r,t.prelu1_alpha),r=Zt(r,n?[2,2]:[3,3],[2,2],"same"),r=Mr(r,t.conv2,"valid"),r=$o(r,t.prelu2_alpha),r=n?r:Zt(r,[3,3],[2,2],"valid"),r=Mr(r,t.conv3,"valid"),r=$o(r,t.prelu3_alpha),r})}function UW(e,t){return ye(function(){var n=Gv(e,t,!0),r=Mr(n,t.conv4_1,"valid"),a=yr(nd(r,3),3),i=Ba($t(r,a),3),o=Mr(n,t.conv4_2,"valid");return{prob:i,regions:o}})}function WW(e,t){return ye(function(){var n=Xp(t,e.shape.slice(1)),r=n.height,a=n.width,i=_v.resizeBilinear(e,[r,a]),o=j2(i);return pi(o,[0,2,1,3])})}function jW(e,t,n,r){for(var a=[],i=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)i[o][s]>=r&&a.push(new ot(s,o));var u=a.map(function(l){var c=new od(Math.round((l.y*Ll+1)/n),Math.round((l.x*Ll+1)/n),Math.round((l.y*Ll+Jc)/n),Math.round((l.x*Ll+Jc)/n)),f=i[l.y][l.x],d=t.arraySync(),h=new zv(d[l.y][l.x][0],d[l.y][l.x][1],d[l.y][l.x][2],d[l.y][l.x][3]);return{cell:c,score:f,region:h}});return u}function HW(e,t,n,r,a){a.stage1=[];var i=t.map(function(d){return ye(function(){var h={scale:d},m=WW(e,d),p=Date.now(),v=UW(m,r),g=v.prob,x=v.regions;h.pnet=Date.now()-p;var y=Kt(Kt(g,3)[1])[0],b=Kt(x)[0];return{scoresTensor:y,regionsTensor:b,scale:d,statsForScale:h}})}),o=i.map(function(d){var h=d.scoresTensor,m=d.regionsTensor,p=d.scale,v=d.statsForScale,g=jW(h,m,p,n);if(h.dispose(),m.dispose(),!g.length)return a.stage1.push(v),[];var x=Date.now(),y=Cu(g.map(function(b){return b.cell}),g.map(function(b){return b.score}),.5);return v.nms=Date.now()-x,v.numBoxes=y.length,a.stage1.push(v),y.map(function(b){return g[b]})}),s=o.reduce(function(d,h){return d.concat(h)},[]),u=[],l=[];if(s.length>0){var c=Date.now(),f=Cu(s.map(function(d){return d.cell}),s.map(function(d){return d.score}),.7);a.stage1_nms=Date.now()-c,l=f.map(function(d){return s[d].score}),u=f.map(function(d){return s[d]}).map(function(d){var h=d.cell,m=d.region;return new od(h.left+m.left*h.width,h.top+m.top*h.height,h.right+m.right*h.width,h.bottom+m.bottom*h.height).toSquare().round()})}return{boxes:u,scores:l}}function H2(e,t,n){var r=n.width,a=n.height;return Ce(this,void 0,void 0,function(){var i,o,s,u=this;return Se(this,function(l){switch(l.label){case 0:return i=to(e),[4,Promise.all(t.map(function(c){return Ce(u,void 0,void 0,function(){var f,d,h,m,p,v,g,x;return Se(this,function(y){return f=c.padAtBorders(e.height,e.width),d=f.y,h=f.ey,m=f.x,p=f.ex,v=m-1,g=d-1,x=i.getImageData(v,g,p-v,h-g),[2,An.isNodejs()?Dv(x):createImageBitmap(x)]})})}))];case 1:return o=l.sent(),s=[],o.forEach(function(c){var f=sd({width:r,height:a}),d=to(f);d.drawImage(c,0,0,r,a);for(var h=d.getImageData(0,0,r,a).data,m=[],p=0;p<h.length;p+=4)m.push(h[p+2]),m.push(h[p+1]),m.push(h[p]);s.push(m)}),[2,s.map(function(c){var f=ye(function(){var d=pi(Un(c,[1,r,a,3]),[0,2,1,3]).toFloat();return j2(d)});return f})]}})})}function zW(e,t){return ye(function(){var n=Gv(e,t),r=Nr(n,[n.shape[0],t.fc1.weights.shape[0]]),a=Zr(r,t.fc1),i=$o(a,t.prelu4_alpha),o=Zr(i,t.fc2_1),s=yr(nd(o,1),1),u=Ba($t(o,s),1),l=Zr(i,t.fc2_2),c=Kt(u,1)[1];return{scores:c,regions:l}})}function GW(e,t,n,r,a){return Ce(this,void 0,void 0,function(){var i,o,s,u,l,c,f,d,h,m,p,v,g,x;return Se(this,function(y){switch(y.label){case 0:return i=Date.now(),[4,H2(e,t,{width:24,height:24})];case 1:return o=y.sent(),a.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(b){var w=zW(b,r);return b.dispose(),w}),a.stage2_rnet=Date.now()-i,u=s.length>1?Gt(s.map(function(b){return b.scores})):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[y.sent()]),u.dispose(),d=l.map(function(b,w){return{score:b,idx:w}}).filter(function(b){return b.score>n}).map(function(b){var w=b.idx;return w}),h=d.map(function(b){return t[b]}),m=d.map(function(b){return l[b]}),p=[],v=[],h.length>0&&(i=Date.now(),g=Cu(h,m,.7),a.stage2_nms=Date.now()-i,x=g.map(function(b){var w=s[d[b]].regions.arraySync();return new zv(w[0][0],w[0][1],w[0][2],w[0][3])}),v=g.map(function(b){return m[b]}),p=g.map(function(b,w){return h[b].calibrate(x[w])})),s.forEach(function(b){b.regions.dispose(),b.scores.dispose()}),[2,{boxes:p,scores:v}]}})})}function KW(e,t){return ye(function(){var n=Gv(e,t);n=Zt(n,[2,2],[2,2],"same"),n=Mr(n,t.conv4,"valid"),n=$o(n,t.prelu4_alpha);var r=Nr(n,[n.shape[0],t.fc1.weights.shape[0]]),a=Zr(r,t.fc1),i=$o(a,t.prelu5_alpha),o=Zr(i,t.fc2_1),s=yr(nd(o,1),1),u=Ba($t(o,s),1),l=Zr(i,t.fc2_2),c=Zr(i,t.fc2_3),f=Kt(u,1)[1];return{scores:f,regions:l,points:c}})}function qW(e,t,n,r,a){return Ce(this,void 0,void 0,function(){var i,o,s,u,l,c,f,d,h,m,p,v,g,x,y;return Se(this,function(b){switch(b.label){case 0:return i=Date.now(),[4,H2(e,t,{width:48,height:48})];case 1:return o=b.sent(),a.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=o.map(function(w){var _=KW(w,r);return w.dispose(),_}),a.stage3_onet=Date.now()-i,u=s.length>1?Gt(s.map(function(w){return w.scores})):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[b.sent()]),u.dispose(),d=l.map(function(w,_){return{score:w,idx:_}}).filter(function(w){return w.score>n}).map(function(w){var _=w.idx;return _}),h=d.map(function(w){var _=s[w].regions.arraySync();return new zv(_[0][0],_[0][1],_[0][2],_[0][3])}),m=d.map(function(w,_){return t[w].calibrate(h[_])}),p=d.map(function(w){return l[w]}),v=[],g=[],x=[],m.length>0&&(i=Date.now(),y=Cu(m,p,.7,!1),a.stage3_nms=Date.now()-i,v=y.map(function(w){return m[w]}),g=y.map(function(w){return p[w]}),x=y.map(function(w,_){return Array(5).fill(0).map(function(S,C){var k=s[w].points.arraySync();return new ot(k[0][C]*(v[_].width+1)+v[_].left,k[0][C+5]*(v[_].height+1)+v[_].top)})})),s.forEach(function(w){w.regions.dispose(),w.scores.dispose(),w.points.dispose()}),[2,{boxes:v,scores:g,points:x}]}})})}var $W=function(e){Be(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(n){return Ce(this,void 0,void 0,function(){return Se(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,n)]})})},t.prototype.loadFromDisk=function(n){return Ce(this,void 0,void 0,function(){return Se(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,n)]})})},t.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),Ce(this,void 0,void 0,function(){var a,i,o,s,u,l,c,f,d,h,m,p,v,g,x,y,b,w,_,S,C;return Se(this,function(k){switch(k.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(i=n.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},s=Date.now(),u=ye(function(){return PW(yr(Tv.fromPixels(i)).toFloat())}),l=function(E){return u.dispose(),o.total=Date.now()-s,E},c=u.shape.slice(1),f=c[0],d=c[1],h=new B2(r),m=h.minFaceSize,p=h.scaleFactor,v=h.maxNumScales,g=h.scoreThresholds,x=h.scaleSteps,y=(x||VW(m,p,[f,d])).filter(function(E){var T=Xp(E,[f,d]);return Math.min(T.width,T.height)>Jc}).slice(0,v),o.scales=y,o.pyramid=y.map(function(E){return Xp(E,[f,d])}),b=Date.now(),[4,HW(u,y,g[0],a.pnet,o)];case 1:return w=k.sent(),o.total_stage1=Date.now()-b,w.boxes.length?(o.stage2_numInputBoxes=w.boxes.length,b=Date.now(),[4,GW(i,w.boxes,g[1],a.rnet,o)]):[2,l({results:[],stats:o})];case 2:return _=k.sent(),o.total_stage2=Date.now()-b,_.boxes.length?(o.stage3_numInputBoxes=_.boxes.length,b=Date.now(),[4,qW(i,_.boxes,g[2],a.onet,o)]):[2,l({results:[],stats:o})];case 3:return S=k.sent(),o.total_stage3=Date.now()-b,C=S.boxes.map(function(E,T){return Vv(Nv({},new da(S.scores[T],new Rv(E.left/d,E.top/f,E.width/d,E.height/f),{height:f,width:d})),new E5(S.points[T].map(function(A){return A.sub(new ot(E.left,E.top)).div(new ot(E.width,E.height))}),{width:E.width,height:E.height}))}),[2,l({results:C,stats:o})]}})})},t.prototype.forward=function(n,r){return r===void 0&&(r={}),Ce(this,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,an(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent().results]}})})},t.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),Ce(this,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,an(n)];case 1:return[2,a.apply(this,[i.sent(),r])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(n){return BW(n)},t.prototype.extractParams=function(n){return MW(n)},t}(Ua),XW=.4,YW=[new ot(1.603231,2.094468),new ot(6.041143,7.080126),new ot(2.882459,3.518061),new ot(4.266906,5.178857),new ot(9.041765,10.66308)],JW=[117.001,114.697,97.404],QW=function(e){Be(t,e);function t(){var n=this,r={withSeparableConvs:!0,iouThreshold:XW,classes:["face"],anchors:YW,meanRgb:JW,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=e.call(this,r)||this,n}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return Ce(this,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new da(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t}(U2),jn={ssdMobilenetv1:new V2,tinyFaceDetector:new QW,tinyYolov2:new DW,mtcnn:new $W,faceLandmark68Net:new O2,faceLandmark68TinyNet:new eW,faceRecognitionNet:new sW,faceExpressionNet:new U5,ageGenderNet:new Y5},z2=function(e){Be(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(al),Kv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a=this;return Se(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,cd(n,this.input,function(o){return Ce(a,void 0,void 0,function(){return Se(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(u){return jn.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){return I2(o,r[s])})]}})})},t.prototype.withAgeAndGender=function(){return new Yv(this,this.input)},t}(z2),qv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r;return Se(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,Hv(n,this.input,function(i){return jn.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,I2(n,r)]}})})},t.prototype.withAgeAndGender=function(){return new Jv(this,this.input)},t}(z2),$v=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new Qv(this,this.input)},t.prototype.withFaceDescriptors=function(){return new eg(this,this.input)},t}(Kv),Xv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new Zv(this,this.input)},t.prototype.withFaceDescriptor=function(){return new tg(this,this.input)},t}(qv),G2=function(e){Be(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return t}(al),Yv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a=this;return Se(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,cd(n,this.input,function(o){return Ce(a,void 0,void 0,function(){return Se(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(u){return jn.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,s){var u=r[s],l=u.age,c=u.gender,f=u.genderProbability;return M2(L2(o,c,f),l)})]}})})},t.prototype.withFaceExpressions=function(){return new Kv(this,this.input)},t}(G2),Jv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a,i,o;return Se(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?[4,Hv(n,this.input,function(u){return jn.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return r=s.sent(),a=r.age,i=r.gender,o=r.genderProbability,[2,M2(L2(n,i,o),a)]}})})},t.prototype.withFaceExpressions=function(){return new qv(this,this.input)},t}(G2),Qv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new $v(this,this.input)},t.prototype.withFaceDescriptors=function(){return new eg(this,this.input)},t}(Yv),Zv=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new Xv(this,this.input)},t.prototype.withFaceDescriptor=function(){return new tg(this,this.input)},t}(Jv),K2=function(e){Be(t,e);function t(n,r){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a}return t}(al),eg=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r;return Se(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,cd(n,this.input,function(i){return Promise.all(i.map(function(o){return jn.faceRecognitionNet.computeFaceDescriptor(o)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(i,o){return F2(n[o],i)})]}})})},t.prototype.withFaceExpressions=function(){return new $v(this,this.input)},t.prototype.withAgeAndGender=function(){return new Qv(this,this.input)},t}(K2),tg=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r;return Se(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,Hv(n,this.input,function(i){return jn.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,F2(n,r)]}})})},t.prototype.withFaceExpressions=function(){return new Xv(this,this.input)},t.prototype.withAgeAndGender=function(){return new Zv(this,this.input)},t}(K2),q2=function(e){Be(t,e);function t(n,r,a){var i=e.call(this)||this;return i.parentTask=n,i.input=r,i.useTinyLandmarkNet=a,i}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?jn.faceLandmark68TinyNet:jn.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(al),ZW=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a,i,o,s=this;return Se(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),r=n.map(function(l){return l.detection}),this.input instanceof wt?[4,Fv(this.input,r)]:[3,3];case 2:return i=u.sent(),[3,5];case 3:return[4,Pv(this.input,r)];case 4:i=u.sent(),u.label=5;case 5:return a=i,[4,Promise.all(a.map(function(l){return s.landmarkNet.detectLandmarks(l)}))];case 6:return o=u.sent(),a.forEach(function(l){return l instanceof wt&&l.dispose()}),[2,n.map(function(l,c){return Vv(l,o[c])})]}})})},t.prototype.withFaceExpressions=function(){return new $v(this,this.input)},t.prototype.withAgeAndGender=function(){return new Qv(this,this.input)},t.prototype.withFaceDescriptors=function(){return new eg(this,this.input)},t}(q2),ej=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a,i,o;return Se(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?(r=n.detection,this.input instanceof wt?[4,Fv(this.input,[r])]:[3,3]):[2];case 2:return i=s.sent(),[3,5];case 3:return[4,Pv(this.input,[r])];case 4:i=s.sent(),s.label=5;case 5:return a=i,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return o=s.sent(),a.forEach(function(u){return u instanceof wt&&u.dispose()}),[2,Vv(n,o)]}})})},t.prototype.withFaceExpressions=function(){return new Xv(this,this.input)},t.prototype.withAgeAndGender=function(){return new Zv(this,this.input)},t.prototype.withFaceDescriptor=function(){return new tg(this,this.input)},t}(q2),$2=function(e){Be(t,e);function t(n,r){r===void 0&&(r=new ld);var a=e.call(this)||this;return a.input=n,a.options=r,a}return t}(al),tj=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r,a,i;return Se(this,function(o){switch(o.label){case 0:return n=this,r=n.input,a=n.options,a instanceof B2?[4,jn.mtcnn.forward(r,a)]:[3,2];case 1:return[2,o.sent().map(function(s){return s.detection})];case 2:if(i=a instanceof W2?function(s){return jn.tinyFaceDetector.locateFaces(s,a)}:a instanceof ld?function(s){return jn.ssdMobilenetv1.locateFaces(s,a)}:a instanceof jv?function(s){return jn.tinyYolov2.locateFaces(s,a)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(r)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return Ce(n,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a.map(function(o){return Nv({},o)}))]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new ZW(this.runAndExtendWithFaceDetections(),this.input,n)},t.prototype.withFaceExpressions=function(){return new Kv(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new Yv(this.runAndExtendWithFaceDetections(),this.input)},t}($2),nj=function(e){Be(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return Ce(this,void 0,void 0,function(){var n,r;return Se(this,function(a){switch(a.label){case 0:return[4,new tj(this.input,this.options)];case 1:return n=a.sent(),r=n[0],n.forEach(function(i){i.score>r.score&&(r=i)}),[2,r]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return Ce(n,void 0,void 0,function(){var a;return Se(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a?Nv({},a):void 0)]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new ej(this.runAndExtendWithFaceDetection(),this.input,n)},t.prototype.withFaceExpressions=function(){return new qv(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new Jv(this.runAndExtendWithFaceDetection(),this.input)},t}($2);function rj(e,t){return t===void 0&&(t=new ld),new nj(e,t)}function aj(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(a,i){return a-r[i]}).reduce(function(a,i){return a+Math.pow(i,2)},0))}(function(){function e(t,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(t)?t:[t];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,i=function(){return"person "+a++};this._labeledDescriptors=r.map(function(o){if(o instanceof Dl)return o;if(o instanceof Float32Array)return new Dl(i(),[o]);if(o.descriptor&&o.descriptor instanceof Float32Array)return new Dl(i(),[o.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,n){return n.map(function(r){return aj(r,t)}).reduce(function(r,a){return r+a},0)/(n.length||1)},e.prototype.matchDescriptor=function(t){var n=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,i=r.label;return new W0(i,n.computeMeanDistance(t,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},e.prototype.findBestMatch=function(t){var n=this.matchDescriptor(t);return n.distance<this.distanceThreshold?n:new W0("unknown",n.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(r){return Dl.fromJSON(r)});return new e(n,t.distanceThreshold)},e})();const ij={class:"wrapper"},oj={class:"upload-container"},sj={key:0,class:"preview-box"},uj=["src"],lj=["disabled"],cj=Xt({__name:"UploadSelfieView",setup(e){const{track:t}=Cr(),n=mr(),r=fe(""),a=fe(""),i=fe(null),o=fe(null),s=fe(!1);St(async()=>{var x,y,b,w,_;t("selfie_submit_view",{});const v=localStorage.getItem("access_token");if(!v)return;await jn.tinyFaceDetector.loadFromUri("/models");try{const C=((x=(await aa.get("https://krawd.id/api/v1/users/profile",{headers:{"X-Access-Token":`Bearer ${v}`}})).data)==null?void 0:x.data)||{},k=(b=(y=C.user_photos)==null?void 0:y[0])==null?void 0:b.people_face_url,E=C.users_fullname,T=(_=(w=C.user_photos)==null?void 0:w[0])==null?void 0:_.people_external_ref;if(k&&E&&T){n.replace("/photo-match");return}}catch(S){console.error("Gagal mengecek profil:",S)}const g=localStorage.getItem("captured_selfie");if(g)try{const S=await l(g);o.value=S,i.value=u(S,"image/jpeg")}catch(S){console.warn("Gagal crop wajah, pakai foto asli:",S.message),o.value=g,i.value=u(g,"image/jpeg")}finally{localStorage.removeItem("captured_selfie")}});function u(v,g){const x=atob(v.split(",")[1]),y=new ArrayBuffer(x.length),b=new Uint8Array(y);for(let w=0;w<x.length;w++)b[w]=x.charCodeAt(w);return new Blob([b],{type:g})}async function l(v){const g=new Image;g.src=v,await new Promise((I,D)=>{g.onload=I,g.onerror=D}),await jn.tinyFaceDetector.loadFromUri("/models");const x=await rj(g,new W2);if(!x)throw new Error("Wajah tidak terdeteksi");const y=x.box,b=y.width*.3,w=y.height*.5,_=y.height*.2,S=Math.max(0,y.x-b),C=Math.max(0,y.y-w),k=Math.min(g.width-S,y.width+b*2),E=Math.min(g.height-C,y.height+w+_),T=document.createElement("canvas");return T.width=k,T.height=E,T.getContext("2d").drawImage(g,S,C,k,E,0,0,k,E),T.toDataURL("image/jpeg")}function c(){n.push("/camera-capture")}async function f(){if(!i.value){n.push("/photo-match");return}t("selfie_submit",{submitted:!0,ticket_code:a}),await h(),await d()}async function d(){if(!i.value||!a.value){alert("Mohon masukkan kode invoice tiket dan pilih foto untuk diunggah.");return}s.value=!0;try{const g=`${a.value}_${Date.now()}.jpg`,x=localStorage.getItem("access_token"),y={"X-Access-Token":`Bearer ${x}`},b=new FormData;b.append("content_type","image/jpeg"),b.append("file_name",`images/${g}`),b.append("file",i.value,g);const S=(await(await fetch("https://krawd.id/api/v1/face-rekognition/upload-image",{method:"POST",headers:y,body:b})).json()).data.url_file,C={"X-Access-Token":`Bearer ${x}`,"Content-Type":"application/json"},k=JSON.stringify({image_url_hq:S,image_url_compressed:S,image_url_watermarked:S,event_name:"concert-2024",event_code:"concert-2024",index_type:"face",image_price_amount:0,people_external_ref:a.value}),E=await aa.post("https://krawd.id/api/v1/face-rekognition/index",{headers:C,body:k});if(!E.ok){const A=await E.json();throw new Error((A==null?void 0:A.message)||"Gagal mengunggah data.")}const T=await E.json();alert("Upload berhasil!"),console.log(T),n.push("/photo-match")}catch(v){console.error("Upload failed:",v),alert("Gagal mengunggah foto. Kode invoice tiket tidak valid atau foto tidak valid. Silakan coba lagi.")}finally{s.value=!1}}async function h(){const v=localStorage.getItem("access_token");if(!(!v||!r.value))try{await ht.patch("https://krawd.id/api/v1/users",{users_fullname:r.value},{headers:{"X-Access-Token":`Bearer ${v}`}})}catch(g){console.error("Gagal update nama:",g)}}function m(){t("selfie_skipped",{skipped:!0}),n.push("/photo-match")}function p(){n.back()}return(v,g)=>(ge(),Te("div",ij,[F("header",{class:"header"},[F("button",{class:"back-btn",onClick:p},"")]),F("div",oj,[g[2]||(g[2]=F("h2",null,"Upload Foto Selfie",-1)),g[3]||(g[3]=F("p",null,"Masukkan data untuk bantu pencocokan wajah kamu dengan foto konser.",-1)),zt(F("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=x=>r.value=x),placeholder:"Nama Lengkap"},null,512),[[Gn,r.value]]),zt(F("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=x=>a.value=x),placeholder:"Kode Invoice Tiket"},null,512),[[Gn,a.value]]),o.value?(ge(),Te("div",sj,[F("img",{src:o.value,alt:"Preview Foto"},null,8,uj)])):en("",!0),F("button",{class:"camera-btn",onClick:c},Ke(o.value?"Ambil Ulang":"Ambil Foto dari Kamera"),1),F("button",{class:"continue-btn",disabled:!i.value,onClick:f},Ke(s.value?"Uploading...":"Lanjutkan"),9,lj),F("button",{class:"skip-btn",onClick:m},"Lewati")])]))}}),fj=Vt(cj,[["__scopeId","data-v-d50b790f"]]),{track:dj}=Cr(),hj={name:"RegisterView",data(){return{email:"",loading:!1,errorMessage:""}},computed:{isFormValid(){return this.email&&this.email.includes("@")}},mounted(){dj("email_submit",{email:this.email})},methods:{async submitForm(){this.loading=!0,this.errorMessage="";try{const e=await fetch("https://krawd.id/api/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({users_username:this.email,users_agree_tnc_at:new Date().toISOString(),users_recieve_marketing_promotion:localStorage.getItem("receive_marketing")==="true",users_recieve_marketing_promotion_at:new Date().toISOString()})}),t=await e.json();e.ok&&t.status?this.$router.push({path:"/otp-verification",query:{email:this.email}}):this.errorMessage=t.message||"Gagal mengirim OTP. Coba lagi."}catch{this.errorMessage="Terjadi kesalahan jaringan. Silakan coba beberapa saat lagi."}finally{this.loading=!1}},goBack(){this.$router.back()}}},pj={class:"wrapper"},mj={class:"header"},vj={class:"form-container"},gj=["disabled"],yj={key:0,class:"error-message"};function bj(e,t,n,r,a,i){return ge(),Te("div",pj,[F("header",mj,[F("button",{class:"back-btn",onClick:t[0]||(t[0]=(...o)=>i.goBack&&i.goBack(...o))},"")]),F("div",vj,[t[4]||(t[4]=F("h2",null,"Masukkan Email Kamu",-1)),t[5]||(t[5]=F("p",null,"Email akan digunakan untuk mengirimkan kode OTP untuk verifikasi identitasmu.",-1)),F("form",{onSubmit:t[2]||(t[2]=Af((...o)=>i.submitForm&&i.submitForm(...o),["prevent"]))},[t[3]||(t[3]=F("label",null,"Email",-1)),zt(F("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=o=>a.email=o),required:""},null,512),[[Gn,a.email]]),F("button",{class:"submit-btn",disabled:!i.isFormValid||a.loading},Ke(a.loading?"Mengirim...":"Kirim Kode OTP"),9,gj)],32),a.errorMessage?(ge(),Te("p",yj,Ke(a.errorMessage),1)):en("",!0)])])}const xj=Vt(hj,[["render",bj],["__scopeId","data-v-07716912"]]),{track:wj}=Cr(),_j={name:"OtpVerificationView",data(){return{otp:"",timer:60,intervalId:null,email:""}},mounted(){this.startCountdown(),wj("otp_submit",{email:this.email})},beforeDestroy(){clearInterval(this.intervalId)},beforeRouteEnter(e,t,n){e.query.email?n(r=>{r.email=e.query.email}):n({path:"/ticket-data"})},methods:{startCountdown(){this.timer=60,this.intervalId=setInterval(()=>{this.timer>0?this.timer--:clearInterval(this.intervalId)},1e3)},async resendOtp(){try{(await ht.post("https://krawd.id/api/v1/users/otp/resend",{email:this.email})).data.status?(alert("OTP baru telah dikirim ke email kamu."),this.startCountdown()):alert("Gagal mengirim ulang OTP. Silakan coba lagi.")}catch(e){console.error("Error resending OTP:",e),alert("Terjadi kesalahan. Silakan coba lagi.")}},async submitOtp(){try{const e=await ht.get(`https://krawd.id/api/v1/users/otp/check?otp=${this.otp}&email=${this.email}`);if(e.data.status){const{access_token:t,refresh_token:n,access_token_expiration:r}=e.data.data;Nk({access_token:t,refresh_token:n,access_token_expiration:r});const a=localStorage.getItem("redirect_after_login")||"/upload-selfie";localStorage.removeItem("redirect_after_login"),window.location.href=a}else alert("OTP tidak valid. Silakan coba lagi.")}catch(e){console.error("Error verifying OTP:",e),alert("Terjadi kesalahan saat memverifikasi OTP.")}},goBack(){this.$router.back()}}},kj={class:"wrapper"},Ej={class:"header"},Cj={class:"otp-container"},Sj=["disabled"],Aj={class:"resend-info"},Tj={key:0};function Ij(e,t,n,r,a,i){return ge(),Te("div",kj,[F("header",Ej,[F("button",{class:"back-btn",onClick:t[0]||(t[0]=(...o)=>i.goBack&&i.goBack(...o))},"")]),F("div",Cj,[t[4]||(t[4]=F("h2",null,"Verifikasi Email",-1)),t[5]||(t[5]=F("p",null,"Masukkan kode OTP yang telah kami kirim ke email kamu.",-1)),zt(F("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>a.otp=o),maxlength:"6",placeholder:"Masukkan 6 digit kode"},null,512),[[Gn,a.otp]]),F("button",{class:"submit-btn",disabled:a.otp.length!==6,onClick:t[2]||(t[2]=(...o)=>i.submitOtp&&i.submitOtp(...o))}," Verifikasi ",8,Sj),F("div",Aj,[a.timer>0?(ge(),Te("span",Tj,"Kirim ulang OTP dalam "+Ke(a.timer)+" detik",1)):(ge(),Te("button",{key:1,class:"resend-btn",onClick:t[3]||(t[3]=(...o)=>i.resendOtp&&i.resendOtp(...o))}," Kirim Ulang OTP "))])])])}const Rj=Vt(_j,[["render",Ij],["__scopeId","data-v-e83f4075"]]);function Nj(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(a){a(n)}),(r=e.get("*"))&&r.slice().map(function(a){a(t,n)})}}}const Qc=Nj(),Oj={class:"wrapper"},Dj={class:"main-content"},Pj={class:"bottom-nav"},Fj={key:0,class:"badge"},Mj=Xt({__name:"DefaultLayout",setup(e){const t=Mw(),n=o=>t.path===o,r=fe(0),a=()=>{const o=localStorage.getItem("photo_cart");r.value=o?JSON.parse(o).length:0},i=()=>{a()};return St(()=>{a(),Qc.on("cart-updated",i)}),Fn(()=>{Qc.off("cart-updated",i)}),(o,s)=>(ge(),Te("div",Oj,[s[8]||(s[8]=F("header",{class:"main-header"},[F("img",{src:$m,alt:"Krawd Logo",class:"logo"})],-1)),F("main",Dj,[yx(o.$slots,"default",{},void 0,!0)]),F("nav",Pj,[F("button",{class:ir({active:n("/photo-match")}),onClick:s[0]||(s[0]=u=>o.$router.push("/photo-match"))},s[4]||(s[4]=[F("span",{class:"material-icons"},"home",-1)]),2),F("button",{class:ir([{active:n("/cart")},"cart-button"]),onClick:s[1]||(s[1]=u=>o.$router.push("/cart"))},[s[5]||(s[5]=F("span",{class:"material-icons cart-icon"},"shopping_cart",-1)),r.value>0?(ge(),Te("span",Fj,Ke(r.value),1)):en("",!0)],2),F("button",{class:ir({active:n("/orders")}),onClick:s[2]||(s[2]=u=>o.$router.push("/orders"))},s[6]||(s[6]=[F("span",{class:"material-icons"},"inventory",-1)]),2),F("button",{class:ir({active:n("/profile")}),onClick:s[3]||(s[3]=u=>o.$router.push("/profile"))},s[7]||(s[7]=[F("span",{class:"material-icons"},"person",-1)]),2)])]))}}),il=Vt(Mj,[["__scopeId","data-v-7e6aaa25"]]),Lj={class:"result-container"},Bj={key:0,class:"selfie-prompt"},Vj={class:"filter-tabs mt-5"},Uj=["onClick"],Wj={key:1,class:"refresh-indicator"},jj={class:"photo-grid"},Hj={class:"photo-wrapper"},zj=["src","alt"],Gj={class:"photo-info"},Kj={class:"price"},qj=["onClick","disabled"],$j={class:"photo-grid"},Xj={class:"photo-wrapper"},Yj=["src","alt"],Jj={class:"photo-info"},Qj={class:"price"},Zj=["onClick","disabled"],eH={key:4,class:"loading-spinner"},tH={key:5,class:"no-match"},nH=Xt({__name:"PhotoMatchView",setup(e){const{track:t}=Cr(),n=fe([]),r=fe([]),a=fe(1);fe(0);const i=fe(!1),o=fe(!1),s=fe(null),u=fe(!1),l=fe(null),c=fe([]),f=fe("all"),d=[{value:"all",label:"Semua"},{value:"face",label:"Foto"},{value:"souvenir",label:"Digital Poster"}],h=k=>k.toLocaleString("id-ID",{minimumFractionDigits:0}),m=()=>{const k=localStorage.getItem("photo_cart");c.value=k?JSON.parse(k):[]},p=()=>{localStorage.setItem("photo_cart",JSON.stringify(c.value)),Qc.emit("cart-updated")},v=k=>c.value.some(E=>E.product_id===k),g=k=>{if(v(k.product_id))return;let E="";k.da_type==="krawd-souvenir"&&(E=prompt("Masukkan teks kustom untuk souvenir ini (opsional):")||""),t("add_to_cart",{item_id:k.id,type:k.da_type,price:k.price}),c.value.push({product_id:k.product_id,url:k.pe_watermarked_image_url,meta_name:E,price:k.image_price_amount}),p(),alert("Item ditambahkan ke keranjang.")},x=fe(!0),y=async()=>{if(i.value||!x.value)return;i.value=!0;const k=localStorage.getItem("access_token");try{const E=await aa.get("/face-rekognition/people/events",{headers:{"X-Access-Token":`Bearer ${k}`},params:{page:a.value,page_size:10}}),{data:T}=E.data;a.value===1?n.value=T.people_events:n.value.push(...T.people_events),T.people_events.length<10?x.value=!1:a.value++}catch(E){console.error("Error fetching photos:",E)}finally{i.value=!1,o.value=!1}},b=async()=>{try{const k=await ht.get("https://krawd.id/api/v1/face-rekognition/people/events",{headers:{Authorization:"Bearer fcb87d07c97a9f08d14967372a9d5485425c00d66db550652edfadc9897ae1eb"},params:{page:1,page_size:20,image_type:"krawd-souvenir"}}),{data:E}=k.data;r.value=E.people_events||[]}catch(k){console.error("Error fetching souvenirs:",k)}},w=async()=>{var E,T,A,I,D,M,L;const k=localStorage.getItem("access_token");try{const W=await aa.get("/users/profile",{headers:{"X-Access-Token":`Bearer ${k}`}});l.value=W.data.data;const V=(A=(T=(E=l.value)==null?void 0:E.user_photos)==null?void 0:T[0])==null?void 0:A.people_face_url,H=(I=l.value)==null?void 0:I.users_fullname,X=(L=(M=(D=l.value)==null?void 0:D.user_photos)==null?void 0:M[0])==null?void 0:L.people_external_ref;(!V||!H||!X)&&(u.value=!0)}catch(W){console.error("Gagal memuat profil:",W)}},_=async()=>{o.value=!0,a.value=1,x.value=!0,await y()},S=()=>{if(console.log("scroll triggered"),!s.value)return;const{scrollTop:k,scrollHeight:E,clientHeight:T}=s.value,A=k+T>=E-50;console.log({scrollTop:k,clientHeight:T,scrollHeight:E,nearBottom:A}),A&&!i.value&&y()};St(()=>{m(),y(),b(),w(),window.addEventListener("scroll",C),t("photo_match_view")}),Bu(()=>{window.removeEventListener("scroll",C)});const C=()=>{const k=window.scrollY,E=window.innerHeight,T=document.documentElement.scrollHeight;k+E>=T-1e3&&!i.value&&y()};return(k,E)=>(ge(),$n(il,null,{default:Le(()=>[F("div",{class:"page-wrapper",onScrollPassive:S,ref_key:"scrollContainer",ref:s},[F("div",Lj,[u.value?(ge(),Te("div",Bj,[E[1]||(E[1]=F("p",null," Kamu belum mengisi data selfie atau informasi tiket. Klik tombol di bawah untuk melengkapi. ",-1)),F("button",{class:"selfie-btn",onClick:E[0]||(E[0]=T=>k.$router.push("/upload-selfie"))},"Lengkapi Data")])):en("",!0),E[6]||(E[6]=F("h2",null,"Foto Kamu di Konser",-1)),E[7]||(E[7]=F("p",null,"Temukan dan koleksi momen konser serta digital artwork pilihanmu.",-1)),F("div",Vj,[(ge(),Te(Ye,null,Dr(d,T=>F("button",{key:T.value,onClick:A=>f.value=T.value,class:ir({active:f.value===T.value})},Ke(T.label),11,Uj)),64))]),o.value?(ge(),Te("div",Wj," Sedang memuat ulang... ")):en("",!0),(f.value==="all"||f.value==="face")&&n.value.length>0?(ge(),Te(Ye,{key:2},[E[2]||(E[2]=F("div",{class:"section-label"},[F("span",{class:"material-icons",style:{"vertical-align":"middle","margin-right":"4px"}},"camera"),_t(" Foto ")],-1)),F("div",jj,[(ge(!0),Te(Ye,null,Dr(n.value,(T,A)=>(ge(),Te("div",{key:"face-"+A,class:"photo-card"},[F("div",Hj,[F("img",{src:T.pe_watermarked_image_url,alt:"Foto "+(A+1)},null,8,zj),F("div",Gj,[F("p",Kj,"Rp"+Ke(h(T.image_price_amount||2e4)),1),F("button",{class:ir(["overlay-btn",{added:v(T.product_id)}]),onClick:I=>g(T),disabled:v(T.product_id)},Ke(v(T.product_id)?" Ditambahkan":"+ Keranjang"),11,qj)])])]))),128))])],64)):en("",!0),(f.value==="all"||f.value==="souvenir")&&r.value.length>0?(ge(),Te(Ye,{key:3},[E[3]||(E[3]=F("div",{class:"section-label"},[F("span",{class:"material-icons",style:{"vertical-align":"middle","margin-right":"4px"}},"brush"),_t(" Digital Poster ")],-1)),F("div",$j,[(ge(!0),Te(Ye,null,Dr(r.value,(T,A)=>(ge(),Te("div",{key:"souvenir-"+A,class:"photo-card"},[F("div",Xj,[F("img",{src:T.pe_watermarked_image_url,alt:"Souvenir "+(A+1)},null,8,Yj),F("div",Jj,[F("p",Qj,"Rp"+Ke(h(T.image_price_amount||2e4)),1),F("button",{class:ir(["overlay-btn",{added:v(T.product_id)}]),onClick:I=>g(T),disabled:v(T.product_id)},Ke(v(T.product_id)?" Ditambahkan":"+ Keranjang"),11,Zj)])])]))),128))])],64)):en("",!0),i.value?(ge(),Te("div",eH,E[4]||(E[4]=[F("p",null,"Loading...",-1)]))):n.value.length===0&&r.value.length===0?(ge(),Te("div",tH,[E[5]||(E[5]=F("p",null,"Belum ada foto atau souvenir untuk ditampilkan.",-1)),F("button",{class:"refresh-btn",onClick:_},"Coba Lagi")])):en("",!0)])],544)]),_:1}))}}),rH=Vt(nH,[["__scopeId","data-v-66a53bf1"]]),aH={class:"cart-wrapper"},iH={class:"cart-container"},oH={key:0,class:"cart-grid"},sH=["src"],uH={class:"cart-card-footer"},lH=["onClick"],cH={key:0,class:"summary-box"},fH=["disabled"],dH={key:1,class:"empty-cart"},hH=Xt({__name:"CartView",setup(e){const{track:t}=Cr(),n=mr(),r=fe([]),a=fe(!1),i=()=>{const m=localStorage.getItem("photo_cart");r.value=m?JSON.parse(m):[]},o=()=>{localStorage.setItem("photo_cart",JSON.stringify(r.value)),Qc.emit("cart-updated")},s=m=>{r.value.splice(m,1),o()},u=async()=>{var m,p,v,g;try{t("checkout_start",{cart_items:r.value.map(w=>({id:w.id}))}),a.value=!0;const x={o_order_details:r.value.map(w=>({product_id:w.product_id,meta_name:w.meta_name}))},y=localStorage.getItem("access_token"),b=await aa.post("/orders",x,{headers:{"X-Access-Token":`Bearer ${y}`,"Content-Type":"application/json"}});(m=b.data)!=null&&m.status&&((v=(p=b.data)==null?void 0:p.data)!=null&&v.payment_url)?(r.value=[],o(),window.location.href=b.data.data.payment_url):alert("Gagal membuat pesanan. Silakan coba lagi.")}catch(x){((g=x.response)==null?void 0:g.status)===401?(alert("Sesi kamu telah habis. Silakan masuk kembali."),localStorage.removeItem("access_token"),n.push({path:"/"})):(console.error("Checkout error:",x),alert("Terjadi kesalahan saat membuat pesanan."))}finally{a.value=!1}};St(()=>{i()});const l=q(()=>r.value.reduce((m,p)=>m+p.price,0)),c=q(()=>l.value*.05),f=q(()=>(l.value+c.value)*.11),d=q(()=>l.value+c.value+f.value),h=m=>new Intl.NumberFormat("id-ID").format(m);return(m,p)=>(ge(),$n(il,null,{default:Le(()=>[F("div",aH,[F("div",iH,[p[3]||(p[3]=F("h2",null,"Keranjang Kamu",-1)),p[4]||(p[4]=F("p",null,"Foto-foto pilihanmu dari konser.",-1)),r.value.length>0?(ge(),Te("div",oH,[(ge(!0),Te(Ye,null,Dr(r.value,(v,g)=>(ge(),Te("div",{key:v.product_id,class:"cart-card"},[F("img",{src:v.url,alt:"Foto Keranjang"},null,8,sH),F("div",uH,[F("p",null,"Foto "+Ke(g+1),1),F("button",{class:"remove-btn",onClick:x=>s(g)},"Hapus",8,lH)])]))),128)),r.value.length>0?(ge(),Te("div",cH,[p[0]||(p[0]=F("h3",null,"Ringkasan Pembayaran",-1)),F("p",null,"Subtotal: Rp"+Ke(h(l.value)),1),F("p",null,"Platform Fee (5%): Rp"+Ke(h(c.value)),1),F("p",null,"PPN (11%): Rp"+Ke(h(f.value)),1),p[1]||(p[1]=F("hr",null,null,-1)),F("p",null,[F("strong",null,"Total Bayar: Rp"+Ke(h(d.value)),1)])])):en("",!0),F("button",{class:"checkout-btn",disabled:a.value,onClick:u},Ke(a.value?"Memproses...":"Lanjut ke Pembayaran"),9,fH)])):(ge(),Te("div",dH,p[2]||(p[2]=[F("p",null,"Keranjang kamu masih kosong. Yuk tambahkan foto favoritmu!",-1)])))])])]),_:1}))}}),pH=Vt(hH,[["__scopeId","data-v-cd0d20b2"]]),mH={class:"history-wrapper"},vH={class:"history-container"},gH={key:0,class:"history-grid"},yH=["onClick"],bH=["src"],xH={class:"history-card-footer"},wH={class:"text-left"},_H={class:"foto-label"},kH={class:"order-status"},EH={key:1,class:"empty-history"},CH=Xt({__name:"OrderHistoryView",setup(e){const{track:t}=Cr(),n=mr(),r=fe([]),a=async()=>{var o,s;try{const u=localStorage.getItem("access_token"),c=((s=(o=(await aa.get("/orders?page=1&page_size=10",{headers:{"X-Access-Token":`Bearer ${u}`}})).data)==null?void 0:o.data)==null?void 0:s.data)||[];r.value=c.flatMap(f=>f.o_detail.map(d=>({imageUrl:d.od_product.da_watermarked_url,orderCode:f.o_code,orderStatus:f.o_status})))}catch(u){console.error("Gagal memuat riwayat pembelian:",u)}},i=o=>{n.push(`/order/${encodeURIComponent(o)}`)};return St(()=>{a(),t("order_history_view")}),(o,s)=>(ge(),$n(il,null,{default:Le(()=>[F("div",mH,[F("div",vH,[s[1]||(s[1]=F("h2",null,"Riwayat Pembelian",-1)),s[2]||(s[2]=F("p",null,"Ini adalah foto-foto konser yang sudah kamu beli.",-1)),r.value.length>0?(ge(),Te("div",gH,[(ge(!0),Te(Ye,null,Dr(r.value,(u,l)=>(ge(),Te("div",{key:l,class:"history-card",onClick:c=>i(u.orderCode)},[F("img",{src:u.imageUrl,alt:"Foto Terbeli"},null,8,bH),F("div",xH,[F("div",wH,[F("p",_H,Ke(u.orderCode),1),F("p",kH,"Status: "+Ke(u.orderStatus),1)])])],8,yH))),128))])):(ge(),Te("div",EH,s[0]||(s[0]=[F("p",null,"Kamu belum membeli foto apapun.",-1)])))])])]),_:1}))}}),SH=Vt(CH,[["__scopeId","data-v-6837d7fb"]]),AH={class:"order-detail-wrapper"},TH={class:"order-detail-container"},IH={key:0,class:"payment-cta"},RH={key:1,class:"product-grid"},NH=["src"],OH={class:"product-info"},DH=["onClick"],PH={key:2,class:"summary-box"},FH={key:3,class:"history-log"},MH=Xt({__name:"OrderDetailView",setup(e){const{track:t}=Cr(),n=Mw(),r=mr(),a=decodeURIComponent(n.params.orderCode),i=fe({}),o=p=>new Intl.NumberFormat("id-ID").format(p),s=p=>new Date(p).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"}),u=async(p,v)=>{var x,y;const g=localStorage.getItem("access_token");try{const w=(y=(x=(await aa.get(`/orders/photos-code?order_code=${p}&product_id=${v}`,{headers:{"X-Access-Token":`Bearer ${g}`},maxBodyLength:1/0})).data)==null?void 0:x.data)==null?void 0:y.original_url;if(w){const _=document.createElement("a");_.href=w,_.download=w.split("/").pop(),_.click()}else console.error("URL untuk mengunduh tidak ditemukan"),alert("Gagal mendapatkan URL untuk unduh.")}catch(b){console.error("Gagal mengunduh file:",b),alert("Terjadi kesalahan saat mengunduh file.")}},l=()=>{var v,g;const p=(g=(v=i.value)==null?void 0:v.o_metadata)==null?void 0:g.payment_url;p?window.open(p,"_blank"):alert("Link pembayaran tidak tersedia.")},c=async()=>{var g,x,y;const p=localStorage.getItem("access_token"),v=a.split("/").pop();try{const b=await aa.get(`/orders/detail/${v}`,{headers:{"X-Access-Token":`Bearer ${p}`}});i.value=((x=(g=b.data)==null?void 0:g.data)==null?void 0:x.data)||{}}catch(b){((y=b.response)==null?void 0:y.status)===401?(alert("Sesi kamu telah habis. Silakan masuk kembali."),localStorage.removeItem("access_token"),r.push("/")):console.error("Gagal mengambil detail order:",b)}};St(()=>{c(),t("order_detail_view",{order_code:a})});const f=q(()=>{var p,v;return((v=(p=i.value)==null?void 0:p.o_detail)==null?void 0:v.reduce((g,x)=>g+x.od_total_amount,0))||0}),d=q(()=>f.value*.05),h=q(()=>(f.value+d.value)*.11),m=q(()=>f.value+d.value+h.value);return(p,v)=>(ge(),$n(il,null,{default:Le(()=>{var g,x,y;return[F("div",AH,[F("div",TH,[v[5]||(v[5]=F("h2",null,"Detail Pesanan",-1)),F("p",null,[v[0]||(v[0]=_t("Kode Pesanan: ")),F("strong",null,Ke(i.value.o_code),1)]),F("p",null,[v[1]||(v[1]=_t("Status: ")),F("strong",null,Ke(i.value.o_status),1)]),i.value.o_status==="in-payment"?(ge(),Te("div",IH,[F("button",{class:"pay-btn",onClick:l}," Lanjutkan Pembayaran ")])):en("",!0),(g=i.value.o_detail)!=null&&g.length?(ge(),Te("div",RH,[(ge(!0),Te(Ye,null,Dr(i.value.o_detail,(b,w)=>(ge(),Te("div",{key:w,class:"product-card"},[F("img",{src:b.od_product.da_watermarked_url,alt:"Foto Pembelian"},null,8,NH),F("div",OH,[F("p",null,"Foto #"+Ke(w+1),1),F("p",null,"Event: "+Ke(b.od_product.da_event_name),1),F("p",null,"Total: Rp"+Ke(o(b.od_total_amount)),1),i.value.o_status==="completed"?(ge(),Te("button",{key:0,class:"download-btn",onClick:_=>u(i.value.o_code,b.od_product.da_id)}," Unduh ",8,DH)):en("",!0)])]))),128))])):en("",!0),(x=i.value.o_detail)!=null&&x.length?(ge(),Te("div",PH,[v[2]||(v[2]=F("h3",null,"Ringkasan Biaya",-1)),F("p",null,"Subtotal: Rp"+Ke(o(f.value)),1),F("p",null,"Platform Fee (5%): Rp"+Ke(o(d.value)),1),F("p",null,"PPN (11%): Rp"+Ke(o(h.value)),1),v[3]||(v[3]=F("hr",null,null,-1)),F("p",null,[F("strong",null,"Total Bayar: Rp"+Ke(o(m.value)),1)])])):en("",!0),(y=i.value.o_histories)!=null&&y.length?(ge(),Te("div",FH,[v[4]||(v[4]=F("h3",null,"Riwayat Status",-1)),F("ul",null,[(ge(!0),Te(Ye,null,Dr(i.value.o_histories,(b,w)=>(ge(),Te("li",{key:w},[F("strong",null,Ke(b.oh_status),1),_t(" - "+Ke(s(b.created_at)),1)]))),128))])])):en("",!0)])])]}),_:1}))}}),LH=Vt(MH,[["__scopeId","data-v-3a574c0b"]]),BH={class:"profile-wrapper"},VH={class:"profile-container"},UH={class:"profile-photo"},WH=["src"],jH={class:"profile-info"},HH={class:"info-row"},zH={class:"info-row"},GH={class:"info-row"},KH=Xt({__name:"ProfileView",setup(e){const{track:t}=Cr(),n=mr(),r=fe({}),a=fe("https://photodekdev-storage.s3.amazonaws.com/images/e922bbba-c9dc-4183-bf33-2eb6905e7033.JPG"),i=async()=>{var u,l,c,f;const s=localStorage.getItem("access_token");try{const d=await aa.get("/users/profile",{headers:{"X-Access-Token":`Bearer ${s}`}});r.value=((u=d.data)==null?void 0:u.data)||{};const h=(c=(l=r.value.user_photos)==null?void 0:l[0])==null?void 0:c.people_face_url;h&&(a.value=h)}catch(d){((f=d.response)==null?void 0:f.status)===401?(alert("Sesi kamu telah habis. Silakan masuk kembali."),localStorage.removeItem("access_token"),n.push("/")):console.error("Gagal mengambil data profil:",d)}},o=()=>{t("user_logout",{user_id:localStorage.getItem("ticketNumber")}),n.push("/"),Sp(),n.push("/")};return St(()=>{t("profile_view",{user_email:localStorage.getItem("ticketNumber")}),i()}),(s,u)=>(ge(),$n(il,null,{default:Le(()=>{var l,c;return[F("div",BH,[F("div",VH,[u[3]||(u[3]=F("h2",null,"Profil Kamu",-1)),F("div",UH,[F("img",{src:a.value,alt:"Foto Selfie"},null,8,WH)]),F("div",jH,[F("div",HH,[u[0]||(u[0]=F("label",null,"Nama",-1)),F("p",null,Ke(r.value.users_fullname||"-"),1)]),F("div",zH,[u[1]||(u[1]=F("label",null,"Email",-1)),F("p",null,Ke(r.value.users_username||"-"),1)]),F("div",GH,[u[2]||(u[2]=F("label",null,"Kode Tiket",-1)),F("p",null,Ke(((c=(l=r.value.user_photos)==null?void 0:l[0])==null?void 0:c.people_external_ref)||"-"),1)])]),F("button",{class:"logout-btn",onClick:o},"Logout")])])]}),_:1}))}}),qH=Vt(KH,[["__scopeId","data-v-c0887349"]]),$H={class:"wrapper"},XH={class:"confirmation-container"},YH={class:"photo-grid"},JH=["src"],QH={__name:"OrderConfirmationView",setup(e){const t=fe([{url:"https://photodekdev-storage.s3.amazonaws.com/images/e922bbba-c9dc-4183-bf33-2eb6905e7033.JPG"},{url:"https://photodekdev-storage.s3.amazonaws.com/images/e922bbba-c9dc-4183-bf33-2eb6905e7033.JPG"},{url:"https://photodekdev-storage.s3.amazonaws.com/images/e922bbba-c9dc-4183-bf33-2eb6905e7033.JPG"}]);return(n,r)=>(ge(),Te("div",$H,[F("div",XH,[r[1]||(r[1]=F("h2",null,"Terima Kasih!",-1)),r[2]||(r[2]=F("p",{class:"subtitle"},"Pesanan kamu telah berhasil diproses ",-1)),F("div",YH,[(ge(!0),Te(Ye,null,Dr(t.value,(a,i)=>(ge(),Te("img",{key:i,src:a.url,alt:"Foto Konser"},null,8,JH))),128))]),r[3]||(r[3]=F("p",{class:"note"},"Kamu akan menerima link download melalui email yang telah kamu daftarkan.",-1)),F("button",{class:"home-btn",onClick:r[0]||(r[0]=a=>n.$router.push("/photo-match"))},"Kembali ke Beranda")])]))}},ZH=Vt(QH,[["__scopeId","data-v-8e819fbd"]]),e8={class:"contact-wrapper"},t8={class:"contact-container"},n8={__name:"ContactUsView",setup(e){const t=fe(""),n=fe(""),r=fe("");function a(){alert("Terima kasih! Pesan kamu telah dikirim. "),t.value="",n.value="",r.value=""}return(i,o)=>(ge(),Te("div",e8,[F("div",t8,[o[7]||(o[7]=F("h2",null,"Hubungi Kami",-1)),o[8]||(o[8]=F("p",null,"Jika kamu memiliki pertanyaan, masukan, atau permintaan kerja sama, silakan isi formulir di bawah ini.",-1)),F("form",{onSubmit:Af(a,["prevent"]),class:"contact-form"},[o[3]||(o[3]=F("label",null,"Nama",-1)),zt(F("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),required:""},null,512),[[Gn,t.value]]),o[4]||(o[4]=F("label",null,"Email",-1)),zt(F("input",{type:"email","onUpdate:modelValue":o[1]||(o[1]=s=>n.value=s),required:""},null,512),[[Gn,n.value]]),o[5]||(o[5]=F("label",null,"Pesan",-1)),zt(F("textarea",{rows:"5","onUpdate:modelValue":o[2]||(o[2]=s=>r.value=s),required:""},null,512),[[Gn,r.value]]),o[6]||(o[6]=F("button",{type:"submit"},"Kirim Pesan",-1))],32)])]))}},r8=Vt(n8,[["__scopeId","data-v-899858fa"]]),a8={class:"camera-wrapper"},i8={__name:"CameraCaptureView",setup(e){const{track:t}=Cr(),n=fe(null),r=fe(null),a=mr();let i=null;const o=async()=>{try{i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}),n.value.srcObject=i}catch(l){alert("Tidak dapat mengakses kamera."),console.error(l)}},s=()=>{i&&i.getTracks().forEach(l=>l.stop())},u=()=>{const l=n.value,c=r.value,f=c.getContext("2d");c.width=l.videoWidth,c.height=l.videoHeight,f.drawImage(l,0,0,c.width,c.height);const d=c.toDataURL("image/jpeg");localStorage.setItem("captured_selfie",d),s(),a.push("/upload-selfie")};return St(()=>{t("camera_capture_view",{page:"camera_capture_view"}),o()}),Fn(()=>{s()}),(l,c)=>(ge(),Te("div",a8,[F("video",{ref_key:"videoRef",ref:n,autoplay:"",playsinline:""},null,512),F("canvas",{ref_key:"canvasRef",ref:r,style:{display:"none"}},null,512),c[1]||(c[1]=F("div",{class:"face-guide"},null,-1)),F("div",{class:"bottom-bar"},[F("button",{class:"capture-btn",onClick:u},c[0]||(c[0]=[F("span",{class:"material-icons"},"photo_camera",-1)]))])]))}},o8=Vt(i8,[["__scopeId","data-v-a32965d4"]]),s8={class:"tnc-wrapper"},u8={__name:"PrivacyPolicyHomeView",setup(e){const t=mr(),n=()=>{t.push("/")};return(r,a)=>(ge(),Te("div",s8,[F("div",{class:"top-banner"},[F("img",{src:as,alt:"Krawd Logo",class:"logo",onClick:n,style:{cursor:"pointer"}}),F("button",{class:"login-btn",onClick:n},"Masuk")]),a[0]||(a[0]=Ji('<div class="policy-container" data-v-4e91390b><h2 data-v-4e91390b>KEBIJAKAN DATA PRIBADI</h2><div class="policy-content" data-v-4e91390b><div class="policy-section" data-v-4e91390b><p data-v-4e91390b>Kebijakan Data Pribadi ini berisi informasi terkait dengan pemrosesan data Pribadi Anda pengguna platform Krawd dan kami PT Ruang Antara Suara.</p><p data-v-4e91390b>Dengan menyetujui Kebijakan Data Pribadi ini, mengakses situs kami, menggunakan setiap jenis layanan yang kami sediakan, menyetujui setiap produk dan layanan yang kami sediakan, menyerahkan setiap informasi apa pun kepada kami, atau sebaliknya menunjukan persetujuan Anda kepada kami, Anda akan dianggap telah membaca dan menyetujui ketentuan dalam Kebijakan Data Pribadi ini. Kebijakan Data Pribadi menambah tapi tidak menggantikan atau mengganti setiap persetujuan lainnya yang telah Anda berikan sebelumnya kepada kami terkait dengan data pribadi Anda.</p><p data-v-4e91390b>Kami dapat merubah Kebijakan Data Pribadi ini untuk mematuhi dengan perubahan dalam hukum dan peraturan, untuk memastikan perlindungan data pribadi Anda lebih aman, atau untuk alasan-alasan lain. Kami akan memberikan informasi kepada Anda sebelum memperbaharui.</p><h3 data-v-4e91390b>1. Pengumpulan Data Pribadi</h3><p data-v-4e91390b>Selama Anda bertransaksi dengan kami, kami akan meminta Anda untuk memberikan data pribadi tertentu untuk membuat kami dapat bertransaksi dengan Anda atau untuk mengirimkan barang, layanan yang diperlukan dan/atau komunikasi yang berkaitan dengan transaksi tersebut. Hal-hal tersebut penting untuk proses kegiatan usaha kami, termasuk pengiriman pemberitahuan, layanan dan/atau produk, pengelolaan hubungan dengan pelanggan, peluncuran produk baru dan acara, tujuan perencanaan dalam kaitannya dengan produk baru di masa yang akan datang.</p><h3 data-v-4e91390b>2. Apa Saja Data Pribadi Yang Diperlukan</h3><p data-v-4e91390b>Untuk kami dapat memenuhi transaksi Platform, kami perlu memperoleh data pribadi Anda yang relevan. Data pribadi yang kami perlukan termasuk (namun tidak terbatas) pada hal-hal sebagai berikut:</p><p data-v-4e91390b>email</p><p data-v-4e91390b>nomor telepon</p><p data-v-4e91390b>nama</p><p data-v-4e91390b>rekening bank</p><p data-v-4e91390b>KTP</p><p data-v-4e91390b>foto/gambar muka</p><p data-v-4e91390b>data biometrik dari muka</p><h3 data-v-4e91390b>3. Kapan dan Bagaimana Kami Meminta Data Pribadi Anda</h3><p data-v-4e91390b>Kami akan meminta data pribadi Anda secara melalui:</p><p data-v-4e91390b>Anda berikan melalui Platform;</p><p data-v-4e91390b>Ketika Anda mendaftarkan minat atau keinginan Anda berlangganan terhadap informasi produk dan/atau layanan kami atau publikasi kami (misalnya newsletter);</p><p data-v-4e91390b>Berpartisipasi dalam setiap survey kami, kompetisi, kontes, undian berhadiah atau acara promosi atau penawaran;</p><p data-v-4e91390b>Memberikan tanggapan terhadap setiap materi pemasaran yang kami kirimkan;</p><p data-v-4e91390b>Mengunjungi kantor kami;</p><p data-v-4e91390b>Menyampaikan saran kepada kami (melalui situs kami atau dalam bentuk dokumen tertulis); dan/atau</p><p data-v-4e91390b>Ketika Anda menyerahkan data pribadi Anda kepada kami untuk setiap alasan lainnya.</p><p data-v-4e91390b>Selain data pribadi yang kami peroleh langsung dari Anda (sebagaimana diuraikan di atas), kami juga dapat memperoleh data pribadi Anda dari pihak ketiga dimana kami bertransaksi dengan atau yang terkait dengan Anda dan dari sumber lain di mana Anda telah memberikan persetujuan untuk mengungkapkan informasi yang berhubungan dengan Anda, dan/atau dimana secara hukum diizinkan.</p><p data-v-4e91390b>Jika Anda menyediakan setiap data pribadi Anda yang terkait dengan pihak ketiga (seperti informasi mengenai pasangan, anak, orangtua, dan/atau rekan kerja), dengan mencantumkan beberapa informasi kepada kami, Anda menyatakan kepada kami bahwa Anda telah memperoleh persetujuan dari pihak ketiga tersebut untuk menyediakan data pribadi tersebut kepada kami untuk maksud dan tujuan tersebut.</p><p data-v-4e91390b>Mohon agar Anda berhati-hati ketika menyerahkan informasi kepada kami, khususnya pada saat mengisi kolom teks atau mengunggah dokumen dan materi lainnya. Beberapa layanan kami dilakukan secara otomatis dan kami mungkin tidak dapat mengetahui bahwa Anda secara tidak sengaja memberikan informasi yang salah atau sensitif kepada kami. Anda harus memastikan bahwa semua data pribadi yang Anda berikan kepada kami sudah lengkap, akurat, tepat dan benar.</p><p data-v-4e91390b>Dalam meningkatkan layanan kami kepada Anda, kami sesekali menggunakan perangkat pelacakan otomatis seperti cookie. Cookie adalah bagian kecil dari data yang dikirimkan oleh server situs kami kepada situs internet Anda ketika anda mengunjungi bagian tertentu situs kami dan penggunaan hal tersebut dimaksud untuk dapat membantu pemahaman kami mengenai ketertarikan Anda pada situs web kami.</p><p data-v-4e91390b>Kami dapat menggunakan cookies untuk mempersonalisasi konten, rekomendasi, iklan dan komunikasi yang diberikan kepada Anda agar lebih relevan dengan ketertarikan Anda. Seperti contoh, Anda dapat melihat iklan dari produk yang baru Anda lihat dalam situs kami. Mohon dicatat bahwa cookie tidak mengidentifikasi pengguna secara pribadi meskipun cookie mengidentifikasikan internet pengguna.</p><p data-v-4e91390b>Anda selalu dapat memilih untuk tidak mengaktifkan penyimpanan cookie dari komputer Anda dengan mengubah pengaturan internet Anda Akan tetapi, tidak mengaktifkan cookies, dapat mengakibatkan hasil berupa keterbatasan pengalaman fungsionalitas dan layanan kami dan dalam beberapa peristiwa dapat berarti bahwa kami tidak dapat menyediakan layanan kepada Anda atau bagian dari layanan, seperti yang anda minta.</p><p data-v-4e91390b>Beberapa mitra bisnis kami yang kontennya dicantumkan ke dalam atau ditautkan dari situs kami dapat juga menggunakan cookies. Namun, kami tidak memiliki akses atau pengendalian penuh atas cookies dan situs-situs tersebut.</p><h3 data-v-4e91390b>4. Tujuan Permintaan Data Pribadi</h3><p data-v-4e91390b>Penyediaan data pribadi Anda akan diproses oleh kami untuk, diantaranya, tujuan berikut sebagaimana berlaku:</p><p data-v-4e91390b>Memproses transaksi dalam Platform;</p><p data-v-4e91390b>Pengiriman pemberitahuan, layanan, atau produk-produk dan pemasaran seperti layanan atau produk-produk kepada anda;</p><p data-v-4e91390b>Tujuan yang utamanya untuk menyediakan setiap layanan dalam Platform;</p><p data-v-4e91390b>Melakukan pemasaran dan memahami aktivitas pelanggan sehubungan dengan layanan dan produk-produk kami terkait;</p><p data-v-4e91390b>Mengatur administrasi dan kegiatan operasional usaha kami dan mematuhi dengan kebijakan internal, prosedur, dan pencatatannya;</p><p data-v-4e91390b>Memungkinkan kami untuk mengirimkan informasi melalui surel, peralatan telekomunikasi (seperti telepon atau pesan teks) atau media sosial tentang produk-produk dan layanan yang kami tawarkan melalui Afiliasi kami, yang kami harapkan sesuai kebutuhan Anda.</p><p data-v-4e91390b>Untuk menciptakan dan mengelola setiap hubungan bisnis lebih baik dengan Anda, termasuk melalui pelatihan pegawai dan tujuan jaminan kualitas, khususnya dalam hubungan dengan staf hubungan pelanggan melalui telepon, surel, dan pusat dukungan kami lainnya, dan untuk menganalisa, menyelidiki, menangani, atau menyelesaikan permasalahan keamanan atau setiap kerentanan apapun;</p><p data-v-4e91390b>Untuk memproses setiap komunikasi yang anda kirimkan kepada kami (misalnya menjawab setiap pertanyaan dan menangani setiap keluhan pelanggan dan memberikan saran);</p><p data-v-4e91390b>Menanggapi pertanyaan anda;</p><p data-v-4e91390b>Menyediakan kepada anda produk-produk dan/atau layanan yang anda minta;</p><p data-v-4e91390b>Memberitahukan kepada anda tentang manfaat dan perubahan fitur pada produk-produk dan/atau layanan kami;</p><p data-v-4e91390b>mencegah, mendeteksi, dan menyelidiki kejahatan dan menganalisa dan mengelolan risiko komersial; dan</p><p data-v-4e91390b>Setiap tujuan yang wajar terkait dengan hal-hal tersebut diatas.</p><h3 data-v-4e91390b>5. Kegagalan Pemberian Data Pribadi</h3><p data-v-4e91390b>Kegagalan untuk menyediakan data pribadi yang diperlukan dapat:</p><p data-v-4e91390b>Mengakibatkan kami tidak dapat memproses transaksi dalam Platform;</p><p data-v-4e91390b>Mengakibatkan kami tidak dapat memberikan pemberitahuan, layanan, dan/atau produk-produk yang diminta;</p><p data-v-4e91390b>Mempengaruhi kemampuan kami untuk memproses yang berkaitan dengan penyediaan produk-produk dan/atau layanan;</p><p data-v-4e91390b>Mengakibatkan kami tidak dapat memberikan informasi terbaru terkait produk-produk, layanan, promosi, acara-acara, dan/atau peluncuran produk; dan/atau</p><p data-v-4e91390b>Mengakibatkan Anda tidak dapat berpartisipasi dalam kontes, promosi, atau aktivitas penukaran pada kegiatan-kegiatan yang dilakukan oleh kami.</p><h3 data-v-4e91390b>6. Pengungkapan Data Pribadi Anda</h3><p data-v-4e91390b>Data pribadi yang Anda berikan kepada kami akan kami rahasiakan tetapi dengan ini Anda menyetujui dan mengizinkan kami untuk memberikan atau mengungkapkan data pribadi Anda sesuai dengan kategori para pihak sebagai berikut:</p><p data-v-4e91390b>Penyedia Produk dalam Platform;</p><p data-v-4e91390b>Perusahaan-perusahaan dan/atau organisasi-organisasi yang menjadi agen, kontraktor, dan/atau penyedia layanan kami;</p><p data-v-4e91390b>Afiliasi kami untuk tujuan yang terkait dengan tujuan untuk mengumpulkan dan menggunakan informasi pribadi anda;</p><p data-v-4e91390b>Pihak lain yang mengetahui kepada siapa anda sebelumnya telah memberikan persetujuan anda secara tertulis;</p><p data-v-4e91390b>Auditor, konsultan, akuntan, pengacara atau penasihat keuangan atau penasihat professional lainnya;</p><p data-v-4e91390b>Perusahaanperusahaan dan/atau organisasiorganisasi yang membantu kami dalam memproses dan/atau sebaliknya memenuhi transaksi dan memberi anda produk-produk dan/atau layanan yang telah anda pesan atau untuk berlangganan;</p><p data-v-4e91390b>Pemasaran dan komunikasi dengan anda terkait dengan produk-produk dan layanan yang kami tawarkan, Afiliasi kami, dan juga agen resmi kami, dan/atau</p><p data-v-4e91390b>Pemerintah yang relevan, badan hukum atau otoritas berwenang atau lembaga penegak hukum, untuk memenuhi setiap ketentuan hukum, peraturan, pedoman, dan peraturan atau skema yang diberlakukan oleh pemerintah untuk keselamatan, keamanan, dan kepatuhan hukum.</p><h3 data-v-4e91390b>7. Pemasaran Langsung</h3><p data-v-4e91390b>Ketika anda telah memberikan persetujuan kepada kami, kami dapat menggunakan data pribadi anda untuk memberi informasi kepada anda tentang layanan afiliasi kami dan/atau produk-produk kami, yang mungkin menarik atau memberikan manfaat bagi anda, kecuali anda kemudian menarik persetujuan anda. Mohon dicatat bahwa kami hanya akan mengungkapkan data pribadi anda jika anda telah berlangganan layanan produk tertentu yang memerlukan pengungkapan tersebut dan/atau jika persetujuan anda telah diperoleh.</p><h3 data-v-4e91390b>8. Integritas Data Pribadi</h3><p data-v-4e91390b>Kami akan mengambil seluruh tindakan yang wajar untuk memastikan bahwa data pribadi yang diperoleh, digunakan atau diungkapkan adalah akurat, lengkap, dan tidak menyesatkan. Anda harus memberikan informasi kepada Kami mengenai perubahan terhadap data pribadi Anda yang telah Anda berikan.</p><h3 data-v-4e91390b>9. Keamanan Data Pribadi</h3><p data-v-4e91390b>Kami melakukan tindakan keamanan dan proteksi data pribadi anda dengan sangat serius. Kami akan mengambil semua tindakan yang wajar untuk melindungi data pribadi anda agar tidak terjadi kehilangan, penyalahgunaan, perubahan, akses atau pengungkapan yang tidak sah atau tidak disengaja, perubahan atau penghancuran data. Kami tidak akan menahan data pribadi anda lebih lama dari waktu yang diperlukan yang wajar dan akan mengambil langkah-langkah yang tepat untuk menghancurkan atau menghapus data identitas secara permanen.</p><h3 data-v-4e91390b>10. Pengiriman dan Pembagian Data</h3><p data-v-4e91390b>Jika kami menganggap perlu atau sesuai untuk tujuan penyimpanan data atau memproses atau menyediakan setiap layanan atau produk-produk apa pun atas nama kami kepada Anda, kami dapat mengirimkan data pribadi Anda kepada Afiliasi, atau penyedia jasa lain yang berlokasi di negara berbeda dari Anda. Kami berjanji untuk menangani data pribadi Anda di negara yang dimana dikirimkan dengan syarat kerahasiaan dan tingkat keamanan yang tingkatnya sama dengan negara dari dimana dikumpulkan. Anda menyetujui dan setuju untuk pengiriman, penyimpanan atau pemrosesan tersebut untuk tujuan apa pun yang tercantum diatas.</p><h3 data-v-4e91390b>11. Cara menghubungi kami  Akses dan Koreksi, Penarikan Persetujuan</h3><p data-v-4e91390b>Kami dapat berdasarkan permintaan tertulis dari Anda untuk memberikan akses data pribadi Anda dan mempertimbangkan permintaan untuk melakukan koreksi dan pelaksanaan hak Anda berdasarkan hukum dan peraturan yang berlaku. Dalam keadaan seperti itu dapat mengirimkan permintaan anda ke:</p><p data-v-4e91390b>email: contact@krawd.id</p><p data-v-4e91390b>Dengan mencantumkan permintaan tersebut, anda memberikan konfirmasi bahwa hal tersebut sesuai dengan data pribadi dan menjamin bahwa jika anda mengajukan permintaan ini atas nama orang lain, anda diberi wewenang oleh orang tersebut untuk mengajukan permintaan tersebut dan memberikan informasinya sesuai dengan tujuan tersebut. Anda bersedia mengganti kerugian yang dialami Kami sehubungan dengan pengenaan denda, kewajiban, klaim, tuntutan, kerugian, dan kerusakan akibat dari pelanggaran jaminan tersebut. Anda menyatakan bahwa informasi yang diberikan di dalamnya dan dengan permintaan tersebut adalah benar dalam segala hal, dan setuju bahwa informasi yang diserahkan, digunakan, dan diungkapkan oleh kami, dan afiliasinya, dan/atau penyedia layanan dari pihak ketiga sesuai dengan Kebijakan Perlindungan Data ini.</p><p data-v-4e91390b>Kami akan melakukan upaya yang wajar untuk memenuhi permintaan Anda sebagaimana diizinkan dalam hukum dan peraturan.</p><p data-v-4e91390b>Mohon dicatat bahwa dalam situasi tertentu kami mungkin akan menahan akses data pribadi Anda. Namun demikian, kami akan menyampaikan informasi kepada Anda mengenai alasan mengapa kami tidak dapat menyetujui permintaan Anda.</p><p data-v-4e91390b>Jika Anda menarik persetujuan Anda untuk setiap atau seluruh penggunaan data pribadi Anda, kami mungkin tidak dalam posisi untuk dapat melanjutkan menyediakan produk dan layanan kami kepada Anda. Hal tersebut dapat membutuhkan waktu untuk penarikan Anda dalam database kami.</p><p data-v-4e91390b>Mohon dicatat bahwa meskipun anda menarik persetujuan anda untuk menerima informasi pemasaran dan promosi, kami masih dapat menghubungi anda untuk tujuan lain sehubungan dengan produk-produk dan layanan kami yang mungkin sesuai dengan anda.</p><p data-v-4e91390b>Anda telah setuju bahwa pemrosesan data pribadi Anda tidak dapat ditunda dan/atau dibatasi.</p></div></div></div><footer class="footer" data-v-4e91390b><img src="'+as+'" alt="Krawd Logo" class="footer-logo" data-v-4e91390b><div class="footer-links" data-v-4e91390b><a href="/contact" data-v-4e91390b>Contact Us</a><a href="/landing-privacy-policy" data-v-4e91390b>Privacy Policy</a></div><div class="social-icons" data-v-4e91390b><i class="icon-instagram" data-v-4e91390b></i><i class="icon-x" data-v-4e91390b></i><i class="icon-facebook" data-v-4e91390b></i><i class="icon-tiktok" data-v-4e91390b></i><i class="icon-youtube" data-v-4e91390b></i></div><p data-v-4e91390b>2025 KRAWD. Design by studiomoch.</p></footer>',2))]))}},l8=Vt(u8,[["__scopeId","data-v-4e91390b"]]),c8="modulepreload",f8=function(e){return"/"+e},q0={},d8=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(u=>{if(u=f8(u),u in q0)return;q0[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":c8,l||(f.as="script"),f.crossOrigin="",f.href=u,s&&f.setAttribute("nonce",s),document.head.appendChild(f),l)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},h8={class:"contact-wrapper"},p8={class:"contact-container"},m8=["disabled"],v8={__name:"ContactView",setup(e){const t=fe(""),n=fe(""),r=fe(""),a=fe(!1),i=mr();let o=null;const s=Qn().appContext.app;St(async()=>{const{VueReCaptcha:c,useReCaptcha:f}=await d8(async()=>{const{VueReCaptcha:h,useReCaptcha:m}=await Promise.resolve().then(()=>x9);return{VueReCaptcha:h,useReCaptcha:m}},void 0);s.use(c,{siteKey:"YOUR_SITE_KEY"}),await Jn();const{executeRecaptcha:d}=f();d?o=d:console.error("executeRecaptcha not available")});const u=async()=>{if(!o){alert("Captcha belum siap. Silakan tunggu beberapa detik.");return}a.value=!0;try{const c=await o("contact_us"),f={cu_metadata:"{}",cu_email:n.value,cu_name:t.value,cu_content:r.value,recaptcha_token:c},d={method:"post",url:"http://krawd.id/api/v1/contact-us",headers:{Authorization:"Bearer e25d71dedf2856b9b23d7f0d1f050c3d80e632f0515016c34207c3287d935862","Content-Type":"application/json"},data:JSON.stringify(f)},h=await ht.request(d);console.log(h.data),h.data.status?(alert("Pesan berhasil dikirim!"),t.value="",n.value="",r.value=""):alert("Gagal mengirim pesan. Silakan coba lagi.")}catch(c){console.error(c),alert("Terjadi kesalahan saat mengirim pesan.")}finally{a.value=!1}},l=()=>{i.push("/")};return(c,f)=>(ge(),Te("div",h8,[F("div",{class:"top-banner"},[F("img",{src:as,alt:"Krawd Logo",class:"logo",onClick:l,style:{cursor:"pointer"}}),F("button",{class:"login-btn",onClick:l},"Masuk")]),F("div",p8,[f[6]||(f[6]=F("h2",null,"Hubungi Kami",-1)),f[7]||(f[7]=F("p",null,"Jika ada pertanyaan atau masukan, silakan hubungi kami melalui form di bawah ini.",-1)),F("form",{onSubmit:Af(u,["prevent"])},[f[3]||(f[3]=F("label",{for:"name"},"Nama Lengkap",-1)),zt(F("input",{type:"text",id:"name","onUpdate:modelValue":f[0]||(f[0]=d=>t.value=d),required:""},null,512),[[Gn,t.value]]),f[4]||(f[4]=F("label",{for:"email"},"Email",-1)),zt(F("input",{type:"email",id:"email","onUpdate:modelValue":f[1]||(f[1]=d=>n.value=d),required:""},null,512),[[Gn,n.value]]),f[5]||(f[5]=F("label",{for:"content"},"Pesan",-1)),zt(F("textarea",{id:"content",rows:"5","onUpdate:modelValue":f[2]||(f[2]=d=>r.value=d),required:""},null,512),[[Gn,r.value]]),F("button",{type:"submit",disabled:a.value},Ke(a.value?"Mengirim...":"Kirim Pesan"),9,m8)],32)]),f[8]||(f[8]=Ji('<footer class="footer" data-v-3a80c93b><img src="'+as+'" alt="Krawd Logo" class="footer-logo" data-v-3a80c93b><div class="footer-links" data-v-3a80c93b><a href="/contact" data-v-3a80c93b>Contact Us</a><a href="/landing-privacy-policy" data-v-3a80c93b>Privacy Policy</a></div><div class="social-icons" data-v-3a80c93b><i class="icon-instagram" data-v-3a80c93b></i><i class="icon-x" data-v-3a80c93b></i><i class="icon-facebook" data-v-3a80c93b></i><i class="icon-tiktok" data-v-3a80c93b></i><i class="icon-youtube" data-v-3a80c93b></i></div><p data-v-3a80c93b>2025 KRAWD. Design by studiomoch.</p></footer>',1))]))}},g8=Vt(v8,[["__scopeId","data-v-3a80c93b"]]),X2=XR({history:CR("/"),routes:[{path:"/",name:"home",component:vM},{path:"/contact",name:"contact",component:g8},{path:"/landing-privacy-policy",name:"landing_privacy_policy",component:l8},{path:"/event",name:"event",component:bM},{path:"/privacy-policy",name:"privacy_policy",component:IM},{path:"/upload-selfie",name:"upload_selfie",component:fj},{path:"/camera-capture",name:"camera_capture",component:o8},{path:"/ticket-data",name:"ticket_data",component:xj},{path:"/otp-verification",name:"otp_verification",component:Rj},{path:"/photo-match",name:"photo_match",component:rH},{path:"/cart",name:"cart",component:pH},{path:"/orders",name:"orders",component:SH},{path:"/order/:orderCode",name:"order_detail",component:LH,props:!0},{path:"/order-confirmation",name:"order_confirmation",component:ZH},{path:"/profile",name:"profile",component:qH},{path:"/main",name:"main",component:qP},{path:"/contact-us",name:"contact_us",component:r8},{path:"/capture",name:"capture",component:WF},{path:"/my-photos",name:"my_photos",component:PF}]});var Ar={},Nh={},ga={},ya={},$0;function Y2(){if($0)return ya;$0=1;var e=ya&&ya.__awaiter||function(r,a,i,o){function s(u){return u instanceof i?u:new i(function(l){l(u)})}return new(i||(i=Promise))(function(u,l){function c(h){try{d(o.next(h))}catch(m){l(m)}}function f(h){try{d(o.throw(h))}catch(m){l(m)}}function d(h){h.done?u(h.value):s(h.value).then(c,f)}d((o=o.apply(r,a||[])).next())})},t=ya&&ya.__generator||function(r,a){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(h){return f([d,h])}}function f(d){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(i=0)),i;)try{if(o=1,s&&(u=d[0]&2?s.return:d[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,d[1])).done)return u;switch(s=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,s=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){i.label=d[1];break}if(d[0]===6&&i.label<u[1]){i.label=u[1],u=d;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(d);break}u[2]&&i.ops.pop(),i.trys.pop();continue}d=a.call(r,i)}catch(h){d=[6,h],s=0}finally{o=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.ReCaptchaInstance=void 0;var n=function(){function r(a,i,o){this.siteKey=a,this.recaptchaID=i,this.recaptcha=o,this.styleContainer=null}return r.prototype.execute=function(a){return e(this,void 0,void 0,function(){var i;return t(this,function(o){switch(o.label){case 0:return this.recaptcha.enterprise?[4,this.recaptcha.enterprise.execute(this.recaptchaID,{action:a})]:[3,2];case 1:return i=o.sent(),[3,4];case 2:return[4,this.recaptcha.execute(this.recaptchaID,{action:a})];case 3:i=o.sent(),o.label=4;case 4:return[2,i]}})})},r.prototype.getSiteKey=function(){return this.siteKey},r.prototype.hideBadge=function(){this.styleContainer===null&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},r.prototype.showBadge=function(){this.styleContainer!==null&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},r}();return ya.ReCaptchaInstance=n,ya}var X0;function y8(){if(X0)return ga;X0=1;var e=ga&&ga.__assign||function(){return e=Object.assign||function(a){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(a[u]=i[u])}return a},e.apply(this,arguments)};Object.defineProperty(ga,"__esModule",{value:!0}),ga.getInstance=ga.load=void 0;var t=Y2(),n;(function(a){a[a.NOT_LOADED=0]="NOT_LOADED",a[a.LOADING=1]="LOADING",a[a.LOADED=2]="LOADED"})(n||(n={}));var r=function(){function a(){}return a.load=function(i,o){if(o===void 0&&(o={}),typeof document>"u")return Promise.reject(new Error("This is a library for the browser!"));if(a.getLoadingState()===n.LOADED)return a.instance.getSiteKey()===i?Promise.resolve(a.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(a.getLoadingState()===n.LOADING)return i!==a.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(u,l){a.successfulLoadingConsumers.push(function(c){return u(c)}),a.errorLoadingRunnable.push(function(c){return l(c)})});a.instanceSiteKey=i,a.setLoadingState(n.LOADING);var s=new a;return new Promise(function(u,l){s.loadScript(i,o.useRecaptchaNet||!1,o.useEnterprise||!1,o.renderParameters?o.renderParameters:{},o.customUrl).then(function(){a.setLoadingState(n.LOADED);var c=s.doExplicitRender(grecaptcha,i,o.explicitRenderParameters?o.explicitRenderParameters:{},o.useEnterprise||!1),f=new t.ReCaptchaInstance(i,c,grecaptcha);a.successfulLoadingConsumers.forEach(function(d){return d(f)}),a.successfulLoadingConsumers=[],o.autoHideBadge&&f.hideBadge(),a.instance=f,u(f)}).catch(function(c){a.errorLoadingRunnable.forEach(function(f){return f(c)}),a.errorLoadingRunnable=[],l(c)})})},a.getInstance=function(){return a.instance},a.setLoadingState=function(i){a.loadingState=i},a.getLoadingState=function(){return a.loadingState===null?n.NOT_LOADED:a.loadingState},a.prototype.loadScript=function(i,o,s,u,l){var c=this;o===void 0&&(o=!1),s===void 0&&(s=!1),u===void 0&&(u={}),l===void 0&&(l="");var f=document.createElement("script");f.setAttribute("recaptcha-v3-script",""),f.setAttribute("async",""),f.setAttribute("defer","");var d="https://www.google.com/recaptcha/api.js";o?s?d="https://recaptcha.net/recaptcha/enterprise.js":d="https://recaptcha.net/recaptcha/api.js":s&&(d="https://www.google.com/recaptcha/enterprise.js"),l&&(d=l),u.render&&(u.render=void 0);var h=this.buildQueryString(u);return f.src=d+"?render=explicit"+h,new Promise(function(m,p){f.addEventListener("load",c.waitForScriptToLoad(function(){m(f)},s),!1),f.onerror=function(v){a.setLoadingState(n.NOT_LOADED),p(v)},document.head.appendChild(f)})},a.prototype.buildQueryString=function(i){var o=Object.keys(i);return o.length<1?"":"&"+Object.keys(i).filter(function(s){return!!i[s]}).map(function(s){return s+"="+i[s]}).join("&")},a.prototype.waitForScriptToLoad=function(i,o){var s=this;return function(){window.grecaptcha===void 0?setTimeout(function(){s.waitForScriptToLoad(i,o)},a.SCRIPT_LOAD_DELAY):o?window.grecaptcha.enterprise.ready(function(){i()}):window.grecaptcha.ready(function(){i()})}},a.prototype.doExplicitRender=function(i,o,s,u){var l=e({sitekey:o},s);return s.container?u?i.enterprise.render(s.container,l):i.render(s.container,l):u?i.enterprise.render(l):i.render(l)},a.loadingState=null,a.instance=null,a.instanceSiteKey=null,a.successfulLoadingConsumers=[],a.errorLoadingRunnable=[],a.SCRIPT_LOAD_DELAY=25,a}();return ga.load=r.load,ga.getInstance=r.getInstance,ga}var Y0;function b8(){return Y0||(Y0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReCaptchaInstance=e.getInstance=e.load=void 0;var t=y8();Object.defineProperty(e,"load",{enumerable:!0,get:function(){return t.load}}),Object.defineProperty(e,"getInstance",{enumerable:!0,get:function(){return t.getInstance}});var n=Y2();Object.defineProperty(e,"ReCaptchaInstance",{enumerable:!0,get:function(){return n.ReCaptchaInstance}})}(Nh)),Nh}var Oh={exports:{}},Dh={};/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ls=Symbol(""),Xo=Symbol(""),fd=Symbol(""),Su=Symbol(""),ng=Symbol(""),vi=Symbol(""),rg=Symbol(""),ag=Symbol(""),dd=Symbol(""),hd=Symbol(""),Cs=Symbol(""),pd=Symbol(""),ig=Symbol(""),md=Symbol(""),vd=Symbol(""),gd=Symbol(""),yd=Symbol(""),bd=Symbol(""),xd=Symbol(""),og=Symbol(""),sg=Symbol(""),ol=Symbol(""),Au=Symbol(""),wd=Symbol(""),_d=Symbol(""),cs=Symbol(""),Ss=Symbol(""),kd=Symbol(""),Zc=Symbol(""),J2=Symbol(""),ef=Symbol(""),Tu=Symbol(""),Q2=Symbol(""),Z2=Symbol(""),Ed=Symbol(""),eC=Symbol(""),tC=Symbol(""),Cd=Symbol(""),ug=Symbol(""),no={[ls]:"Fragment",[Xo]:"Teleport",[fd]:"Suspense",[Su]:"KeepAlive",[ng]:"BaseTransition",[vi]:"openBlock",[rg]:"createBlock",[ag]:"createElementBlock",[dd]:"createVNode",[hd]:"createElementVNode",[Cs]:"createCommentVNode",[pd]:"createTextVNode",[ig]:"createStaticVNode",[md]:"resolveComponent",[vd]:"resolveDynamicComponent",[gd]:"resolveDirective",[yd]:"resolveFilter",[bd]:"withDirectives",[xd]:"renderList",[og]:"renderSlot",[sg]:"createSlots",[ol]:"toDisplayString",[Au]:"mergeProps",[wd]:"normalizeClass",[_d]:"normalizeStyle",[cs]:"normalizeProps",[Ss]:"guardReactiveProps",[kd]:"toHandlers",[Zc]:"camelize",[J2]:"capitalize",[ef]:"toHandlerKey",[Tu]:"setBlockTracking",[Q2]:"pushScopeId",[Z2]:"popScopeId",[Ed]:"withCtx",[eC]:"unref",[tC]:"isRef",[Cd]:"withMemo",[ug]:"isMemoSame"};function nC(e){Object.getOwnPropertySymbols(e).forEach(t=>{no[t]=e[t]})}const x8={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},w8={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},_8={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},k8={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},Jt={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function rC(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Jt}}function fs(e,t,n,r,a,i,o,s=!1,u=!1,l=!1,c=Jt){return e&&(s?(e.helper(vi),e.helper(io(e.inSSR,l))):e.helper(ao(e.inSSR,l)),o&&e.helper(bd)),{type:13,tag:t,props:n,children:r,patchFlag:a,dynamicProps:i,directives:o,isBlock:s,disableTracking:u,isComponent:l,loc:c}}function ci(e,t=Jt){return{type:17,loc:t,elements:e}}function cr(e,t=Jt){return{type:15,loc:t,properties:e}}function Nt(e,t){return{type:16,loc:Jt,key:Fe(e)?Ue(e,!0):e,value:t}}function Ue(e,t=!1,n=Jt,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function E8(e,t){return{type:5,loc:t,content:Fe(e)?Ue(e,!1,t):e}}function _r(e,t=Jt){return{type:8,loc:t,children:e}}function Ft(e,t=[],n=Jt){return{type:14,loc:n,callee:e,arguments:t}}function ro(e,t=void 0,n=!1,r=!1,a=Jt){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:a}}function tf(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Jt}}function aC(e,t,n=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:Jt}}function iC(e){return{type:21,body:e,loc:Jt}}function C8(e){return{type:22,elements:e,loc:Jt}}function S8(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:Jt}}function A8(e,t){return{type:24,left:e,right:t,loc:Jt}}function T8(e){return{type:25,expressions:e,loc:Jt}}function I8(e){return{type:26,returns:e,loc:Jt}}function ao(e,t){return e||t?dd:hd}function io(e,t){return e||t?rg:ag}function Sd(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(ao(r,e.isComponent)),t(vi),t(io(r,e.isComponent)))}const J0=new Uint8Array([123,123]),Q0=new Uint8Array([125,125]);function Z0(e){return e>=97&&e<=122||e>=65&&e<=90}function tr(e){return e===32||e===10||e===9||e===12||e===13}function qa(e){return e===47||e===62||tr(e)}function nf(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const hn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class R8{constructor(t,n){this.stack=t,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=J0,this.delimiterClose=Q0,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=J0,this.delimiterClose=Q0}getPos(t){let n=1,r=t+1;for(let a=this.newlines.length-1;a>=0;a--){const i=this.newlines[a];if(t>i){n=a+2,r=t-i;break}}return{column:r,line:n,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?qa(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||tr(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===hn.TitleEnd||this.currentSequence===hn.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===hn.Cdata[this.sequenceIndex]?++this.sequenceIndex===hn.Cdata.length&&(this.state=28,this.currentSequence=hn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===hn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,n){this.enterRCDATA(t,n),this.state=31}enterRCDATA(t,n){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=n}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Z0(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){qa(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(qa(t)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(nf("</"+n),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){tr(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Z0(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||tr(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):tr(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):tr(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||qa(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||qa(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||qa(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||qa(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||qa(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):tr(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):tr(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,n){(t===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){tr(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=hn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===hn.ScriptEnd[3]?this.startSpecial(hn.ScriptEnd,4):t===hn.StyleEnd[3]?this.startSpecial(hn.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===hn.TitleEnd[3]?this.startSpecial(hn.TitleEnd,4):t===hn.TextareaEnd[3]?this.startSpecial(hn.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===hn.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){}}const N8={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},O8={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Yp(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function Xi(e,t){const n=Yp("MODE",t),r=Yp(e,t);return n===3?r===!0:r!==!1}function ds(e,t,n,...r){return Xi(e,t)}function D8(e,t,n,...r){if(Yp(e,t)==="suppress-warning")return;const{message:i,link:o}=O8[e],s=`(deprecation ${e}) ${typeof i=="function"?i(...r):i}${o?`
  Details: ${o}`:""}`,u=new SyntaxError(s);u.code=e,n&&(u.loc=n),t.onWarn(u)}function lg(e){throw e}function oC(e){}function gt(e,t,n,r){const a=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(a));return i.code=e,i.loc=t,i}const P8={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},F8={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function M8(e,t,n=!1,r=[],a=Object.create(null)){}function L8(e,t,n){return!1}function B8(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let n=t.length;for(;n--;){const r=t[n];if(r.type==="AssignmentExpression")return!0;if(r.type!=="ObjectProperty"&&!r.type.endsWith("Pattern"))break}}return!1}function V8(e){let t=e.length;for(;t--;){const n=e[t];if(n.type==="NewExpression")return!0;if(n.type!=="MemberExpression")break}return!1}function U8(e,t){for(const n of e.params)for(const r of Aa(n))t(r)}function W8(e,t){for(const n of e.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const r of n.declarations)for(const a of Aa(r.id))t(a)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;t(n.id)}else j8(n)&&H8(n,!0,t)}function j8(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function H8(e,t,n){const r=e.type==="ForStatement"?e.init:e.left;if(r&&r.type==="VariableDeclaration"&&(r.kind==="var"&&t))for(const a of r.declarations)for(const i of Aa(a.id))n(i)}function Aa(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;n.type==="MemberExpression";)n=n.object;t.push(n);break;case"ObjectPattern":for(const r of e.properties)r.type==="RestElement"?Aa(r.argument,t):Aa(r.value,t);break;case"ArrayPattern":e.elements.forEach(r=>{r&&Aa(r,t)});break;case"RestElement":Aa(e.argument,t);break;case"AssignmentPattern":Aa(e.left,t);break}return t}const z8=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),sC=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,G8=(e,t)=>sC(t)&&t.key===e,uC=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function lC(e){return uC.includes(e.type)?lC(e.expression):e}const Dn=e=>e.type===4&&e.isStatic;function cg(e){switch(e){case"Teleport":case"teleport":return Xo;case"Suspense":case"suspense":return fd;case"KeepAlive":case"keep-alive":return Su;case"BaseTransition":case"base-transition":return ng}}const K8=/^\d|[^\$\w\xA0-\uFFFF]/,sl=e=>!K8.test(e),q8=/[A-Za-z_$\xA0-\uFFFF]/,$8=/[\.\?\w$\xA0-\uFFFF]/,X8=/\s+[.[]\s*|\s*[.[]\s+/g,cC=e=>e.type===4?e.content:e.loc.source,fC=e=>{const t=cC(e).trim().replace(X8,s=>s.trim());let n=0,r=[],a=0,i=0,o=null;for(let s=0;s<t.length;s++){const u=t.charAt(s);switch(n){case 0:if(u==="[")r.push(n),n=1,a++;else if(u==="(")r.push(n),n=2,i++;else if(!(s===0?q8:$8).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(r.push(n),n=3,o=u):u==="["?a++:u==="]"&&(--a||(n=r.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")r.push(n),n=3,o=u;else if(u==="(")i++;else if(u===")"){if(s===t.length-1)return!1;--i||(n=r.pop())}break;case 3:u===o&&(n=r.pop(),o=null);break}}return!a&&!i},Y8=nn,fg=fC,J8=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,dC=e=>J8.test(cC(e)),Q8=nn,hC=dC;function Z8(e,t,n=t.length){return pC({offset:e.offset,line:e.line,column:e.column},t,n)}function pC(e,t,n=t.length){let r=0,a=-1;for(let i=0;i<n;i++)t.charCodeAt(i)===10&&(r++,a=i);return e.offset+=n,e.line+=r,e.column=a===-1?e.column+n:n-a,e}function ez(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function On(e,t,n=!1){for(let r=0;r<e.props.length;r++){const a=e.props[r];if(a.type===7&&(n||a.exp)&&(Fe(t)?a.name===t:t.test(a.name)))return a}}function ul(e,t,n=!1,r=!1){for(let a=0;a<e.props.length;a++){const i=e.props[a];if(i.type===6){if(n)continue;if(i.name===t&&(i.value||r))return i}else if(i.name==="bind"&&(i.exp||r)&&ri(i.arg,t))return i}}function ri(e,t){return!!(e&&Dn(e)&&e.content===t)}function mC(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Zl(e){return e.type===5||e.type===2}function dg(e){return e.type===7&&e.name==="slot"}function hs(e){return e.type===1&&e.tagType===3}function Iu(e){return e.type===1&&e.tagType===2}const tz=new Set([cs,Ss]);function vC(e,t=[]){if(e&&!Fe(e)&&e.type===14){const n=e.callee;if(!Fe(n)&&tz.has(n))return vC(e.arguments[0],t.concat(e))}return[e,t]}function Ru(e,t,n){let r,a=e.type===13?e.props:e.arguments[2],i=[],o;if(a&&!Fe(a)&&a.type===14){const s=vC(a);a=s[0],i=s[1],o=i[i.length-1]}if(a==null||Fe(a))r=cr([t]);else if(a.type===14){const s=a.arguments[0];!Fe(s)&&s.type===15?e1(t,s)||s.properties.unshift(t):a.callee===kd?r=Ft(n.helper(Au),[cr([t]),a]):a.arguments.unshift(cr([t])),!r&&(r=a)}else a.type===15?(e1(t,a)||a.properties.unshift(t),r=a):(r=Ft(n.helper(Au),[cr([t]),a]),o&&o.callee===Ss&&(o=i[i.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function e1(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(a=>a.key.type===4&&a.key.content===r)}return n}function ps(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function Tr(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const r=e.props[n];if(r.type===7&&(Tr(r.arg,t)||Tr(r.exp,t)))return!0}return e.children.some(n=>Tr(n,t));case 11:return Tr(e.source,t)?!0:e.children.some(n=>Tr(n,t));case 9:return e.branches.some(n=>Tr(n,t));case 10:return Tr(e.condition,t)?!0:e.children.some(n=>Tr(n,t));case 4:return!e.isStatic&&sl(e.content)&&!!t[e.content];case 8:return e.children.some(n=>st(n)&&Tr(n,t));case 5:case 12:return Tr(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function gC(e){return e.type===14&&e.callee===Cd?e.arguments[1].returns:e}const yC=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,bC={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Fo,isPreTag:Fo,isIgnoreNewlineTag:Fo,isCustomElement:Fo,onError:lg,onWarn:oC,comments:!1,prefixIdentifiers:!1};let it=bC,Nu=null,Ra="",pn=null,et=null,Ln="",wa=-1,Oi=-1,hg=0,ei=!1,Jp=null;const bt=[],Rt=new R8(bt,{onerr:ba,ontext(e,t){Bl(ln(e,t),e,t)},ontextentity(e,t,n){Bl(e,t,n)},oninterpolation(e,t){if(ei)return Bl(ln(e,t),e,t);let n=e+Rt.delimiterOpen.length,r=t-Rt.delimiterClose.length;for(;tr(Ra.charCodeAt(n));)n++;for(;tr(Ra.charCodeAt(r-1));)r--;let a=ln(n,r);a.includes("&")&&(a=it.decodeEntities(a,!1)),Qp({type:5,content:tc(a,!1,Ot(n,r)),loc:Ot(e,t)})},onopentagname(e,t){const n=ln(e,t);pn={type:1,tag:n,ns:it.getNamespace(n,bt[0],it.ns),tagType:0,props:[],children:[],loc:Ot(e-1,t),codegenNode:void 0}},onopentagend(e){n1(e)},onclosetag(e,t){const n=ln(e,t);if(!it.isVoidTag(n)){let r=!1;for(let a=0;a<bt.length;a++)if(bt[a].tag.toLowerCase()===n.toLowerCase()){r=!0,a>0&&ba(24,bt[0].loc.start.offset);for(let o=0;o<=a;o++){const s=bt.shift();ec(s,t,o<a)}break}r||ba(23,xC(e,60))}},onselfclosingtag(e){const t=pn.tag;pn.isSelfClosing=!0,n1(e),bt[0]&&bt[0].tag===t&&ec(bt.shift(),e)},onattribname(e,t){et={type:6,name:ln(e,t),nameLoc:Ot(e,t),value:void 0,loc:Ot(e)}},ondirname(e,t){const n=ln(e,t),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!ei&&r===""&&ba(26,e),ei||r==="")et={type:6,name:n,nameLoc:Ot(e,t),value:void 0,loc:Ot(e)};else if(et={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Ue("prop")]:[],loc:Ot(e)},r==="pre"){ei=Rt.inVPre=!0,Jp=pn;const a=pn.props;for(let i=0;i<a.length;i++)a[i].type===7&&(a[i]=dz(a[i]))}},ondirarg(e,t){if(e===t)return;const n=ln(e,t);if(ei)et.name+=n,Li(et.nameLoc,t);else{const r=n[0]!=="[";et.arg=tc(r?n:n.slice(1,-1),r,Ot(e,t),r?3:0)}},ondirmodifier(e,t){const n=ln(e,t);if(ei)et.name+="."+n,Li(et.nameLoc,t);else if(et.name==="slot"){const r=et.arg;r&&(r.content+="."+n,Li(r.loc,t))}else{const r=Ue(n,!0,Ot(e,t));et.modifiers.push(r)}},onattribdata(e,t){Ln+=ln(e,t),wa<0&&(wa=e),Oi=t},onattribentity(e,t,n){Ln+=e,wa<0&&(wa=t),Oi=n},onattribnameend(e){const t=et.loc.start.offset,n=ln(t,e);et.type===7&&(et.rawName=n),pn.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&ba(2,t)},onattribend(e,t){if(pn&&et){if(Li(et.loc,t),e!==0)if(Ln.includes("&")&&(Ln=it.decodeEntities(Ln,!0)),et.type===6)et.name==="class"&&(Ln=_C(Ln).trim()),e===1&&!Ln&&ba(13,t),et.value={type:2,content:Ln,loc:e===1?Ot(wa,Oi):Ot(wa-1,Oi+1)},Rt.inSFCRoot&&pn.tag==="template"&&et.name==="lang"&&Ln&&Ln!=="html"&&Rt.enterRCDATA(nf("</template"),0);else{let n=0;et.exp=tc(Ln,!1,Ot(wa,Oi),0,n),et.name==="for"&&(et.forParseResult=rz(et.exp));let r=-1;et.name==="bind"&&(r=et.modifiers.findIndex(a=>a.content==="sync"))>-1&&ds("COMPILER_V_BIND_SYNC",it,et.loc,et.rawName)&&(et.name="model",et.modifiers.splice(r,1))}(et.type!==7||et.name!=="pre")&&pn.props.push(et)}Ln="",wa=Oi=-1},oncomment(e,t){it.comments&&Qp({type:3,content:ln(e,t),loc:Ot(e-4,t+3)})},onend(){const e=Ra.length;for(let t=0;t<bt.length;t++)ec(bt[t],e-1),ba(24,bt[t].loc.start.offset)},oncdata(e,t){bt[0].ns!==0?Bl(ln(e,t),e,t):ba(1,e-9)},onprocessinginstruction(e){(bt[0]?bt[0].ns:it.ns)===0&&ba(21,e-1)}}),t1=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,nz=/^\(|\)$/g;function rz(e){const t=e.loc,n=e.content,r=n.match(yC);if(!r)return;const[,a,i]=r,o=(f,d,h=!1)=>{const m=t.start.offset+d,p=m+f.length;return tc(f,!1,Ot(m,p),0,h?1:0)},s={source:o(i.trim(),n.indexOf(i,a.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=a.trim().replace(nz,"").trim();const l=a.indexOf(u),c=u.match(t1);if(c){u=u.replace(t1,"").trim();const f=c[1].trim();let d;if(f&&(d=n.indexOf(f,l+u.length),s.key=o(f,d,!0)),c[2]){const h=c[2].trim();h&&(s.index=o(h,n.indexOf(h,s.key?d+f.length:l+u.length),!0))}}return u&&(s.value=o(u,l,!0)),s}function ln(e,t){return Ra.slice(e,t)}function n1(e){Rt.inSFCRoot&&(pn.innerLoc=Ot(e+1,e+1)),Qp(pn);const{tag:t,ns:n}=pn;n===0&&it.isPreTag(t)&&hg++,it.isVoidTag(t)?ec(pn,e):(bt.unshift(pn),(n===1||n===2)&&(Rt.inXML=!0)),pn=null}function Bl(e,t,n){{const i=bt[0]&&bt[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=it.decodeEntities(e,!1))}const r=bt[0]||Nu,a=r.children[r.children.length-1];a&&a.type===2?(a.content+=e,Li(a.loc,n)):r.children.push({type:2,content:e,loc:Ot(t,n)})}function ec(e,t,n=!1){n?Li(e.loc,xC(t,60)):Li(e.loc,az(t,62)+1),Rt.inSFCRoot&&(e.children.length?e.innerLoc.end=Qe({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Qe({},e.innerLoc.start),e.innerLoc.source=ln(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:a,children:i}=e;if(ei||(r==="slot"?e.tagType=2:r1(e)?e.tagType=3:oz(e)&&(e.tagType=1)),Rt.inRCDATA||(e.children=wC(i)),a===0&&it.isIgnoreNewlineTag(r)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}a===0&&it.isPreTag(r)&&hg--,Jp===e&&(ei=Rt.inVPre=!1,Jp=null),Rt.inXML&&(bt[0]?bt[0].ns:it.ns)===0&&(Rt.inXML=!1);{const o=e.props;if(!Rt.inSFCRoot&&Xi("COMPILER_NATIVE_TEMPLATE",it)&&e.tag==="template"&&!r1(e)){const u=bt[0]||Nu,l=u.children.indexOf(e);u.children.splice(l,1,...e.children)}const s=o.find(u=>u.type===6&&u.name==="inline-template");s&&ds("COMPILER_INLINE_TEMPLATE",it,s.loc)&&e.children.length&&(s.value={type:2,content:ln(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:s.loc})}}function az(e,t){let n=e;for(;Ra.charCodeAt(n)!==t&&n<Ra.length-1;)n++;return n}function xC(e,t){let n=e;for(;Ra.charCodeAt(n)!==t&&n>=0;)n--;return n}const iz=new Set(["if","else","else-if","for","slot"]);function r1({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&iz.has(t[n].name))return!0}return!1}function oz({tag:e,props:t}){if(it.isCustomElement(e))return!1;if(e==="component"||sz(e.charCodeAt(0))||cg(e)||it.isBuiltInComponent&&it.isBuiltInComponent(e)||it.isNativeTag&&!it.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const r=t[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(ds("COMPILER_IS_ON_ELEMENT",it,r.loc))return!0}}else if(r.name==="bind"&&ri(r.arg,"is")&&ds("COMPILER_IS_ON_ELEMENT",it,r.loc))return!0}return!1}function sz(e){return e>64&&e<91}const uz=/\r\n/g;function wC(e,t){const n=it.whitespace!=="preserve";let r=!1;for(let a=0;a<e.length;a++){const i=e[a];if(i.type===2)if(hg)i.content=i.content.replace(uz,`
`);else if(lz(i.content)){const o=e[a-1]&&e[a-1].type,s=e[a+1]&&e[a+1].type;!o||!s||n&&(o===3&&(s===3||s===1)||o===1&&(s===3||s===1&&cz(i.content)))?(r=!0,e[a]=null):i.content=" "}else n&&(i.content=_C(i.content))}return r?e.filter(Boolean):e}function lz(e){for(let t=0;t<e.length;t++)if(!tr(e.charCodeAt(t)))return!1;return!0}function cz(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function _C(e){let t="",n=!1;for(let r=0;r<e.length;r++)tr(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function Qp(e){(bt[0]||Nu).children.push(e)}function Ot(e,t){return{start:Rt.getPos(e),end:t==null?t:Rt.getPos(t),source:t==null?t:ln(e,t)}}function fz(e){return Ot(e.start.offset,e.end.offset)}function Li(e,t){e.end=Rt.getPos(t),e.source=ln(e.start.offset,t)}function dz(e){const t={type:6,name:e.rawName,nameLoc:Ot(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function tc(e,t=!1,n,r=0,a=0){return Ue(e,t,n,r)}function ba(e,t,n){it.onError(gt(e,Ot(t,t)))}function hz(){Rt.reset(),pn=null,et=null,Ln="",wa=-1,Oi=-1,bt.length=0}function pg(e,t){if(hz(),Ra=e,it=Qe({},bC),t){let a;for(a in t)t[a]!=null&&(it[a]=t[a])}Rt.mode=it.parseMode==="html"?1:it.parseMode==="sfc"?2:0,Rt.inXML=it.ns===1||it.ns===2;const n=t&&t.delimiters;n&&(Rt.delimiterOpen=nf(n[0]),Rt.delimiterClose=nf(n[1]));const r=Nu=rC([],e);return Rt.parse(Ra),r.loc=Ot(0,e.length),r.children=wC(r.children),Nu=null,r}function pz(e,t){nc(e,void 0,t,kC(e,e.children[0]))}function kC(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Iu(t)}function nc(e,t,n,r=!1,a=!1){const{children:i}=e,o=[];for(let c=0;c<i.length;c++){const f=i[c];if(f.type===1&&f.tagType===0){const d=r?0:Hn(f,n);if(d>0){if(d>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const h=f.codegenNode;if(h.type===13){const m=h.patchFlag;if((m===void 0||m===512||m===1)&&CC(f,n)>=2){const p=SC(f);p&&(h.props=n.hoist(p))}h.dynamicProps&&(h.dynamicProps=n.hoist(h.dynamicProps))}}}else if(f.type===12&&(r?0:Hn(f,n))>=2){o.push(f);continue}if(f.type===1){const d=f.tagType===1;d&&n.scopes.vSlot++,nc(f,e,n,!1,a),d&&n.scopes.vSlot--}else if(f.type===11)nc(f,e,n,f.children.length===1,!0);else if(f.type===9)for(let d=0;d<f.branches.length;d++)nc(f.branches[d],e,n,f.branches[d].children.length===1,a)}let s=!1;if(o.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&ve(e.codegenNode.children))e.codegenNode.children=u(ci(e.codegenNode.children)),s=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ve(e.codegenNode.children)&&e.codegenNode.children.type===15){const c=l(e.codegenNode,"default");c&&(c.returns=u(ci(c.returns)),s=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!ve(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=On(e,"slot",!0),f=c&&c.arg&&l(t.codegenNode,c.arg);f&&(f.returns=u(ci(f.returns)),s=!0)}}if(!s)for(const c of o)c.codegenNode=n.cache(c.codegenNode);function u(c){const f=n.cache(c);return a&&n.hmr&&(f.needArraySpread=!0),f}function l(c,f){if(c.children&&!ve(c.children)&&c.children.type===15){const d=c.children.properties.find(h=>h.key===f||h.key.content===f);return d&&d.value}}o.length&&n.transformHoist&&n.transformHoist(i,n,e)}function Hn(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const a=e.codegenNode;if(a.type!==13||a.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(a.patchFlag===void 0){let o=3;const s=CC(e,t);if(s===0)return n.set(e,0),0;s<o&&(o=s);for(let u=0;u<e.children.length;u++){const l=Hn(e.children[u],t);if(l===0)return n.set(e,0),0;l<o&&(o=l)}if(o>1)for(let u=0;u<e.props.length;u++){const l=e.props[u];if(l.type===7&&l.name==="bind"&&l.exp){const c=Hn(l.exp,t);if(c===0)return n.set(e,0),0;c<o&&(o=c)}}if(a.isBlock){for(let u=0;u<e.props.length;u++)if(e.props[u].type===7)return n.set(e,0),0;t.removeHelper(vi),t.removeHelper(io(t.inSSR,a.isComponent)),a.isBlock=!1,t.helper(ao(t.inSSR,a.isComponent))}return n.set(e,o),o}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Hn(e.content,t);case 4:return e.constType;case 8:let i=3;for(let o=0;o<e.children.length;o++){const s=e.children[o];if(Fe(s)||Pn(s))continue;const u=Hn(s,t);if(u===0)return 0;u<i&&(i=u)}return i;case 20:return 2;default:return 0}}const mz=new Set([wd,_d,cs,Ss]);function EC(e,t){if(e.type===14&&!Fe(e.callee)&&mz.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Hn(n,t);if(n.type===14)return EC(n,t)}return 0}function CC(e,t){let n=3;const r=SC(e);if(r&&r.type===15){const{properties:a}=r;for(let i=0;i<a.length;i++){const{key:o,value:s}=a[i],u=Hn(o,t);if(u===0)return u;u<n&&(n=u);let l;if(s.type===4?l=Hn(s,t):s.type===14?l=EC(s,t):l=0,l===0)return l;l<n&&(n=l)}}return n}function SC(e){const t=e.codegenNode;if(t.type===13)return t.props}function AC(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:a=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:s={},transformHoist:u=null,isBuiltInComponent:l=nn,isCustomElement:c=nn,expressionPlugins:f=[],scopeId:d=null,slotted:h=!0,ssr:m=!1,inSSR:p=!1,ssrCssVars:v="",bindingMetadata:g=Xe,inline:x=!1,isTS:y=!1,onError:b=lg,onWarn:w=oC,compatConfig:_}){const S=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:t,selfName:S&&pr(dt(S[1])),prefixIdentifiers:n,hoistStatic:r,hmr:a,cacheHandlers:i,nodeTransforms:o,directiveTransforms:s,transformHoist:u,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:f,scopeId:d,slotted:h,ssr:m,inSSR:p,ssrCssVars:v,bindingMetadata:g,inline:x,isTS:y,onError:b,onWarn:w,compatConfig:_,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(k){const E=C.helpers.get(k)||0;return C.helpers.set(k,E+1),k},removeHelper(k){const E=C.helpers.get(k);if(E){const T=E-1;T?C.helpers.set(k,T):C.helpers.delete(k)}},helperString(k){return`_${no[C.helper(k)]}`},replaceNode(k){C.parent.children[C.childIndex]=C.currentNode=k},removeNode(k){const E=C.parent.children,T=k?E.indexOf(k):C.currentNode?C.childIndex:-1;!k||k===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>T&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(T,1)},onNodeRemoved:nn,addIdentifiers(k){},removeIdentifiers(k){},hoist(k){Fe(k)&&(k=Ue(k)),C.hoists.push(k);const E=Ue(`_hoisted_${C.hoists.length}`,!1,k.loc,2);return E.hoisted=k,E},cache(k,E=!1,T=!1){const A=aC(C.cached.length,k,E,T);return C.cached.push(A),A}};return C.filters=new Set,C}function TC(e,t){const n=AC(e,t);ll(e,n),t.hoistStatic&&pz(e,n),t.ssr||vz(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function vz(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const a=r[0];if(kC(e,a)&&a.codegenNode){const i=a.codegenNode;i.type===13&&Sd(i,t),e.codegenNode=i}else e.codegenNode=a}else if(r.length>1){let a=64;e.codegenNode=fs(t,n(ls),void 0,e.children,a,void 0,void 0,!0,void 0,!1)}}function gz(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const a=e.children[n];Fe(a)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,ll(a,t))}}function ll(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let i=0;i<n.length;i++){const o=n[i](e,t);if(o&&(ve(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Cs);break;case 5:t.ssr||t.helper(ol);break;case 9:for(let i=0;i<e.branches.length;i++)ll(e.branches[i],t);break;case 10:case 11:case 1:case 0:gz(e,t);break}t.currentNode=e;let a=r.length;for(;a--;)r[a]()}function mg(e,t){const n=Fe(e)?r=>r===e:r=>e.test(r);return(r,a)=>{if(r.type===1){const{props:i}=r;if(r.tagType===3&&i.some(dg))return;const o=[];for(let s=0;s<i.length;s++){const u=i[s];if(u.type===7&&n(u.name)){i.splice(s,1),s--;const l=t(r,u,a);l&&o.push(l)}}return o}}}const Ad="/*@__PURE__*/",IC=e=>`${no[e]}: _${no[e]}`;function yz(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:a="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:s="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:c=!1,isTS:f=!1,inSSR:d=!1}){const h={mode:t,prefixIdentifiers:n,sourceMap:r,filename:a,scopeId:i,optimizeImports:o,runtimeGlobalName:s,runtimeModuleName:u,ssrRuntimeModuleName:l,ssr:c,isTS:f,inSSR:d,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(p){return`_${no[p]}`},push(p,v=-2,g){h.code+=p},indent(){m(++h.indentLevel)},deindent(p=!1){p?--h.indentLevel:m(--h.indentLevel)},newline(){m(h.indentLevel)}};function m(p){h.push(`
`+"  ".repeat(p),0)}return h}function RC(e,t={}){const n=yz(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:a,prefixIdentifiers:i,indent:o,deindent:s,newline:u,scopeId:l,ssr:c}=n,f=Array.from(e.helpers),d=f.length>0,h=!i&&r!=="module";bz(e,n);const p=c?"ssrRender":"render",g=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(a(`function ${p}(${g}) {`),o(),h&&(a("with (_ctx) {"),o(),d&&(a(`const { ${f.map(IC).join(", ")} } = _Vue
`,-1),u())),e.components.length&&(Ph(e.components,"component",n),(e.directives.length||e.temps>0)&&u()),e.directives.length&&(Ph(e.directives,"directive",n),e.temps>0&&u()),e.filters&&e.filters.length&&(u(),Ph(e.filters,"filter",n),u()),e.temps>0){a("let ");for(let x=0;x<e.temps;x++)a(`${x>0?", ":""}_temp${x}`)}return(e.components.length||e.directives.length||e.temps)&&(a(`
`,0),u()),c||a("return "),e.codegenNode?Sn(e.codegenNode,n):a("null"),h&&(s(),a("}")),s(),a("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function bz(e,t){const{ssr:n,prefixIdentifiers:r,push:a,newline:i,runtimeModuleName:o,runtimeGlobalName:s,ssrRuntimeModuleName:u}=t,l=s,c=Array.from(e.helpers);if(c.length>0&&(a(`const _Vue = ${l}
`,-1),e.hoists.length)){const f=[dd,hd,Cs,pd,ig].filter(d=>c.includes(d)).map(IC).join(", ");a(`const { ${f} } = _Vue
`,-1)}xz(e.hoists,t),i(),a("return ")}function Ph(e,t,{helper:n,push:r,newline:a,isTS:i}){const o=n(t==="filter"?yd:t==="component"?md:gd);for(let s=0;s<e.length;s++){let u=e[s];const l=u.endsWith("__self");l&&(u=u.slice(0,-6)),r(`const ${ps(u,t)} = ${o}(${JSON.stringify(u)}${l?", true":""})${i?"!":""}`),s<e.length-1&&a()}}function xz(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r}=t;r();for(let a=0;a<e.length;a++){const i=e[a];i&&(n(`const _hoisted_${a+1} = `),Sn(i,t),r())}t.pure=!1}function vg(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),cl(e,t,n),n&&t.deindent(),t.push("]")}function cl(e,t,n=!1,r=!0){const{push:a,newline:i}=t;for(let o=0;o<e.length;o++){const s=e[o];Fe(s)?a(s,-3):ve(s)?vg(s,t):Sn(s,t),o<e.length-1&&(n?(r&&a(","),i()):r&&a(", "))}}function Sn(e,t){if(Fe(e)){t.push(e,-3);return}if(Pn(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Sn(e.codegenNode,t);break;case 2:wz(e,t);break;case 4:NC(e,t);break;case 5:_z(e,t);break;case 12:Sn(e.codegenNode,t);break;case 8:OC(e,t);break;case 3:Ez(e,t);break;case 13:Cz(e,t);break;case 14:Az(e,t);break;case 15:Tz(e,t);break;case 17:Iz(e,t);break;case 18:Rz(e,t);break;case 19:Nz(e,t);break;case 20:Oz(e,t);break;case 21:cl(e.body,t,!0,!1);break}}function wz(e,t){t.push(JSON.stringify(e.content),-3,e)}function NC(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function _z(e,t){const{push:n,helper:r,pure:a}=t;a&&n(Ad),n(`${r(ol)}(`),Sn(e.content,t),n(")")}function OC(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Fe(r)?t.push(r,-3):Sn(r,t)}}function kz(e,t){const{push:n}=t;if(e.type===8)n("["),OC(e,t),n("]");else if(e.isStatic){const r=sl(e.content)?e.content:JSON.stringify(e.content);n(r,-2,e)}else n(`[${e.content}]`,-3,e)}function Ez(e,t){const{push:n,helper:r,pure:a}=t;a&&n(Ad),n(`${r(Cs)}(${JSON.stringify(e.content)})`,-3,e)}function Cz(e,t){const{push:n,helper:r,pure:a}=t,{tag:i,props:o,children:s,patchFlag:u,dynamicProps:l,directives:c,isBlock:f,disableTracking:d,isComponent:h}=e;let m;u&&(m=String(u)),c&&n(r(bd)+"("),f&&n(`(${r(vi)}(${d?"true":""}), `),a&&n(Ad);const p=f?io(t.inSSR,h):ao(t.inSSR,h);n(r(p)+"(",-2,e),cl(Sz([i,o,s,m,l]),t),n(")"),f&&n(")"),c&&(n(", "),Sn(c,t),n(")"))}function Sz(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function Az(e,t){const{push:n,helper:r,pure:a}=t,i=Fe(e.callee)?e.callee:r(e.callee);a&&n(Ad),n(i+"(",-2,e),cl(e.arguments,t),n(")")}function Tz(e,t){const{push:n,indent:r,deindent:a,newline:i}=t,{properties:o}=e;if(!o.length){n("{}",-2,e);return}const s=o.length>1||!1;n(s?"{":"{ "),s&&r();for(let u=0;u<o.length;u++){const{key:l,value:c}=o[u];kz(l,t),n(": "),Sn(c,t),u<o.length-1&&(n(","),i())}s&&a(),n(s?"}":" }")}function Iz(e,t){vg(e.elements,t)}function Rz(e,t){const{push:n,indent:r,deindent:a}=t,{params:i,returns:o,body:s,newline:u,isSlot:l}=e;l&&n(`_${no[Ed]}(`),n("(",-2,e),ve(i)?cl(i,t):i&&Sn(i,t),n(") => "),(u||s)&&(n("{"),r()),o?(u&&n("return "),ve(o)?vg(o,t):Sn(o,t)):s&&Sn(s,t),(u||s)&&(a(),n("}")),l&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function Nz(e,t){const{test:n,consequent:r,alternate:a,newline:i}=e,{push:o,indent:s,deindent:u,newline:l}=t;if(n.type===4){const f=!sl(n.content);f&&o("("),NC(n,t),f&&o(")")}else o("("),Sn(n,t),o(")");i&&s(),t.indentLevel++,i||o(" "),o("? "),Sn(r,t),t.indentLevel--,i&&l(),i||o(" "),o(": ");const c=a.type===19;c||t.indentLevel++,Sn(a,t),c||t.indentLevel--,i&&u(!0)}function Oz(e,t){const{push:n,helper:r,indent:a,deindent:i,newline:o}=t,{needPauseTracking:s,needArraySpread:u}=e;u&&n("[...("),n(`_cache[${e.index}] || (`),s&&(a(),n(`${r(Tu)}(-1`),e.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${e.index}] = `),Sn(e.value,t),s&&(n(`).cacheIndex = ${e.index},`),o(),n(`${r(Tu)}(1),`),o(),n(`_cache[${e.index}]`),i()),n(")"),u&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Dz=(e,t)=>{if(e.type===5)e.content=rc(e.content,t);else if(e.type===1){const n=On(e,"memo");for(let r=0;r<e.props.length;r++){const a=e.props[r];if(a.type===7&&a.name!=="for"){const i=a.exp,o=a.arg;i&&i.type===4&&!(a.name==="on"&&o)&&!(n&&o&&o.type===4&&o.content==="key")&&(a.exp=rc(i,t,a.name==="slot")),o&&o.type===4&&!o.isStatic&&(a.arg=rc(o,t))}}}};function rc(e,t,n=!1,r=!1,a=Object.create(t.identifiers)){return e}function DC(e){return Fe(e)?e:e.type===4?e.content:e.children.map(DC).join("")}const Pz=mg(/^(if|else|else-if)$/,(e,t,n)=>PC(e,t,n,(r,a,i)=>{const o=n.parent.children;let s=o.indexOf(r),u=0;for(;s-->=0;){const l=o[s];l&&l.type===9&&(u+=l.branches.length)}return()=>{if(i)r.codegenNode=i1(a,u,n);else{const l=Fz(r.codegenNode);l.alternate=i1(a,u+r.branches.length-1,n)}}}));function PC(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const a=t.exp?t.exp.loc:e.loc;n.onError(gt(28,t.loc)),t.exp=Ue("true",!1,a)}if(t.name==="if"){const a=a1(e,t),i={type:9,loc:fz(e.loc),branches:[a]};if(n.replaceNode(i),r)return r(i,a,!0)}else{const a=n.parent.children;let i=a.indexOf(e);for(;i-->=-1;){const o=a[i];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(gt(30,e.loc)),n.removeNode();const s=a1(e,t);o.branches.push(s);const u=r&&r(o,s,!1);ll(s,n),u&&u(),n.currentNode=null}else n.onError(gt(30,e.loc));break}}}function a1(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!On(e,"for")?e.children:[e],userKey:ul(e,"key"),isTemplateIf:n}}function i1(e,t,n){return e.condition?tf(e.condition,o1(e,t,n),Ft(n.helper(Cs),['""',"true"])):o1(e,t,n)}function o1(e,t,n){const{helper:r}=n,a=Nt("key",Ue(`${t}`,!1,Jt,2)),{children:i}=e,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const u=o.codegenNode;return Ru(u,a,n),u}else return fs(n,r(ls),cr([a]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const u=o.codegenNode,l=gC(u);return l.type===13&&Sd(l,n),Ru(l,a,n),u}}function Fz(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const FC=(e,t,n)=>{const{modifiers:r,loc:a}=e,i=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return n.onError(gt(52,i.loc)),{props:[Nt(i,Ue("",!0,a))]};MC(e),o=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),r.some(s=>s.content==="camel")&&(i.type===4?i.isStatic?i.content=dt(i.content):i.content=`${n.helperString(Zc)}(${i.content})`:(i.children.unshift(`${n.helperString(Zc)}(`),i.children.push(")"))),n.inSSR||(r.some(s=>s.content==="prop")&&s1(i,"."),r.some(s=>s.content==="attr")&&s1(i,"^")),{props:[Nt(i,o)]}},MC=(e,t)=>{const n=e.arg,r=dt(n.content);e.exp=Ue(r,!1,n.loc)},s1=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Mz=mg("for",(e,t,n)=>{const{helper:r,removeHelper:a}=n;return LC(e,t,n,i=>{const o=Ft(r(xd),[i.source]),s=hs(e),u=On(e,"memo"),l=ul(e,"key",!1,!0);l&&l.type===7&&!l.exp&&MC(l);let f=l&&(l.type===6?l.value?Ue(l.value.content,!0):void 0:l.exp);const d=l&&f?Nt("key",f):null,h=i.source.type===4&&i.source.constType>0,m=h?64:l?128:256;return i.codegenNode=fs(n,r(ls),void 0,o,m,void 0,void 0,!0,!h,!1,e.loc),()=>{let p;const{children:v}=i,g=v.length!==1||v[0].type!==1,x=Iu(e)?e:s&&e.children.length===1&&Iu(e.children[0])?e.children[0]:null;if(x?(p=x.codegenNode,s&&d&&Ru(p,d,n)):g?p=fs(n,r(ls),d?cr([d]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(p=v[0].codegenNode,s&&d&&Ru(p,d,n),p.isBlock!==!h&&(p.isBlock?(a(vi),a(io(n.inSSR,p.isComponent))):a(ao(n.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(vi),r(io(n.inSSR,p.isComponent))):r(ao(n.inSSR,p.isComponent))),u){const y=ro(rf(i.parseResult,[Ue("_cached")]));y.body=iC([_r(["const _memo = (",u.exp,")"]),_r(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(ug)}(_cached, _memo)) return _cached`]),_r(["const _item = ",p]),Ue("_item.memo = _memo"),Ue("return _item")]),o.arguments.push(y,Ue("_cache"),Ue(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(ro(rf(i.parseResult),p,!0))}})});function LC(e,t,n,r){if(!t.exp){n.onError(gt(31,t.loc));return}const a=t.forParseResult;if(!a){n.onError(gt(32,t.loc));return}gg(a);const{addIdentifiers:i,removeIdentifiers:o,scopes:s}=n,{source:u,value:l,key:c,index:f}=a,d={type:11,loc:t.loc,source:u,valueAlias:l,keyAlias:c,objectIndexAlias:f,parseResult:a,children:hs(e)?e.children:[e]};n.replaceNode(d),s.vFor++;const h=r&&r(d);return()=>{s.vFor--,h&&h()}}function gg(e,t){e.finalized||(e.finalized=!0)}function rf({value:e,key:t,index:n},r=[]){return Lz([e,t,n,...r])}function Lz(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Ue("_".repeat(r+1),!1))}const u1=Ue("undefined",!1),BC=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=On(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Bz=(e,t)=>{let n;if(hs(e)&&e.props.some(dg)&&(n=On(e,"for"))){const r=n.forParseResult;if(r){gg(r);const{value:a,key:i,index:o}=r,{addIdentifiers:s,removeIdentifiers:u}=t;return a&&s(a),i&&s(i),o&&s(o),()=>{a&&u(a),i&&u(i),o&&u(o)}}}},Vz=(e,t,n,r)=>ro(e,n,!1,!0,n.length?n[0].loc:r);function VC(e,t,n=Vz){t.helper(Ed);const{children:r,loc:a}=e,i=[],o=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const u=On(e,"slot",!0);if(u){const{arg:v,exp:g}=u;v&&!Dn(v)&&(s=!0),i.push(Nt(v||Ue("default",!0),n(g,void 0,r,a)))}let l=!1,c=!1;const f=[],d=new Set;let h=0;for(let v=0;v<r.length;v++){const g=r[v];let x;if(!hs(g)||!(x=On(g,"slot",!0))){g.type!==3&&f.push(g);continue}if(u){t.onError(gt(37,x.loc));break}l=!0;const{children:y,loc:b}=g,{arg:w=Ue("default",!0),exp:_,loc:S}=x;let C;Dn(w)?C=w?w.content:"default":s=!0;const k=On(g,"for"),E=n(_,k,y,b);let T,A;if(T=On(g,"if"))s=!0,o.push(tf(T.exp,Vl(w,E,h++),u1));else if(A=On(g,/^else(-if)?$/,!0)){let I=v,D;for(;I--&&(D=r[I],D.type===3););if(D&&hs(D)&&On(D,/^(else-)?if$/)){let M=o[o.length-1];for(;M.alternate.type===19;)M=M.alternate;M.alternate=A.exp?tf(A.exp,Vl(w,E,h++),u1):Vl(w,E,h++)}else t.onError(gt(30,A.loc))}else if(k){s=!0;const I=k.forParseResult;I?(gg(I),o.push(Ft(t.helper(xd),[I.source,ro(rf(I),Vl(w,E),!0)]))):t.onError(gt(32,k.loc))}else{if(C){if(d.has(C)){t.onError(gt(38,S));continue}d.add(C),C==="default"&&(c=!0)}i.push(Nt(w,E))}}if(!u){const v=(g,x)=>{const y=n(g,void 0,x,a);return t.compatConfig&&(y.isNonScopedSlot=!0),Nt("default",y)};l?f.length&&f.some(g=>UC(g))&&(c?t.onError(gt(39,f[0].loc)):i.push(v(void 0,f))):i.push(v(void 0,r))}const m=s?2:ac(e.children)?3:1;let p=cr(i.concat(Nt("_",Ue(m+"",!1))),a);return o.length&&(p=Ft(t.helper(sg),[p,ci(o)])),{slots:p,hasDynamicSlots:s}}function Vl(e,t,n){const r=[Nt("name",e),Nt("fn",t)];return n!=null&&r.push(Nt("key",Ue(String(n),!0))),cr(r)}function ac(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||ac(n.children))return!0;break;case 9:if(ac(n.branches))return!0;break;case 10:case 11:if(ac(n.children))return!0;break}}return!1}function UC(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():UC(e.content)}const WC=new WeakMap,jC=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:a}=e,i=e.tagType===1;let o=i?HC(e,t):`"${r}"`;const s=st(o)&&o.callee===vd;let u,l,c=0,f,d,h,m=s||o===Xo||o===fd||!i&&(r==="svg"||r==="foreignObject"||r==="math");if(a.length>0){const p=yg(e,t,void 0,i,s);u=p.props,c=p.patchFlag,d=p.dynamicPropNames;const v=p.directives;h=v&&v.length?ci(v.map(g=>zC(g,t))):void 0,p.shouldUseBlock&&(m=!0)}if(e.children.length>0)if(o===Su&&(m=!0,c|=1024),i&&o!==Xo&&o!==Su){const{slots:v,hasDynamicSlots:g}=VC(e,t);l=v,g&&(c|=1024)}else if(e.children.length===1&&o!==Xo){const v=e.children[0],g=v.type,x=g===5||g===8;x&&Hn(v,t)===0&&(c|=1),x||g===2?l=v:l=e.children}else l=e.children;d&&d.length&&(f=Wz(d)),e.codegenNode=fs(t,o,u,l,c===0?void 0:c,f,h,!!m,!1,i,e.loc)};function HC(e,t,n=!1){let{tag:r}=e;const a=Zp(r),i=ul(e,"is",!1,!0);if(i)if(a||Xi("COMPILER_IS_ON_ELEMENT",t)){let s;if(i.type===6?s=i.value&&Ue(i.value.content,!0):(s=i.exp,s||(s=Ue("is",!1,i.arg.loc))),s)return Ft(t.helper(vd),[s])}else i.type===6&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const o=cg(r)||t.isBuiltInComponent(r);return o?(n||t.helper(o),o):(t.helper(md),t.components.add(r),ps(r,"component"))}function yg(e,t,n=e.props,r,a,i=!1){const{tag:o,loc:s,children:u}=e;let l=[];const c=[],f=[],d=u.length>0;let h=!1,m=0,p=!1,v=!1,g=!1,x=!1,y=!1,b=!1;const w=[],_=E=>{l.length&&(c.push(cr(l1(l),s)),l=[]),E&&c.push(E)},S=()=>{t.scopes.vFor>0&&l.push(Nt(Ue("ref_for",!0),Ue("true")))},C=({key:E,value:T})=>{if(Dn(E)){const A=E.content,I=gi(A);if(I&&(!r||a)&&A.toLowerCase()!=="onclick"&&A!=="onUpdate:modelValue"&&!Ta(A)&&(x=!0),I&&Ta(A)&&(b=!0),I&&T.type===14&&(T=T.arguments[0]),T.type===20||(T.type===4||T.type===8)&&Hn(T,t)>0)return;A==="ref"?p=!0:A==="class"?v=!0:A==="style"?g=!0:A!=="key"&&!w.includes(A)&&w.push(A),r&&(A==="class"||A==="style")&&!w.includes(A)&&w.push(A)}else y=!0};for(let E=0;E<n.length;E++){const T=n[E];if(T.type===6){const{loc:A,name:I,nameLoc:D,value:M}=T;let L=!0;if(I==="ref"&&(p=!0,S()),I==="is"&&(Zp(o)||M&&M.content.startsWith("vue:")||Xi("COMPILER_IS_ON_ELEMENT",t)))continue;l.push(Nt(Ue(I,!0,D),Ue(M?M.content:"",L,M?M.loc:A)))}else{const{name:A,arg:I,exp:D,loc:M,modifiers:L}=T,W=A==="bind",V=A==="on";if(A==="slot"){r||t.onError(gt(40,M));continue}if(A==="once"||A==="memo"||A==="is"||W&&ri(I,"is")&&(Zp(o)||Xi("COMPILER_IS_ON_ELEMENT",t))||V&&i)continue;if((W&&ri(I,"key")||V&&d&&ri(I,"vue:before-update"))&&(h=!0),W&&ri(I,"ref")&&S(),!I&&(W||V)){if(y=!0,D)if(W){if(S(),_(),Xi("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(D);continue}c.push(D)}else _({type:14,loc:M,callee:t.helper(kd),arguments:r?[D]:[D,"true"]});else t.onError(gt(W?34:35,M));continue}W&&L.some(X=>X.content==="prop")&&(m|=32);const H=t.directiveTransforms[A];if(H){const{props:X,needRuntime:ae}=H(T,e,t);!i&&X.forEach(C),V&&I&&!Dn(I)?_(cr(X,s)):l.push(...X),ae&&(f.push(T),Pn(ae)&&WC.set(T,ae))}else b1(A)||(f.push(T),d&&(h=!0))}}let k;if(c.length?(_(),c.length>1?k=Ft(t.helper(Au),c,s):k=c[0]):l.length&&(k=cr(l1(l),s)),y?m|=16:(v&&!r&&(m|=2),g&&!r&&(m|=4),w.length&&(m|=8),x&&(m|=32)),!h&&(m===0||m===32)&&(p||b||f.length>0)&&(m|=512),!t.inSSR&&k)switch(k.type){case 15:let E=-1,T=-1,A=!1;for(let M=0;M<k.properties.length;M++){const L=k.properties[M].key;Dn(L)?L.content==="class"?E=M:L.content==="style"&&(T=M):L.isHandlerKey||(A=!0)}const I=k.properties[E],D=k.properties[T];A?k=Ft(t.helper(cs),[k]):(I&&!Dn(I.value)&&(I.value=Ft(t.helper(wd),[I.value])),D&&(g||D.value.type===4&&D.value.content.trim()[0]==="["||D.value.type===17)&&(D.value=Ft(t.helper(_d),[D.value])));break;case 14:break;default:k=Ft(t.helper(cs),[Ft(t.helper(Ss),[k])]);break}return{props:k,directives:f,patchFlag:m,dynamicPropNames:w,shouldUseBlock:h}}function l1(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const a=e[r];if(a.key.type===8||!a.key.isStatic){n.push(a);continue}const i=a.key.content,o=t.get(i);o?(i==="style"||i==="class"||gi(i))&&Uz(o,a):(t.set(i,a),n.push(a))}return n}function Uz(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=ci([e.value,t.value],e.loc)}function zC(e,t){const n=[],r=WC.get(e);r?n.push(t.helperString(r)):(t.helper(gd),t.directives.add(e.name),n.push(ps(e.name,"directive")));const{loc:a}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const i=Ue("true",!1,a);n.push(cr(e.modifiers.map(o=>Nt(o,i)),a))}return ci(n,e.loc)}function Wz(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function Zp(e){return e==="component"||e==="Component"}const jz=(e,t)=>{if(Iu(e)){const{children:n,loc:r}=e,{slotName:a,slotProps:i}=GC(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",a,"{}","undefined","true"];let s=2;i&&(o[2]=i,s=3),n.length&&(o[3]=ro([],n,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),o.splice(s),e.codegenNode=Ft(t.helper(og),o,r)}};function GC(e,t){let n='"default"',r;const a=[];for(let i=0;i<e.props.length;i++){const o=e.props[i];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=dt(o.name),a.push(o)));else if(o.name==="bind"&&ri(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const s=dt(o.arg.content);n=o.exp=Ue(s,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Dn(o.arg)&&(o.arg.content=dt(o.arg.content)),a.push(o)}if(a.length>0){const{props:i,directives:o}=yg(e,t,a,!1,!1);r=i,o.length&&t.onError(gt(36,o[0].loc))}return{slotName:n,slotProps:r}}const bg=(e,t,n,r)=>{const{loc:a,modifiers:i,arg:o}=e;!e.exp&&!i.length&&n.onError(gt(35,a));let s;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const d=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?Ui(dt(f)):`on:${f}`;s=Ue(d,!0,o.loc)}else s=_r([`${n.helperString(ef)}(`,o,")"]);else s=o,s.children.unshift(`${n.helperString(ef)}(`),s.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let l=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const f=fg(u),d=!(f||hC(u)),h=u.content.includes(";");(d||l&&f)&&(u=_r([`${d?"$event":"(...args)"} => ${h?"{":"("}`,u,h?"}":")"]))}let c={props:[Nt(s,u||Ue("() => {}",!1,a))]};return r&&(c=r(c)),l&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(f=>f.key.isHandlerKey=!0),c},Hz=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,a=!1;for(let i=0;i<n.length;i++){const o=n[i];if(Zl(o)){a=!0;for(let s=i+1;s<n.length;s++){const u=n[s];if(Zl(u))r||(r=n[i]=_r([o],o.loc)),r.children.push(" + ",u),n.splice(s,1),s--;else{r=void 0;break}}}}if(!(!a||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<n.length;i++){const o=n[i];if(Zl(o)||o.type===8){const s=[];(o.type!==2||o.content!==" ")&&s.push(o),!t.ssr&&Hn(o,t)===0&&s.push("1"),n[i]={type:12,content:o,loc:o.loc,codegenNode:Ft(t.helper(pd),s)}}}}},c1=new WeakSet,zz=(e,t)=>{if(e.type===1&&On(e,"once",!0))return c1.has(e)||t.inVOnce||t.inSSR?void 0:(c1.add(e),t.inVOnce=!0,t.helper(Tu),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0,!0))})},xg=(e,t,n)=>{const{exp:r,arg:a}=e;if(!r)return n.onError(gt(41,e.loc)),Ul();const i=r.loc.source.trim(),o=r.type===4?r.content:i,s=n.bindingMetadata[i];if(s==="props"||s==="props-aliased")return n.onError(gt(44,r.loc)),Ul();if(!o.trim()||!fg(r))return n.onError(gt(42,r.loc)),Ul();const u=a||Ue("modelValue",!0),l=a?Dn(a)?`onUpdate:${dt(a.content)}`:_r(['"onUpdate:" + ',a]):"onUpdate:modelValue";let c;const f=n.isTS?"($event: any)":"$event";c=_r([`${f} => ((`,r,") = $event)"]);const d=[Nt(u,e.exp),Nt(l,c)];if(e.modifiers.length&&t.tagType===1){const h=e.modifiers.map(p=>p.content).map(p=>(sl(p)?p:JSON.stringify(p))+": true").join(", "),m=a?Dn(a)?`${a.content}Modifiers`:_r([a,' + "Modifiers"']):"modelModifiers";d.push(Nt(m,Ue(`{ ${h} }`,!1,e.loc,2)))}return Ul(d)};function Ul(e=[]){return{props:e}}const Gz=/[\w).+\-_$\]]/,Kz=(e,t)=>{Xi("COMPILER_FILTERS",t)&&(e.type===5?af(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&af(n.exp,t)}))};function af(e,t){if(e.type===4)f1(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?f1(r,t):r.type===8?af(e,t):r.type===5&&af(r.content,t))}}function f1(e,t){const n=e.content;let r=!1,a=!1,i=!1,o=!1,s=0,u=0,l=0,c=0,f,d,h,m,p=[];for(h=0;h<n.length;h++)if(d=f,f=n.charCodeAt(h),r)f===39&&d!==92&&(r=!1);else if(a)f===34&&d!==92&&(a=!1);else if(i)f===96&&d!==92&&(i=!1);else if(o)f===47&&d!==92&&(o=!1);else if(f===124&&n.charCodeAt(h+1)!==124&&n.charCodeAt(h-1)!==124&&!s&&!u&&!l)m===void 0?(c=h+1,m=n.slice(0,h).trim()):v();else{switch(f){case 34:a=!0;break;case 39:r=!0;break;case 96:i=!0;break;case 40:l++;break;case 41:l--;break;case 91:u++;break;case 93:u--;break;case 123:s++;break;case 125:s--;break}if(f===47){let g=h-1,x;for(;g>=0&&(x=n.charAt(g),x===" ");g--);(!x||!Gz.test(x))&&(o=!0)}}m===void 0?m=n.slice(0,h).trim():c!==0&&v();function v(){p.push(n.slice(c,h).trim()),c=h+1}if(p.length){for(h=0;h<p.length;h++)m=qz(m,p[h],t);e.content=m,e.ast=void 0}}function qz(e,t,n){n.helper(yd);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${ps(t,"filter")}(${e})`;{const a=t.slice(0,r),i=t.slice(r+1);return n.filters.add(a),`${ps(a,"filter")}(${e}${i!==")"?","+i:i}`}}const d1=new WeakSet,$z=(e,t)=>{if(e.type===1){const n=On(e,"memo");return!n||d1.has(e)?void 0:(d1.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&Sd(r,t),e.codegenNode=Ft(t.helper(Cd),[n.exp,ro(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function KC(e){return[[zz,Pz,$z,Mz,Kz,jz,jC,BC,Hz],{on:bg,bind:FC,model:xg}]}function qC(e,t={}){const n=t.onError||lg,r=t.mode==="module";t.prefixIdentifiers===!0?n(gt(47)):r&&n(gt(48));const a=!1;t.cacheHandlers&&n(gt(49)),t.scopeId&&!r&&n(gt(50));const i=Qe({},t,{prefixIdentifiers:a}),o=Fe(e)?pg(e,i):e,[s,u]=KC();return TC(o,Qe({},i,{nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:Qe({},u,t.directiveTransforms||{})})),RC(o,i)}const Xz={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},$C=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const wg=Symbol(""),_g=Symbol(""),kg=Symbol(""),Eg=Symbol(""),of=Symbol(""),Cg=Symbol(""),Sg=Symbol(""),Ag=Symbol(""),Tg=Symbol(""),Ig=Symbol("");nC({[wg]:"vModelRadio",[_g]:"vModelCheckbox",[kg]:"vModelText",[Eg]:"vModelSelect",[of]:"vModelDynamic",[Cg]:"withModifiers",[Sg]:"withKeys",[Ag]:"vShow",[Tg]:"Transition",[Ig]:"TransitionGroup"});let Ao;function Yz(e,t=!1){return Ao||(Ao=document.createElement("div")),t?(Ao.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Ao.children[0].getAttribute("foo")):(Ao.innerHTML=e,Ao.textContent)}const Rg={parseMode:"html",isVoidTag:C1,isNativeTag:e=>_1(e)||k1(e)||E1(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Yz,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Tg;if(e==="TransitionGroup"||e==="transition-group")return Ig},getNamespace(e,t,n){let r=t?t.ns:n;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(a=>a.type===6&&a.name==="encoding"&&a.value!=null&&(a.value.content==="text/html"||a.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},XC=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Ue("style",!0,t.loc),exp:Jz(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Jz=(e,t)=>{const n=rm(e);return Ue(JSON.stringify(n),!1,t,3)};function Na(e,t){return gt(e,t)}const Qz={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Zz={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},e9=(e,t,n)=>{const{exp:r,loc:a}=e;return r||n.onError(Na(53,a)),t.children.length&&(n.onError(Na(54,a)),t.children.length=0),{props:[Nt(Ue("innerHTML",!0,a),r||Ue("",!0))]}},t9=(e,t,n)=>{const{exp:r,loc:a}=e;return r||n.onError(Na(55,a)),t.children.length&&(n.onError(Na(56,a)),t.children.length=0),{props:[Nt(Ue("textContent",!0),r?Hn(r,n)>0?r:Ft(n.helperString(ol),[r],a):Ue("",!0))]}},n9=(e,t,n)=>{const r=xg(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Na(58,e.arg.loc));const{tag:a}=t,i=n.isCustomElement(a);if(a==="input"||a==="textarea"||a==="select"||i){let o=kg,s=!1;if(a==="input"||i){const u=ul(t,"type");if(u){if(u.type===7)o=of;else if(u.value)switch(u.value.content){case"radio":o=wg;break;case"checkbox":o=_g;break;case"file":s=!0,n.onError(Na(59,e.loc));break}}else mC(t)&&(o=of)}else a==="select"&&(o=Eg);s||(r.needRuntime=n.helper(o))}else n.onError(Na(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},r9=on("passive,once,capture"),a9=on("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),i9=on("left,right"),YC=on("onkeyup,onkeydown,onkeypress"),o9=(e,t,n,r)=>{const a=[],i=[],o=[];for(let s=0;s<t.length;s++){const u=t[s].content;u==="native"&&ds("COMPILER_V_ON_NATIVE",n)||r9(u)?o.push(u):i9(u)?Dn(e)?YC(e.content.toLowerCase())?a.push(u):i.push(u):(a.push(u),i.push(u)):a9(u)?i.push(u):a.push(u)}return{keyModifiers:a,nonKeyModifiers:i,eventOptionModifiers:o}},h1=(e,t)=>Dn(e)&&e.content.toLowerCase()==="onclick"?Ue(t,!0):e.type!==4?_r(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,s9=(e,t,n)=>bg(e,t,n,r=>{const{modifiers:a}=e;if(!a.length)return r;let{key:i,value:o}=r.props[0];const{keyModifiers:s,nonKeyModifiers:u,eventOptionModifiers:l}=o9(i,a,n,e.loc);if(u.includes("right")&&(i=h1(i,"onContextmenu")),u.includes("middle")&&(i=h1(i,"onMouseup")),u.length&&(o=Ft(n.helper(Cg),[o,JSON.stringify(u)])),s.length&&(!Dn(i)||YC(i.content.toLowerCase()))&&(o=Ft(n.helper(Sg),[o,JSON.stringify(s)])),l.length){const c=l.map(pr).join("");i=Dn(i)?Ue(`${i.content}${c}`,!0):_r(["(",i,`) + "${c}"`])}return{props:[Nt(i,o)]}}),u9=(e,t,n)=>{const{exp:r,loc:a}=e;return r||n.onError(Na(61,a)),{props:[],needRuntime:n.helper(Ag)}},l9=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},JC=[XC],QC={cloak:$C,html:e9,text:t9,model:n9,on:s9,show:u9};function c9(e,t={}){return qC(e,Qe({},Rg,t,{nodeTransforms:[l9,...JC,...t.nodeTransforms||[]],directiveTransforms:Qe({},QC,t.directiveTransforms||{}),transformHoist:null}))}function f9(e,t={}){return pg(e,Qe({},Rg,t))}const d9=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:ng,BindingTypes:Xz,CAMELIZE:Zc,CAPITALIZE:J2,CREATE_BLOCK:rg,CREATE_COMMENT:Cs,CREATE_ELEMENT_BLOCK:ag,CREATE_ELEMENT_VNODE:hd,CREATE_SLOTS:sg,CREATE_STATIC:ig,CREATE_TEXT:pd,CREATE_VNODE:dd,CompilerDeprecationTypes:N8,ConstantTypes:k8,DOMDirectiveTransforms:QC,DOMErrorCodes:Qz,DOMErrorMessages:Zz,DOMNodeTransforms:JC,ElementTypes:_8,ErrorCodes:P8,FRAGMENT:ls,GUARD_REACTIVE_PROPS:Ss,IS_MEMO_SAME:ug,IS_REF:tC,KEEP_ALIVE:Su,MERGE_PROPS:Au,NORMALIZE_CLASS:wd,NORMALIZE_PROPS:cs,NORMALIZE_STYLE:_d,Namespaces:x8,NodeTypes:w8,OPEN_BLOCK:vi,POP_SCOPE_ID:Z2,PUSH_SCOPE_ID:Q2,RENDER_LIST:xd,RENDER_SLOT:og,RESOLVE_COMPONENT:md,RESOLVE_DIRECTIVE:gd,RESOLVE_DYNAMIC_COMPONENT:vd,RESOLVE_FILTER:yd,SET_BLOCK_TRACKING:Tu,SUSPENSE:fd,TELEPORT:Xo,TO_DISPLAY_STRING:ol,TO_HANDLERS:kd,TO_HANDLER_KEY:ef,TRANSITION:Tg,TRANSITION_GROUP:Ig,TS_NODE_TYPES:uC,UNREF:eC,V_MODEL_CHECKBOX:_g,V_MODEL_DYNAMIC:of,V_MODEL_RADIO:wg,V_MODEL_SELECT:Eg,V_MODEL_TEXT:kg,V_ON_WITH_KEYS:Sg,V_ON_WITH_MODIFIERS:Cg,V_SHOW:Ag,WITH_CTX:Ed,WITH_DIRECTIVES:bd,WITH_MEMO:Cd,advancePositionWithClone:Z8,advancePositionWithMutation:pC,assert:ez,baseCompile:qC,baseParse:pg,buildDirectiveArgs:zC,buildProps:yg,buildSlots:VC,checkCompatEnabled:ds,compile:c9,convertToBlock:Sd,createArrayExpression:ci,createAssignmentExpression:A8,createBlockStatement:iC,createCacheExpression:aC,createCallExpression:Ft,createCompilerError:gt,createCompoundExpression:_r,createConditionalExpression:tf,createDOMCompilerError:Na,createForLoopParams:rf,createFunctionExpression:ro,createIfStatement:S8,createInterpolation:E8,createObjectExpression:cr,createObjectProperty:Nt,createReturnStatement:I8,createRoot:rC,createSequenceExpression:T8,createSimpleExpression:Ue,createStructuralDirectiveTransform:mg,createTemplateLiteral:C8,createTransformContext:AC,createVNodeCall:fs,errorMessages:F8,extractIdentifiers:Aa,findDir:On,findProp:ul,forAliasRE:yC,generate:RC,generateCodeFrame:x1,getBaseTransformPreset:KC,getConstantType:Hn,getMemoedVNodeCall:gC,getVNodeBlockHelper:io,getVNodeHelper:ao,hasDynamicKeyVBind:mC,hasScopeRef:Tr,helperNameMap:no,injectProp:Ru,isCoreComponent:cg,isFnExpression:hC,isFnExpressionBrowser:dC,isFnExpressionNode:Q8,isFunctionType:z8,isInDestructureAssignment:B8,isInNewExpression:V8,isMemberExpression:fg,isMemberExpressionBrowser:fC,isMemberExpressionNode:Y8,isReferencedIdentifier:L8,isSimpleIdentifier:sl,isSlotOutlet:Iu,isStaticArgOf:ri,isStaticExp:Dn,isStaticProperty:sC,isStaticPropertyKey:G8,isTemplateNode:hs,isText:Zl,isVSlot:dg,locStub:Jt,noopDirectiveTransform:$C,parse:f9,parserOptions:Rg,processExpression:rc,processFor:LC,processIf:PC,processSlotOutlet:GC,registerRuntimeHelpers:nC,resolveComponentType:HC,stringifyExpression:DC,toValidAssetId:ps,trackSlotScopes:BC,trackVForSlotScopes:Bz,transform:TC,transformBind:FC,transformElement:jC,transformExpression:Dz,transformModel:xg,transformOn:bg,transformStyle:XC,traverseNode:ll,unwrapTSNode:lC,walkBlockDeclarations:W8,walkFunctionParams:U8,walkIdentifiers:M8,warnDeprecation:D8},Symbol.toStringTag,{value:"Module"})),h9=qf(d9),p9=qf($I),m9=qf(LS);/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var p1;function v9(){return p1||(p1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=h9,n=p9,r=m9;function a(u){var l=Object.create(null);if(u)for(var c in u)l[c]=u[c];return l.default=u,Object.freeze(l)}var i=a(n);const o=Object.create(null);function s(u,l){if(!r.isString(u))if(u.nodeType)u=u.innerHTML;else return r.NOOP;const c=r.genCacheKey(u,l),f=o[c];if(f)return f;if(u[0]==="#"){const p=document.querySelector(u);u=p?p.innerHTML:""}const d=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},l);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=p=>!!customElements.get(p));const{code:h}=t.compile(u,d),m=new Function("Vue",h)(i);return m._rc=!0,o[c]=m}n.registerRuntimeCompiler(s),e.compile=s,Object.keys(n).forEach(function(u){u!=="default"&&!Object.prototype.hasOwnProperty.call(e,u)&&(e[u]=n[u])})}(Dh)),Dh}var m1;function g9(){return m1||(m1=1,Oh.exports=v9()),Oh.exports}var v1;function y9(){if(v1)return Ar;v1=1;var e=Ar&&Ar.__awaiter||function(c,f,d,h){function m(p){return p instanceof d?p:new d(function(v){v(p)})}return new(d||(d=Promise))(function(p,v){function g(b){try{y(h.next(b))}catch(w){v(w)}}function x(b){try{y(h.throw(b))}catch(w){v(w)}}function y(b){b.done?p(b.value):m(b.value).then(g,x)}y((h=h.apply(c,f||[])).next())})},t=Ar&&Ar.__generator||function(c,f){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,v;return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(y){return function(b){return x([y,b])}}function x(y){if(h)throw new TypeError("Generator is already executing.");for(;d;)try{if(h=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return d.label++,{value:y[1],done:!1};case 5:d.label++,m=y[1],y=[0];continue;case 7:y=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){d=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){d.label=y[1];break}if(y[0]===6&&d.label<p[1]){d.label=p[1],p=y;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(y);break}p[2]&&d.ops.pop(),d.trys.pop();continue}y=f.call(c,d)}catch(b){y=[6,b],m=0}finally{h=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.useReCaptcha=Ar.VueReCaptcha=void 0;var n=b8(),r=g9(),a=Symbol("VueReCaptchaInjectKey"),i={loadedWaiters:[],error:null};Ar.VueReCaptcha={install:function(c,f){var d=r.ref(!1),h=r.ref(void 0);c.config.globalProperties.$recaptchaLoaded=u(d),s(f).then(function(m){d.value=!0,h.value=m,c.config.globalProperties.$recaptcha=l(h),c.config.globalProperties.$recaptchaInstance=h,i.loadedWaiters.forEach(function(p){return p.resolve(!0)})}).catch(function(m){i.error=m,i.loadedWaiters.forEach(function(p){return p.reject(m)})}),c.provide(a,{instance:h,isLoaded:d,executeRecaptcha:l(h),recaptchaLoaded:u(d)})}};function o(){return r.inject(a)}Ar.useReCaptcha=o;function s(c){return e(this,void 0,void 0,function(){return t(this,function(f){switch(f.label){case 0:return[4,n.load(c.siteKey,c.loaderOptions)];case 1:return[2,f.sent()]}})})}function u(c){return function(){return new Promise(function(f,d){if(i.error!==null)return d(i.error);if(c.value)return f(!0);i.loadedWaiters.push({resolve:f,reject:d})})}}function l(c){var f=this;return function(d){return e(f,void 0,void 0,function(){var h;return t(this,function(m){switch(m.label){case 0:return[4,(h=c.value)===null||h===void 0?void 0:h.execute(d)];case 1:return[2,m.sent()]}})})}}return Ar}var b9=y9();const x9=tS({__proto__:null},[b9]),w9=u_(),Td=gc(uO);Td.use(fM,{property:{id:"G-P02PTK5EM2"},isEnabled:!0,appName:"Krawd",pageTrackerScreenviewEnabled:!0},X2);Td.use(w9);Td.use(X2);Td.mount("#app")});export default _9();
